# for emacs: -*- mode: sh; -*-

#  This file is a record of building the Ensembl gene track for all UCSC
#	genome browsers.  The end of this file has a historical record of
#	Robert's experiments with an automated process.
#
############################################################################
# ensembl 104 update (DONE - 2021-05-11 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2021-06-02 - Hiram)
     # next time, this first one will be 104 at 'may2021'
     hgsql -e \
'update trackVersion set dateReference="aug2020" where name="ensGene" AND version="101";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="104";' hgFixed

# Prepare for asmEquivalent construction
  cd /cluster/home/hiram/kent/src/hg/utils/automation
  ./findEnsFtpNames.sh  104
  # constructs files:
# -rw-rw-r-- 1   149366 May 11 09:50 release.104.gtf.ls-lR
# -rw-rw-r-- 1    22739 May 11 09:50 release.104.gtf.names
# -rw-rw-r-- 1 10922563 May 11 09:52 release.104.MySQL.ls-lR
# -rw-rw-r-- 1    12686 May 11 09:52 release.104.MySQL.names
# -rw-rw-r-- 1  2173791 May 11 09:52 release.104.fasta.ls-lR
# -rw-rw-r-- 1    25090 May 11 09:52 release.104.fasta.names

  mkdir /hive/data/outside/ensembl/genomes/release-104
  cd /hive/data/outside/ensembl/genomes/release-104
  sed -e 's/103/104/;' ../release-103/fromPepNames.sh > fromPepNames.sh
  ./fromPepNames.sh > dnaTopLevel.list
  wc -l *.list
  # 310 dnaTopLevel.list
  diff dnaTopLevel.list ../release-103/dnaTopLevel.list
# 104c104
# < ficedula_albicollis/dna/Ficedula_albicollis.FicAlb1.5.dna.toplevel.fa.gz
# ---
# > ficedula_albicollis/dna/Ficedula_albicollis.FicAlb_1.4.dna.toplevel.fa.gz
# 259c259
# < scophthalmus_maximus/dna/Scophthalmus_maximus.ASM1334776v1.dna.toplevel.fa.gz
# ---
# > scophthalmus_maximus/dna/Scophthalmus_maximus.ASM318616v1.dna.toplevel.fa.gz

  sed -e 's/103/104/; s/101/103/;' ../release-103/fetch.sh > fetch.sh
  time (./fetch.sh) >> fetch.log 2>&1



############################################################################
# ensembl 103 update (DONE - 2021-03-12 - Hiram)
############################################################################
# The asmEquivalent table needs to be brought up to date first
# following the instructions in: assemblyEquivalence/update.2021-03-10.txt
# to perform that update

############################################################################
# ensembl 101 update (DONE - 2020-08-31 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2020-09-01 - Hiram)
     # next time, this first one will be 101 at 'aug2020'
     hgsql -e \
'update trackVersion set dateReference="jan2020" where name="ensGene" AND version="99";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="101";' hgFixed

# follow the procedure in assemblyEquivalence/update.2020-08-31.txt
# to construct equivalence listings.  After that is completed and
# the hgFixed.asmEquivalent table is reloaded, continue here:

  mkdir /hive/data/outside/ensembl/ensGene/v101
  cd /hive/data/outside/ensembl/ensGene/v101

  hgsql -N -e 'select destination,source from asmEquivalent where sourceAuthority="ensembl";' hgFixed > ensembl.equivalents.asm.list

# perl scripts to construct the listings for EnsGeneAutomate.pm
############################################################################
### ensGeneGtfFileNames_101
############################################################################
#!/usr/bin/env perl

use strict;
use warnings;

my $ensVer="101";

printf "my %%ensGeneGtfFileNames_%s = (\n", $ensVer;

open (FH, "<ensembl.equivalents.asm.list") or die "can not read ensembl.equivalents.asm.list";
while (my $line = <FH>) {
  chomp $line;
  my ($equiv, $ensName) = split('\s+', $line);
  my ($ensSpecies, undef) = split('\.', $ensName, 2);
  printf "'%s' => '%s/%s.%s.gtf.gz',\n", $equiv, lc($ensSpecies), $ensName, $ensVer;
}
close (FH);
printf ");\n";

############################################################################
### ensGeneFtpPeptideFileNames_101
############################################################################
#!/usr/bin/env perl

use strict;
use warnings;

my $ensVer="101";

printf "my %%ensGeneFtpPeptideFileNames_%s = (\n", $ensVer;

open (FH, "<ensembl.equivalents.asm.list") or die "can not read ensembl.equivalents.asm.list";
while (my $line = <FH>) {
  chomp $line;
  my ($equiv, $ensName) = split('\s+', $line);
  my ($ensSpecies, undef) = split('\.', $ensName, 2);
  printf "'%s' => '%s/pep/%s.pep.all.fa.gz',\n", $equiv, lc($ensSpecies), $ensName;
}
close (FH);
printf ");\n";

############################################################################
### ensGeneGtfFileNames_101
############################################################################
#!/bin/bash

export ensVer="101"


awk '{print $NF}' /cluster/home/hiram/kent/src/hg/utils/automation/release.101.MySQL.names | sed -e "s/'//g; s/,//g;" | while read L
do
  species=`echo $L | sed -e 's/_core_101_.*//;'`
  printf "%s\t%s\n" "${species}" "${L}"
done | sort > species.ensMySQL.txt

./mySqlFileNames.pl | sort > species.MySql.equiv.txt

printf "my %%ensGeneFtpMySqlFileNames_%s = (\n" "${ensVer}"

join -t$'\t' species.MySql.equiv.txt species.ensMySQL.txt \
  | cut -d$'\t' -f2,4 | tr '\t' "'" | sed -e "s/$/',/;"

printf ");\n"

############################################################################
### mySqlFileNames.pl
############################################################################
#!/usr/bin/env perl

use strict;
use warnings;

my $ensVer="101";

open (FH, "<ensembl.equivalents.asm.list") or die "can not read ensembl.equivalents.asm.list";
while (my $line = <FH>) {
  chomp $line;
  my ($equiv, $ensName) = split('\s+', $line);
  my ($ensSpecies, undef) = split('\.', $ensName, 2);
  printf "%s\t'%s' => \t'%s_core_%s_x',\n", lc($ensSpecies), $equiv, lc($ensSpecies), $ensVer;
}
close (FH);

### Add the output of those scripts to EnsGeneAutomate.pm
### can not run the update on all the databases
cd /hive/data/outside/ensembl/ensGene/v101

ensVersions 101 2>&1 | grep -v "NOT FOUND"  | grep "ensembl:101" \
   | cut -f1 | sed -e "s/UCSC://; s/://;" \
     | sort -u > ens.101.update.list

sed -e 's#^#./runOne ##;' ens.101.update.list > jobList

############################################################################
### runOne - script to run a single update give a database name
############################################################################
#!/bin/bash

# set -beEu -o pipefail

export ensVer=101

export db=$1
cd /hive/data/genomes/$db

export rc=0

if [ ! -s "bed/ensGene.${ensVer}/doCleanup.csh" ]; then
~/kent/src/hg/utils/automation/doEnsGeneUpdate.pl -ensVersion=${ensVer} \
   $db.ensGene.ra >> ensGene.${ensVer}.log 2>&1
rc=$?

cp -p ensGene.${ensVer}.log /hive/data/outside/ensembl/ensGene/v${ensVer}/${db}.${ensVer}.log
fi

exit $rc
############################################################################
### running v101 update given jobList
time ($HOME/kent/src/hg/utils/automation/perlPara.pl 3 jobList) \
   > do.all.log 2>&1

### catch up with the failed ones.
### New ones will need /hive/data/genomes/db/db.ensGene.ra files
### There were very few failures, a couple needed updated db.ensGene.ra
### files.

 ../checkStatus.sh | grep -v "ALL DONE"

### To create a new ensGene.ra file, for example:
cd /hive/data/genomes/rheMac10/jkStuff

############################################################################
### create ensToUcsc.lift file
############################################################################
#!/bin/bash

export db="rheMac10"
export ensSpec="Macaca_mulatta"
export ensAsmId="Macaca_mulatta.Mmul_10"
export ensVer="101"

join -t$'\t' ../bed/idKeys/$db.idKeys.txt \
/hive/data/outside/ensembl/genomes/release-$ensVer/idKeys/$ensSpec/$ensAsmId.idKeys.txt | cut -f2- | sort \
   | join -t$'\t' - <(sort -k1,1 ../chrom.sizes) \
     | awk -F$'\t' '{printf "0\t%s\t%d\t%s\t%d\n", $2, $3, $1, $3}' \
       > ensToUcsc.lift

wc -l ensToUcsc.lift ../chrom.sizes /hive/data/outside/ensembl/genomes/release-$ensVer/idKeys/$ensSpec/$ensAsmId.idKeys.txt

join -v 2 -t$'\t' ../bed/idKeys/$db.idKeys.txt \
/hive/data/outside/ensembl/genomes/release-$ensVer/idKeys/$ensSpec/$ensAsmId.idKeys.txt > missing.ens.key

if [ ! -s "missing.ens.key" ]; then
  rm -f missing.ens.key
fi

join -v 1 -t$'\t' ../bed/idKeys/$db.idKeys.txt \
/hive/data/outside/ensembl/genomes/release-$ensVer/idKeys/$ensSpec/$ensAsmId.idKeys.txt > not.in.ensembl

if [ ! -s "not.in.ensembl" ]; then
  rm -f not.in.ensembl
fi

exit $?
############################################################################
### with that lift file available, the ensGene.ra file is simple:

# required db variable
db rheMac10
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/rheMac10/jkStuff/ensToUcsc.lift

### A few of those need nameTranslation statements, for example
### when Ensembl has MT sequence and UCSC does not: (cypVar1)
nameTranslation "/^MT/d"

### Or when duplicate contig sequences have been removed for UCSC browser but
### not from Ensembl browser (neoBri1)
nameTranslation "/^AFNY01109447.1/d; /^AFNY01112426.1/d; /^AFNY01112506.1/d; /^AFNY01113168.1/d; /^AFNY01115143.1/d; /^AFNY01115946.1/d; /^AFNY01116005.1/d; /^AFNY01116240.1/d; /^AFNY01116596.1/d; /^AFNY01116867.1/d; /^AFNY01117023.1/d; /^AFNY01117181.1/d; /^AFNY01117703.1/d; /^AFNY01118026.1/d; /^AFNY01118029.1/d; /^AFNY01118041.1/d;"

############################################################################
############################################################################
############################################################################
# ensembl 99 update (DONE - 2020-02-13 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2020-02-13 - Hiram)
     # next time, this first one will be 99 at 'jan2020'
     hgsql -e \
'update trackVersion set dateReference="jan2019" where name="ensGene" AND version="95";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="99";' hgFixed

################
This process is currently in progress.  What is documented here is
the set of genes that go to RR active genome browsers.  There are many
more annotations in this release (269 species).  Procedures to place
the gene annotations on the assembly hubs are in development.

To construct a correspondence between Ensembl release and what we have here:

################
1. download all the Ensembl toplevel.fa fasta files:
  mkdir /hive/data/outside/ensembl/genomes/release-99
  cd /hive/data/outside/ensembl/genomes/release-99
  # this list: dna.toplevel.list was constructed from a scan of the FTP
  # server at Ensembl.  For example:
# caenorhabditis_elegans/dna/Caenorhabditis_elegans.WBcel235.dna.toplevel.fa.gz
  # Using that list:

mkdir -p fasta

for L in `cat dna.toplevel.list`
do
  speciesDir=`echo $L | cut -d/ -f1`
  SpeciesDir="${speciesDir^}"
  echo rsync -av --stats \"rsync://ftp.ensembl.org/ensembl/pub/release-99/fasta/${L}\" \"./fasta/${SpeciesDir}/\"
  rsync -av --stats "rsync://ftp.ensembl.org/ensembl/pub/release-99/fasta/${L}" "./fasta/${SpeciesDir}/"
done

# that rsync loop actually took over 100 hours to complete:

# real    6665m30.366s
# user    14m23.629s
# sys     14m30.819s

# very slow transfer rate from there to here

################
2. With those fasta files on site, construct the 'idKeys' files for
   them all  (this process was carried out in parallel to the download)

   mkdir /hive/data/outside/ensembl/genomes/release-99/idKeys
   cd /hive/data/outside/ensembl/genomes/release-99/idKeys

Using this script 'runOne'
################
#!/bin/bash

set -beEu -o pipefail

export TOP="/hive/data/outside/ensembl/genomes/release-99/idKeys"
export fastaDir=$1

export faFile=`ls ../fasta/$fastaDir/*.toplevel.fa.gz 2> /dev/null`

if [ -s "${faFile}" ]; then
  B=`basename $faFile | sed -e "s/.dna.toplevel.fa.gz//;"`
  printf "# %s\n" "${faFile}"
  mkdir -p "${fastaDir}"
  cd "${TOP}/${fastaDir}"
  printf "### %s #####################\n" "`date \"+%s %F %T\"`" >> do.log 2>&1
  printf "#!/bin/bash\nset -beEu -o pipefail\n" > run.sh
  printf "cd %s\n" "`pwd`" >> run.sh
  printf "doIdKeys.pl -buildDir=\`pwd\` -twoBit=\`pwd\`/${B}.2bit \"${B}\"\n" >> run.sh
  chmod +x run.sh
  if [ ! -s "${B}.2bit" ]; then
    printf "faToTwoBit \"../${faFile}\" \"${B}.2bit\"\n" >> do.log 2>&1
    time (faToTwoBit "../${faFile}" "${B}.2bit") >> do.log 2>&1
  fi
  if [ ! -s "${B}.keySignature.txt" ]; then
    time (./run.sh) >> do.log 2>&1
  else
    printf "# already completed\n" >> do.log
  fi
fi

exit $?
################
Contruct a 'jobList with the list of species names from
the downloaded fasta directory:
:
  ls ../fasta | sed -e 's#^#./runOne #;' > jobList
  # run those jobs with the perlPara.pl script:
  time (./perlPara.pl 4 jobList) > do.log
  # (these were actually run in parallel as the download took place,
  #  the jobList just became longer as the files accumulated.)
# -rw-rw-r-- 1 19860 Jan 18 07:25 firstRun.log
# -rw-rw-r-- 1 34257 Jan 18 16:38 secondRun.log
# -rw-rw-r-- 1 60650 Jan 20 01:28 thirdRun.log
# -rw-rw-r-- 1 73433 Jan 20 20:24 fourthRun.log
# -rw-rw-r-- 1 90227 Jan 21 22:03 fifthRun.log
# firstRun.log:real       1061m39.548s
# secondRun.log:real      531m37.495s
# thirdRun.log:real       612m1.683s
# fourthRun.log:real      872m24.571s
# fifthRun.log:real       700m29.159s

################
The process of matching the idKeys took place in:

mkdir /hive/data/outside/ensembl/genomes/release-99/matching/
cd /hive/data/outside/ensembl/genomes/release-99/matching/

Lists of idKey files from local UCSC genome builds:

grep "[0-9]" /hive/data/genomes/*/bed/idKeys/*.keySignature.txt \
  | awk -F":" '{printf "%s\t%s\n", $2, $1}' | sed -e 's#/hive/data/genomes/##; s#/bed/.*##;' | sort > idKeys.local.list

Lists of the Ensembl assemblies:

ls ../idKeys/*/*.keySignature.txt > ens99.keySigs.txt

for F in `cat ens99.keySigs.txt`
do
  B=`basename $F | sed -e 's/.keySignature.txt//;'`
  printf "%s\t%s\n" "`cat ${F}`" "${B}"
done | sort > idKeys.ens99.txt

Comparing the keySignature lists identified 53 perfect matches to
UCSC database browsers.  Allowing for slight differences in assemblies,
another 19 UCSC database browsers were identified as matching.
This list of 72 UCSC database browsers were used to run up the tracks.
There are 43 database browsers that are active on the RR.  These
are listed in the redmine 24963 issue.

Individual makeDoc entries for all 72 builds are included next
################
############################################################################
############################################################################
############################################################################
#  ailMel1 - Panda - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.99
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection
############################################################################
############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.99
    featureBits anoCar2 ensGene
    # 51769337 bases of 1701353770 (3.043%) in intersection
############################################################################
############################################################################
#  astMex1 - Mexican tetra (cavefish) - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/astMex1
    cat << '_EOF_' > astMex1.ensGene.ra
# required db variable
db astMex1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "s/\.1//; s/MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 astMex1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/astMex1/bed/ensGene.99
    featureBits astMex1 ensGene
    # 55200298 bases of 964264884 (5.725%) in intersection
############################################################################
############################################################################
#  bisBis1 - Bison - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bisBis1
    cat << '_EOF_' > bisBis1.ensGene.ra
# required db variable
db bisBis1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/bisBis1/jkStuff/ensToUcsc.lift

skipInvalid yes

# there are 63 genes that fail due to txEnd > chrom size
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 bisBis1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bisBis1/bed/ensGene.99
    featureBits bisBis1 ensGene
    # 31189995 bases of 2757854331 (1.131%) in intersection
############################################################################
############################################################################
#  bosTau9 - Cow - Ensembl Genes version 99  (DONE - 2020-02-13 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau9
    cat << '_EOF_' > bosTau9.ensGene.ra
# required db variable
db bosTau9
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/bosTau9/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 bosTau9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau9/bed/ensGene.99
    featureBits bosTau9 ensGene
    # 54805609 bases of 2715853792 (2.018%) in intersection
############################################################################
############################################################################
#  calMil1 - Elephant shark - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calMil1
    cat << '_EOF_' > calMil1.ensGene.ra
# required db variable
db calMil1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/calMil1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 calMil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calMil1/bed/ensGene.99
    featureBits calMil1 ensGene
    # 43170661 bases of 936953458 (4.608%) in intersection
############################################################################
############################################################################
#  canFam3 - Dog - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.99
    featureBits canFam3 ensGene
    # 56801789 bases of 2392715236 (2.374%) in intersection
############################################################################
############################################################################
#  casCan1 - Beaver - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/casCan1
    cat << '_EOF_' > casCan1.ensGene.ra
# required db variable
db casCan1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/casCan1/jkStuff/ensToUcsc.lift

skipInvalid yes

# there are 5 genes failing due to txEnd > chrom size
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 casCan1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/casCan1/bed/ensGene.99
    featureBits casCan1 ensGene
    # 38167753 bases of 2517974654 (1.516%) in intersection
############################################################################
############################################################################
#  cavApe1 - Brazilian guinea pig - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavApe1
    cat << '_EOF_' > cavApe1.ensGene.ra
# required db variable
db cavApe1
# specific lifting to translate names:
liftUp /hive/data/genomes/cavApe1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cavApe1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavApe1/bed/ensGene.99
    featureBits cavApe1 ensGene
    # 21842310 bases of 1749140834 (1.249%) in intersection
############################################################################
############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
# other name translations taken care of in the lift file
nameTranslation "s/^MT/chrM/;"
# Ensembl uses genbank identifiers:
liftUp /hive/data/genomes/cavPor3/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.99
    featureBits cavPor3 ensGene
    # 52540308 bases of 2663369733 (1.973%) in intersection
############################################################################
############################################################################
#  ce11 - C. elegans - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ce11
    cat << '_EOF_' > ce11.ensGene.ra
# required db variable
db ce11
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 ce11.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce11/bed/ensGene.99
    featureBits ce11 ensGene
    # 32024006 bases of 100286401 (31.933%) in intersection
############################################################################
############################################################################
#  cebCap1 - White-faced sapajou - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cebCap1
    cat << '_EOF_' > cebCap1.ensGene.ra
# required db variable
db cebCap1
# specific lifting to translate names:
liftUp /hive/data/genomes/cebCap1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cebCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cebCap1/bed/ensGene.99
    featureBits cebCap1 ensGene
    # 57098457 bases of 2610518382 (2.187%) in intersection
############################################################################
############################################################################
#  chlSab2 - Green monkey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/chlSab2
    cat << '_EOF_' > chlSab2.ensGene.ra
# required db variable
db chlSab2
liftUp /hive/data/genomes/chlSab2/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 chlSab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/chlSab2/bed/ensGene.99
    featureBits chlSab2 ensGene
    # 51250643 bases of 2752019208 (1.862%) in intersection
############################################################################
############################################################################
#  chrPic2 - Painted turtle - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/chrPic2
    cat << '_EOF_' > chrPic2.ensGene.ra
# required db variable
db chrPic2
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/chrPic2/jkStuff/ensToUcsc.lift

skipInvalid yes

# 39 genes have difficulties, no chrM here at ucsc, and two with txEnd past
# chrom size
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 chrPic2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/chrPic2/bed/ensGene.99
    featureBits chrPic2 ensGene
    # 50482720 bases of 2173204089 (2.323%) in intersection
############################################################################
############################################################################
#  ci3 - C. intestinalis - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci3
    cat << '_EOF_' > ci3.ensGene.ra
# required db variable
db ci3
# this liftUp will translate all the Ensembl names to UCSC names
liftUp /hive/data/genomes/ci3/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 ci3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci3/bed/ensGene.99
    featureBits ci3 ensGene
    # 20192452 bases of 112164198 (18.003%) in intersection
############################################################################
############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
nameTranslation "/NC_004570/d"
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.99
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection
############################################################################
############################################################################
#  colAng1 - Angolan colobus - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/colAng1
    cat << '_EOF_' > colAng1.ensGene.ra
# required db variable
db colAng1
# specific lifting to translate names:
liftUp /hive/data/genomes/colAng1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 colAng1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/colAng1/bed/ensGene.99
    featureBits colAng1 ensGene
    # 49124279 bases of 2679973137 (1.833%) in intersection
############################################################################
############################################################################
#  cotJap2 - Japanese quail - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cotJap2
    cat << '_EOF_' > cotJap2.ensGene.ra
# required db variable
db cotJap2
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/cotJap2/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cotJap2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cotJap2/bed/ensGene.99
    featureBits cotJap2 ensGene
    # 39994547 bases of 917263224 (4.360%) in intersection
############################################################################
############################################################################
#  criGriChoV1 - Chinese hamster - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/criGriChoV1
    cat << '_EOF_' > criGriChoV1.ensGene.ra
# required db variable
db criGriChoV1

# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
#  The ENS names being dropped have illegal coordinates in the genes
nameTranslation "s/^MT/chrM/; /ENSCGRT00000030264/d; /ENSCGRT00000031181/d; /ENSCGRT00000030473/d; /ENSCGRT00000027739/d; /ENSCGRT00000027716/d;"

# Ensembl has different names for everything
liftUp /hive/data/genomes/criGriChoV1/jkStuff/ensembl.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 criGriChoV1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/criGriChoV1/bed/ensGene.99
    featureBits criGriChoV1 ensGene
    # 50792637 bases of 2318132242 (2.191%) in intersection
############################################################################
############################################################################
#  criGriChoV2 - Chinese hamster - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/criGriChoV2
    cat << '_EOF_' > criGriChoV2.ensGene.ra
# required db variable
db criGriChoV2
# specific lifting to translate names:
liftUp /hive/data/genomes/criGriChoV2/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 criGriChoV2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/criGriChoV2/bed/ensGene.99
    featureBits criGriChoV2 ensGene
    # 45027349 bases of 2323924942 (1.938%) in intersection
############################################################################
############################################################################
#  cynSem1 - Tongue sole - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/cynSem1
    cat << '_EOF_' > cynSem1.ensGene.ra
# required db variable
db cynSem1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/cynSem1/jkStuff/ensToUcsc.lift

skipInvalid yes

# two genes fail:
# 34430: ENSCSET00000012881.1 txEnd 221 >= chromSize 218
# 34432: ENSCSET00000012889.1 txEnd 217 >= chromSize 211
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 cynSem1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cynSem1/bed/ensGene.99
    featureBits cynSem1 ensGene
    # 58944696 bases of 446041774 (13.215%) in intersection
############################################################################
############################################################################
#  dasNov3 - Armadillo - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov3
    cat << '_EOF_' > dasNov3.ensGene.ra
# required db variable
db dasNov3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM
nameTranslation "s/NC_001821/chrM/; s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 dasNov3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov3/bed/ensGene.99
    featureBits dasNov3 ensGene
    # 57509945 bases of 3299882059 (1.743%) in intersection
############################################################################
############################################################################
#  dipOrd2 - Kangaroo rat - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd2
    cat << '_EOF_' > dipOrd2.ensGene.ra
# required db variable
db dipOrd2
# specific lifting to translate names:
liftUp /hive/data/genomes/dipOrd2/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSDORT00000021579.2 txEnd 43903 >= chromSize 43893
# ENSDORT00000020465.2 txEnd 13704 >= chromSize 13697
# ENSDORT00000034132.1 txEnd 1251 >= chromSize 1244
# checked: 27593 failed: 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 dipOrd2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd2/bed/ensGene.99
    featureBits dipOrd2 ensGene
    # 34499546 bases of 2065314047 (1.670%) in intersection
############################################################################
############################################################################
#  dm6 - D. melanogaster - Ensembl Genes version 99  (DONE - 2020-02-13 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm6
    cat << '_EOF_' > dm6.ensGene.ra
# required db variable
db dm6
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
# The dm6 from Ensembl has a different chrM sequence, remove it from here
# in v91 the name became mitochondrion_genome even though their sequence
# fasta still has dmel_mitochondrion_genome
# v99 appears to now have the same chrMT
# nameTranslation "/^dmel_mitochondrion_genome/d; /^mitochondrion_genome/d"
# this liftUp will translate all Ensembl names
liftUp /hive/data/genomes/dm6/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 dm6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm6/bed/ensGene.99
    featureBits dm6 ensGene
    # 35897302 bases of 142573024 (25.178%) in intersection
############################################################################
############################################################################
#  equCab3 - Horse - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab3
    cat << '_EOF_' > equCab3.ensGene.ra
# required db variable
db equCab3
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/equCab3/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 equCab3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab3/bed/ensGene.99
    featureBits equCab3 ensGene
    # 57726006 bases of 2497530654 (2.311%) in intersection
############################################################################
############################################################################
#  felCat9 - Cat - Ensembl Genes version 99  (DONE - 2020-02-13 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat9
    cat << '_EOF_' > felCat9.ensGene.ra
# required db variable
db felCat9
# specific lifting to translate names:
liftUp /hive/data/genomes/felCat9/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 felCat9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat9/bed/ensGene.99
    featureBits felCat9 ensGene
    # 55730885 bases of 2476453204 (2.250%) in intersection
############################################################################
############################################################################
#  fukDam1 - Damara mole rat - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fukDam1
    cat << '_EOF_' > fukDam1.ensGene.ra
# required db variable
db fukDam1
# specific lifting to translate names:
liftUp /hive/data/genomes/fukDam1/jkStuff/ensToUcsc.lift

# Ensembl appears to have a chrom MT
nameTranslation "/^MT/d"

skipInvalid yes
# ENSFDAT00000001669.1 txEnd 301 >= chromSize 295
# ENSFDAT00000026393.1 txEnd 223 >= chromSize 221
# checked: 41630 failed: 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 fukDam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fukDam1/bed/ensGene.99
    featureBits fukDam1 ensGene
    # 56095017 bases of 2285984782 (2.454%) in intersection
############################################################################
############################################################################
#  galGal6 - Chicken - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal6
    cat << '_EOF_' > galGal6.ensGene.ra
# required db variable
db galGal6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
# nameTranslation '/^MT/d'
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/galGal6/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 galGal6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal6/bed/ensGene.99
    featureBits galGal6 ensGene
    # 52742908 bases of 1055588482 (4.997%) in intersection
############################################################################
############################################################################
#  hapBur1 - Burton's mouthbreeder - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hapBur1
    cat << '_EOF_' > hapBur1.ensGene.ra
# required db variable
db hapBur1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/hapBur1/jkStuff/ensToUcsc.lift

skipInvalid yes

# there is a duplicate chrom and a txEnd past chrom size

# 36182: ENSHBUT00000034720.1 has invalid chrom for hapBur1: AFNZ01063775.1
# 36396: ENSHBUT00000021147.1 txEnd 1204 >= chromSize 1190

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 hapBur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hapBur1/bed/ensGene.99
    featureBits hapBur1 ensGene
    # 67095670 bases of 698936397 (9.600%) in intersection
############################################################################
############################################################################
#  hetGla1 - Naked mole-rat - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hetGla1
    cat << '_EOF_' > hetGla1.ensGene.ra
# required db variable
db hetGla1

# remove the first .1 from the contig names in the Ensembl GTF file
# the ENS names being dropped have illegal coordinates
nameTranslation "s/\.1//; s/^MT/chrM/; /ENSHGLT00100030844/d; /ENSHGLT00100031497/d; /ENSHGLT00100031744/d; /ENSHGLT00100029130/d;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 hetGla1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hetGla1/bed/ensGene.99
    featureBits hetGla1 ensGene
    # 57895555 bases of 2430064805 (2.382%) in intersection
############################################################################
############################################################################
#  hetGla2 - Naked mole-rat - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hetGla2
    cat << '_EOF_' > hetGla2.ensGene.ra
# required db variable
db hetGla2

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 hetGla2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hetGla2/bed/ensGene.99
    featureBits hetGla2 ensGene
    # 62300985 bases of 2314771103 (2.691%) in intersection
############################################################################
############################################################################
#  jacJac1 - Lesser Egyptian jerboa - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/jacJac1
    cat << '_EOF_' > jacJac1.ensGene.ra
# required db variable
db jacJac1
# specific lifting to translate names:
liftUp /hive/data/genomes/jacJac1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSJJAT00000007476.1 txEnd 4410 >= chromSize 4389
# ENSJJAT00000002946.1 txEnd 1935 >= chromSize 1923

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 jacJac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/jacJac1/bed/ensGene.99
    featureBits jacJac1 ensGene
    # 31204022 bases of 2470259869 (1.263%) in intersection
############################################################################
############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.99
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection
############################################################################
############################################################################
#  lepOcu1 - Spotted gar - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1
    cat << '_EOF_' > lepOcu1.ensGene.ra
# required db variable
db lepOcu1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "/AHAT01044173/d; s/^\([L]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 lepOcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1/bed/ensGene.99
    featureBits lepOcu1 ensGene
    # 53445108 bases of 869414361 (6.147%) in intersection
############################################################################
############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.99
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection
############################################################################
############################################################################
#  macFas5 - Crab-eating macaque - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macFas5
    cat << '_EOF_' > macFas5.ensGene.ra
# required db variable
db macFas5
# specific lifting to translate names:
liftUp /hive/data/genomes/macFas5/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSMFAT00000049321.1 txEnd 5011 >= chromSize 5009
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 macFas5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macFas5/bed/ensGene.99
    featureBits macFas5 ensGene
    # 62835855 bases of 2803866698 (2.241%) in intersection
############################################################################
############################################################################
#  manLeu1 - Drill - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/manLeu1
    cat << '_EOF_' > manLeu1.ensGene.ra
# required db variable
db manLeu1
# specific lifting to translate names:
liftUp /hive/data/genomes/manLeu1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSMLET00000030838.1 txEnd 35289 >= chromSize 35264
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 manLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/manLeu1/bed/ensGene.99
    featureBits manLeu1 ensGene
    # 48505411 bases of 2721424086 (1.782%) in intersection
############################################################################
############################################################################
#  melGal1 - Turkey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.99
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection
############################################################################
############################################################################
#  melUnd1 - Budgerigar - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melUnd1
    cat << '_EOF_' > melUnd1.ensGene.ra
# required db variable
db melUnd1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/melUnd1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 melUnd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melUnd1/bed/ensGene.99
    featureBits melUnd1 ensGene
    # 33269367 bases of 1086614815 (3.062%) in intersection
############################################################################
############################################################################
#  mesAur1 - Golden hamster - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mesAur1
    cat << '_EOF_' > mesAur1.ensGene.ra
# required db variable
db mesAur1
# specific lifting to translate names:
liftUp /hive/data/genomes/mesAur1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSMAUT00000008954.1 txEnd 18377 >= chromSize 18369
# ENSMAUT00000008838.1 txEnd 1152 >= chromSize 1150
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 mesAur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mesAur1/bed/ensGene.99
    featureBits mesAur1 ensGene
    # 40680379 bases of 2076176254 (1.959%) in intersection
############################################################################
############################################################################
#  micMur3 - Mouse lemur - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur3
    cat << '_EOF_' > micMur3.ensGene.ra
# required db variable
db micMur3
# specific lifting to translate names:
liftUp /hive/data/genomes/micMur3/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSMICT00000068593.1 txEnd 5528 >= chromSize 5525
# ENSMICT00000068583.1 txEnd 4860 >= chromSize 4858
# ENSMICT00000039077.2 txEnd 4792 >= chromSize 4790
# ENSMICT00000052172.2 txEnd 2742 >= chromSize 2739
# ENSMICT00000049755.2 txEnd 1553 >= chromSize 1539
# ENSMICT00000068718.1 txEnd 1264 >= chromSize 1261
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 micMur3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur3/bed/ensGene.99
    featureBits micMur3 ensGene
    # 58013647 bases of 2386321975 (2.431%) in intersection
############################################################################
############################################################################
#  micOch1 - Prairie vole - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/micOch1
    cat << '_EOF_' > micOch1.ensGene.ra
# required db variable
db micOch1
# specific lifting to translate names:
liftUp /hive/data/genomes/micOch1/jkStuff/ensToUcsc.lift

# UCSC does not have the chrM sequence:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 micOch1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micOch1/bed/ensGene.99
    featureBits micOch1 ensGene
    # 43116547 bases of 2104321675 (2.049%) in intersection
############################################################################
############################################################################
#  musFur1 - Ferret - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/musFur1
    cat << '_EOF_' > musFur1.ensGene.ra
# required db variable
db musFur1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation 's/^MT/chrM/; s/\.1//'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 musFur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/musFur1/bed/ensGene.99
    featureBits musFur1 ensGene
    # 59807443 bases of 2277906570 (2.626%) in intersection
############################################################################
############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.99
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection
############################################################################
############################################################################
#  nomLeu3 - Gibbon - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu3
    cat << '_EOF_' > nomLeu3.ensGene.ra
# required db variable
db nomLeu3
# specific lifting to translate names:
liftUp /hive/data/genomes/nomLeu3/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 nomLeu3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu3/bed/ensGene.99
    featureBits nomLeu3 ensGene
    # 47523756 bases of 2756609047 (1.724%) in intersection
############################################################################
############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.99
    featureBits oryCun2 ensGene
    # 52446011 bases of 2604023284 (2.014%) in intersection
############################################################################
############################################################################
#  oviAri3 - Sheep - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oviAri3
    cat << '_EOF_' > oviAri3.ensGene.ra
# required db variable
db oviAri3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM, add chrUn_ to the contigs and chr to the chrom names
nameTranslation "s/^\([0-9X]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 oviAri3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oviAri3/bed/ensGene.99
    featureBits oviAri3 ensGene
    # 44872191 bases of 2534335866 (1.771%) in intersection
############################################################################
############################################################################
#  panPan2 - Bonobo - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panPan2
    cat << '_EOF_' > panPan2.ensGene.ra
# required db variable
db panPan2
# specific lifting to translate names:
liftUp /hive/data/genomes/panPan2/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSPPAT00000007687.1 txEnd 2172 >= chromSize 2168
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 panPan2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panPan2/bed/ensGene.99
    featureBits panPan2 ensGene
    # 56514549 bases of 2725937399 (2.073%) in intersection
############################################################################
############################################################################
#  panTro5 - Chimp - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro5
    cat << '_EOF_' > panTro5.ensGene.ra
# required db variable
db panTro5
# specific lifting to translate names:
liftUp /hive/data/genomes/panTro5/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSPTRT00000103531.1 txEnd 10764 >= chromSize 10756
# ENSPTRT00000079867.1 txEnd 1416 >= chromSize 1400
# ENSPTRT00000096982.1 txEnd 1326 >= chromSize 1310
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 panTro5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro5/bed/ensGene.99
    featureBits panTro5 ensGene
    # 68684135 bases of 3132620660 (2.193%) in intersection
############################################################################
############################################################################
#  pelSin1 - Chinese softshell turtle - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pelSin1
    cat << '_EOF_' > pelSin1.ensGene.ra
# required db variable
db pelSin1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 pelSin1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pelSin1/bed/ensGene.99
    featureBits pelSin1 ensGene
    # 47344681 bases of 2106639384 (2.247%) in intersection
############################################################################
############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#	everything in perl
nameTranslation 's/^MT/chrM/; s/^NC_001626/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.99
    featureBits petMar2 ensGene
    # 13353634 bases of 647368134 (2.063%) in intersection
############################################################################
############################################################################
#  poeFor1 - Amazon molly - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/poeFor1
    cat << '_EOF_' > poeFor1.ensGene.ra
# required db variable
db poeFor1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 poeFor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/poeFor1/bed/ensGene.99
    featureBits poeFor1 ensGene
    # 68306583 bases of 714197265 (9.564%) in intersection
############################################################################
############################################################################
#  poeRet1 - Guppy - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/poeRet1
    cat << '_EOF_' > poeRet1.ensGene.ra
# required db variable
db poeRet1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/poeRet1/jkStuff/ensToUcsc.lift

skipInvalid yes

# 38 failures, no chrM here, and one with txEnd past chrom size
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 poeRet1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/poeRet1/bed/ensGene.99
    featureBits poeRet1 ensGene
    # 49395173 bases of 664637549 (7.432%) in intersection
############################################################################
############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.99
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection
############################################################################
############################################################################
#  proCoq1 - Coquerel's sifaka - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCoq1
    cat << '_EOF_' > proCoq1.ensGene.ra
# required db variable
db proCoq1
# specific lifting to translate names:
liftUp /hive/data/genomes/proCoq1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSPCOT00000008378.1 txEnd 14532 >= chromSize 14529
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 proCoq1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCoq1/bed/ensGene.99
    featureBits proCoq1 ensGene
    # 38839237 bases of 2083764538 (1.864%) in intersection
############################################################################
############################################################################
#  punNye1 - Pundamilia nyererei - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/punNye1
    cat << '_EOF_' > punNye1.ensGene.ra
# required db variable
db punNye1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/punNye1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 punNye1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/punNye1/bed/ensGene.99
    featureBits punNye1 ensGene
    # 50966820 bases of 698757151 (7.294%) in intersection
############################################################################
############################################################################
#  rheMac10 - Rhesus - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac10
    cat << '_EOF_' > rheMac10.ensGene.ra
# required db variable
db rheMac10
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/rheMac10/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 rheMac10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac10/bed/ensGene.99
    featureBits rheMac10 ensGene
    # 78898876 bases of 2936892733 (2.686%) in intersection
############################################################################
############################################################################
#  rhiBie1 - Black snub-nosed monkey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rhiBie1
    cat << '_EOF_' > rhiBie1.ensGene.ra
# required db variable
db rhiBie1
# specific lifting to translate names:
liftUp /hive/data/genomes/rhiBie1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSRBIT00000004729.1 txEnd 1295 >= chromSize 1287
# ENSRBIT00000004240.1 txEnd 925 >= chromSize 896
# ENSRBIT00000007958.1 txEnd 874 >= chromSize 870
# ENSRBIT00000005433.1 txEnd 499 >= chromSize 496
# ENSRBIT00000004757.1 txEnd 492 >= chromSize 474

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 rhiBie1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rhiBie1/bed/ensGene.99
    featureBits rhiBie1 ensGene
    # 57730502 bases of 2977074741 (1.939%) in intersection
############################################################################
############################################################################
#  rhiRox1 - Golden snub-nosed monkey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rhiRox1
    cat << '_EOF_' > rhiRox1.ensGene.ra
# required db variable
db rhiRox1
# specific lifting to translate names:
liftUp /hive/data/genomes/rhiRox1/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSRROT00000015658.1 txEnd 2904 >= chromSize 2895
# ENSRROT00000003328.1 txEnd 575 >= chromSize 551
# ENSRROT00000003014.1 txEnd 553 >= chromSize 550
# ENSRROT00000017963.1 txEnd 425 >= chromSize 423
# ENSRROT00000004422.1 txEnd 409 >= chromSize 406
# ENSRROT00000005493.1 txEnd 247 >= chromSize 235
# ENSRROT00000010204.1 txEnd 233 >= chromSize 229
# ENSRROT00000009486.1 txEnd 223 >= chromSize 220
# ENSRROT00000000177.1 txEnd 217 >= chromSize 214

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 rhiRox1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rhiRox1/bed/ensGene.99
    featureBits rhiRox1 ensGene
    # 57136007 bases of 2856044136 (2.001%) in intersection
############################################################################
############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.99
    featureBits sacCer3 ensGene
    # 8911811 bases of 12157105 (73.305%) in intersection
############################################################################
############################################################################
#  saiBol1 - Squirrel monkey - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/saiBol1
    cat << '_EOF_' > saiBol1.ensGene.ra
# required db variable
db saiBol1
# specific lifting to translate names:
liftUp /hive/data/genomes/saiBol1/jkStuff/ensToUcsc.lift

nameTranslation '/^MT/d'

skipInvalid yes
# ENSSBOT00000006176.1 txEnd 1192 >= chromSize 1189

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 saiBol1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/saiBol1/bed/ensGene.99
    featureBits saiBol1 ensGene
    # 56079041 bases of 2477131095 (2.264%) in intersection
############################################################################
############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#	everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.99
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection
############################################################################
############################################################################
#  serCan1 - Canary - Ensembl Genes version 99  (DONE - 2020-02-13 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/serCan1
    cat << '_EOF_' > serCan1.ensGene.ra
# required db variable
db serCan1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/serCan1/jkStuff/ensToUcsc.lift

skipInvalid yes

# one with txEnd past chrom size
# 26970: ENSSCAT00000001915.1 txEnd 371 >= chromSize 370

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 serCan1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/serCan1/bed/ensGene.99
    featureBits serCan1 ensGene
    # 34757367 bases of 1127267273 (3.083%) in intersection
############################################################################
############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
#  previously:
# nameTranslation "s/\.1//; s/\.2//"
# UCSC has no chrM
nameTranslation "/^MT/d;"

# ensembl changed names Aug 2017:
liftUp /hive/data/genomes/speTri2/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.99
    featureBits speTri2 ensGene
    # 53997725 bases of 2311060300 (2.336%) in intersection
############################################################################
############################################################################
#  stePar1 - Bicolor damselfish - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/stePar1
    cat << '_EOF_' > stePar1.ensGene.ra
# required db variable
db stePar1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/stePar1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 stePar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/stePar1/bed/ensGene.99
    featureBits stePar1 ensGene
    # 56625740 bases of 749731501 (7.553%) in intersection
############################################################################
############################################################################
#  strCam1 - Ostrich - Ensembl Genes version 99  (DONE - 2020-02-13 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/strCam1
    cat << '_EOF_' > strCam1.ensGene.ra
# required db variable
db strCam1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/strCam1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 strCam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/strCam1/bed/ensGene.99
    featureBits strCam1 ensGene
    # 39942872 bases of 1184788736 (3.371%) in intersection
############################################################################
############################################################################
#  susScr11 - Pig - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr11
    cat << '_EOF_' > susScr11.ensGene.ra
# required db variable
db susScr11
# specific lifting to translate names:
liftUp /hive/data/genomes/susScr11/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 susScr11.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr11/bed/ensGene.99
    featureBits susScr11 ensGene
    # 110501655 bases of 2472073034 (4.470%) in intersection
############################################################################
############################################################################
#  tarSyr2 - Tarsier - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr2
    cat << '_EOF_' > tarSyr2.ensGene.ra
# required db variable
db tarSyr2
# specific lifting to translate names:
liftUp /hive/data/genomes/tarSyr2/jkStuff/ensToUcsc.lift

skipInvalid yes
# ENSTSYT00000036298.1 txEnd 9974 >= chromSize 9960
# ENSTSYT00000025862.1 txEnd 865 >= chromSize 863
# ENSTSYT00000041648.1 txEnd 480 >= chromSize 479
# ENSTSYT00000046606.1 txEnd 454 >= chromSize 452
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 tarSyr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr2/bed/ensGene.99
    featureBits tarSyr2 ensGene
    # 36466709 bases of 3405755564 (1.071%) in intersection
############################################################################
############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 99  (DONE - 2020-02-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.99
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection
############################################################################
############################################################################
#  ursMar1 - Polar bear - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ursMar1
    cat << '_EOF_' > ursMar1.ensGene.ra
# required db variable
db ursMar1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/ursMar1/jkStuff/ensToUcsc.lift

skipInvalid yes

# one with invalid txEnd:
# 40590: ENSUMAT00000000039.1 txEnd 262 >= chromSize 259

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 ursMar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ursMar1/bed/ensGene.99
    featureBits ursMar1 ensGene
    # 40086451 bases of 2263021934 (1.771%) in intersection
############################################################################
############################################################################
#  xenTro9 - X. tropicalis - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro9
    cat << '_EOF_' > xenTro9.ensGene.ra
# required db variable
db xenTro9
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/xenTro9/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 xenTro9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro9/bed/ensGene.99
    featureBits xenTro9 ensGene
    # 48457766 bases of 1369865365 (3.537%) in intersection
############################################################################
############################################################################
#  zonAlb1 - White-throated sparrow - Ensembl Genes version 99  (DONE - 2020-02-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/zonAlb1
    cat << '_EOF_' > zonAlb1.ensGene.ra
# required db variable
db zonAlb1
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/zonAlb1/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=99 zonAlb1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/zonAlb1/bed/ensGene.99
    featureBits zonAlb1 ensGene
    # 35059881 bases of 1006303327 (3.484%) in intersection
############################################################################
############################################################################
############################################################################

############################################################################
# ensembl 95 update (DONE - 2019-01-16 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2019-01-16 - Hiram)
     # next time, this first one will be 95 at 'jan2019'
     hgsql -e \
'update trackVersion set dateReference="apr2018" where name="ensGene" AND version="92";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="95";' hgFixed

############################################################################
# ensembl 95 update (DONE - 2018-05-08 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation

    ./findEnsFtpNames.sh 95
# -rw-rw-r-- 1   11329 Jan 10 08:52 release.95.gtf.names
# -rw-rw-r-- 1    6408 Jan 10 08:59 release.95.MySQL.names
# -rw-rw-r-- 1   12611 Jan 10 09:01 release.95.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 95 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  101
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v95
    cd /hive/data/outside/ensembl/ensGene/v95
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.95.update.list
    # usually try one or two at first to make sure it will work, then
    # let it run:
    # the scripts work off of this list:
    time ../runUpdate.sh > firstRun.log 2>&1
    # real    137m48.836s

    # lots of new stuff in this one

    # Assemblies that have moved forward to new versions:
# astMex1->astMex2 bosTau6->bosTau9 equCab2->equCab3 felCat8->felCat9 fr2->fr3
# galGal5->galGal6 oryLat2->oryLat4->oryLat5->oryLat6 xipMac1->xipMac2

# The oryLat[456] sequences are one new version of Medaka, plus two new
# assemblies of different strains.

    # completely new assemblies in this release:
# acaPol1 ampCit1 ampOce1 ampPer1 anaTes1 astCal1 canLupDin1 chrPic2 cynSem1
# cypVar1 eptBur1 equAsi1 esoLuc2 funHet1 gamAff1 gopAga1 hapBur1 hipCom1
# ictPun1 kryMar1 labBer1 masArm1 mayZeb2 molMol1 monAlb1 neoBri1 oryMel1
# panPar1 panTig1 parKin1 perMag1 phaCin1 poeLat1 poeMex1 poeRet1
# pteVam1 punNye1 pygNat1 sclFor1 scoMax1 serDor1 serDum1 sphPun1 stePar1
# ursAme1 ursMar1 vulVul1 xipCou1

    # need new browsers for these assemblies:
# acaPol1 ampCit1 ampOce1 ampPer1 anaTes1 canLupDin1 eptBur1 equAsi1 esoLuc2
# funHet1 gamAff1 gopAga1 hipCom1 ictPun1 kryMar1 labBer1 masArm1 mayZeb2
# molMol1 monAlb1 oryMel1 panPar1 parKin1 perMag1 phaCin1 poeLat1 poeMex1
# pygNat1 sclFor1 scoMax1 serDor1 serDum1 sphPun1 ursAme1 vulVul1 xipCou1
# astMex2 oryLat4 oryLat5 oryLat6 xipMac2

    # after the full runUpdate.sh script was done, a few needed attention:
    # danRer11 fr3 gadMor1 galGal6 gasAcu1

    # the danRer11 is a case of: percent coverage of peptides to genes: 88
    # just at the limit.  It can be finished off:
    ##########################################################################

    # finish off the load step:
    cd /hive/data/genomes/danRer11/bed/ensGene.95
hgsql -e 'INSERT INTO trackVersion \
    (db, name, who, version, updateTime, comment, source, dateReference) \
    VALUES("danRer11", "ensGene", "hiram", "95", now(), \
        "with peptides Danio_rerio.GRCz11.pep.all.fa.gz", \
        "ftp://ftp.ensembl.org/pub/release-95/gtf/danio_rerio/Danio_rerio.GRCz11.95.gtf.gz", \
        "jan2019" );' hgFixed

    # then continue:
    /hive/data/genomes/danRer11

    time (doEnsGeneUpdate.pl -continue=cleanup -ensVersion=95 \
	danRer11.ensGene.ra) >> ensGene.95.log

    # resulting in a doc entry (without this extra finish)

############################################################################
#  danRer11 - Zebrafish - Ensembl Genes version 95  (DONE - 2019-01-14 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer11
    cat << '_EOF_' > danRer11.ensGene.ra
# required db variable
db danRer11

# haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/danRer11/jkStuff/ensembl.alts.lift

# specific lifting to translate names:
liftUp /hive/data/genomes/danRer11/jkStuff/ensembl.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=95 danRer11.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer11/bed/ensGene.95
    featureBits danRer11 ensGene
    # 75425305 bases of 1674677181 (4.504%) in intersection
############################################################################

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.95/process
    cp -p ../../ensGene.91/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=95 \
       gadMor1.ensGene.ra ) >> ensGene.95.log 2>&1

    #########################################################################
    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.95/process
    cp ../../ensGene.91/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 19 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 621 millis
# Sorting and writing extra index 0: 17 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=95 \
       gasAcu1.ensGene.ra) >> ensGene.95.log 2>&1

    #########################################################################
    # galGal6 needed a proper lift file
    # generate idKeys for the Ensembl sequence
    mkdir /hive/data/genomes/galGal6/ens95
    cd /hive/data/genomes/galGal6/ens95

    ftpDir=`grep ".95.gtf.gz" /cluster/bin/scripts/EnsGeneAutomate.pm \
       | grep -w galGal6 | awk '{print $NF}' \
         | sed -e "s/.95.gtf.*//; s/'//g; s#/#/dna/#;" \
           | sed -e 's/$/.dna.toplevel.fa.gz/;'`
    echo $ftpDir
    # gallus_gallus/dna/Gallus_gallus.GRCg6a.dna.toplevel.fa.gz

    rsync -av rsync://ftp.ensembl.org/ensembl/pub/release-95/fasta/${ftpDir} \
	/hive/data/genomes/galGal6/ens95/

    faToTwoBit *.fa.gz ens95.galGal6.2bit
    time (doIdKeys.pl -buildDir=/hive/data/genomes/galGal6/ens95 \
	-twoBit=/hive/data/genomes/galGal6/ens95/ensGalGal6.2bit ensGalGal6) \
	> do.log 2>&1

    join -t$'\t' ensGalGal6.idKeys.txt ../bed/idKeys/galGal6.idKeys.txt \
	| cut -f2- | sort > ens.to.ucsc.names

    join -2 2 -t$'\t' <(sort ../chrom.sizes) <(sort -k2,2 ens.to.ucsc.names) \
	| awk '{printf "0\t%s\t%d\t%s\t%d\n", $3, $2, $1, $2}' > ensToUcsc.lift

    # copy that to ../jkStuff and use that file in the galGal6.ensGene.ra
# required db variable
db galGal6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
# nameTranslation '/^MT/d'
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/galGal6/jkStuff/ensToUcsc.lift

     # now it can be run to completion:
     cd /hive/data/genomes/galGal6
    time (doEnsGeneUpdate.pl -continue=process -ensVersion=95 \
	galGal6.ensGene.ra) >> ensGene.95.log 2>&1

############################################################################
#  galGal6 - Chicken - Ensembl Genes version 95  (DONE - 2019-01-14 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal6
    cat << '_EOF_' > galGal6.ensGene.ra
# required db variable
db galGal6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
# nameTranslation '/^MT/d'
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/galGal6/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=95 galGal6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal6/bed/ensGene.95
    featureBits galGal6 ensGene
    # 52742908 bases of 1055588482 (4.997%) in intersection

############################################################################

    #########################################################################
    # fr3 needed a proper lift file
    # generate idKeys for the Ensembl sequence
    mkdir /hive/data/genomes/fr3/ens95
    cd /hive/data/genomes/fr3/ens95

    ftpDir=`grep ".95.gtf.gz" /cluster/bin/scripts/EnsGeneAutomate.pm \
       | grep -w fr3 | awk '{print $NF}' \
         | sed -e "s/.95.gtf.*//; s/'//g; s#/#/dna/#;" \
           | sed -e 's/$/.dna.toplevel.fa.gz/;'`
    echo $ftpDir
    # takifugu_rubripes/dna/Takifugu_rubripes.FUGU5.dna.toplevel.fa.gz

    rsync -av rsync://ftp.ensembl.org/ensembl/pub/release-95/fasta/${ftpDir} \
	/hive/data/genomes/fr3/ens95/

    faToTwoBit *.fa.gz ens95.fr3.2bit
    time (doIdKeys.pl -buildDir=/hive/data/genomes/fr3/ens95 \
	-twoBit=/hive/data/genomes/fr3/ens95/ens95.fr3.2bit ensFr3) \
	> do.log 2>&1

    join -t$'\t' ensFr3.idKeys.txt ../bed/idKeys/fr3.idKeys.txt \
	| cut -f2- | sort > ens.to.ucsc.names
    # this misses one name, there is an error in the Ensembl chr20 sequence,
    # it has 10 extra N nucleotides at the end of the chromosome
    # add that to the ens.to.ucsc.nameso
    #	20      chr20

    join -2 2 -t$'\t' <(sort ../chrom.sizes) <(sort -k2,2 ens.to.ucsc.names) \
	| awk '{printf "0\t%s\t%d\t%s\t%d\n", $3, $2, $1, $2}' > ensToUcsc.lift

    # copy that to ../jkStuff and use that file in the fr3.ensGene.ra
# required db variable
db fr3
# nameTranslation "s/^MT/chrM/;"
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/fr3/jkStuff/ensToUcsc.lift

skipInvalid yes

# Error: fr3.allGenes.gp.gz:28337: ENSTRUT00000056219.1 txEnd 9266 >= chromSize 9258
# Error: fr3.allGenes.gp.gz:28778: ENSTRUT00000054878.1 txEnd 6163 >= chromSize 6157

     # now it can be run to completion:
     cd /hive/data/genomes/fr3
    time (doEnsGeneUpdate.pl -continue=process -ensVersion=95 \
	fr3.ensGene.ra) >> ensGene.95.log 2>&1

############################################################################
#  fr3 - Fugu - Ensembl Genes version 95  (DONE - 2019-01-14 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr3
    cat << '_EOF_' > fr3.ensGene.ra
# required db variable
db fr3
# nameTranslation "s/^MT/chrM/;"
# lift Ensembl names to UCSC names
# all the transformations are in this lift file generated from the idKeys
#     joining results
liftUp /hive/data/genomes/fr3/jkStuff/ensToUcsc.lift

skipInvalid yes

# Error: fr3.allGenes.gp.gz:28337: ENSTRUT00000056219.1 txEnd 9266 >= chromSize 9258
# Error: fr3.allGenes.gp.gz:28778: ENSTRUT00000054878.1 txEnd 6163 >= chromSize 6157
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=95 fr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr3/bed/ensGene.95
    featureBits fr3 ensGene
    # 46604673 bases of 350961831 (13.279%) in intersection

############################################################################
############################################################################
# ensembl 92 update (DONE - 2018-05-08 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2018-05-09 - Hiram)
     # next time, this first one will be 92 at 'apr2018'
     hgsql -e \
'update trackVersion set dateReference="dec2017" where name="ensGene" AND version="91";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="92";' hgFixed

############################################################################
# ensembl 92 update (DONE - 2018-05-08 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation

    ./findEnsFtpNames.sh 92
# -rw-rw-r-- 1 7699 May  4 08:39 release.92.gtf.names
# -rw-rw-r-- 1 4425 May  4 08:42 release.92.MySQL.names
# -rw-rw-r-- 1 8589 May  4 08:42 release.92.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 92 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  93
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v92
    cd /hive/data/outside/ensembl/ensGene/v92
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.92.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # real    144m6.678s

    # there were about 19 new databases that either were the first time
    # Ensembl release genes, or their underlying assembly sequence names changed
    # even though it was not a new assembly.  Many of the chromAlias tables
    # had to be updated.  Plus ucscTo reference tables:
# felCat8.chromAlias
# gorGor4.chromAlias
# gorGor4.ucscToINSDC
# gorGor4.ucscToRefSeq
# macFas5.chromAlias
# macFas5.ucscToINSDC
# macFas5.ucscToRefSeq
# nomLeu3.chromAlias
# nomLeu3.ucscToRefSeq
# panTro5.chromAlias
# rhiRox1.chromAlias
# rhiRox1.ucscToINSDC
# rhiRox1.ucscToRefSeq
# saiBol1.chromAlias
# saiBol1.ucscToRefSeq
# tarSyr2.chromAlias

    # the easiest method to add these new assemblies was to construct the
    # idKeys from the Ensembl sequence, then join it with the idKeys
    # for the UCSC assembly to make the chromAlias.  Then, from the chromAlias
    # table and the chrom.sizes for an assembly, the ensToUcsc.lift file could
    # be created:
    cd /hive/data/genomes/<db>/jkStuff
join -t$'\t' <(sort -k1,1 ../chrom.sizes) \
 <(hgsql -N -e 'select chrom,alias from chromAlias where source like "%ensembl%" order by chrom;' <db> | sort) \
	| awk '{printf "0\t%s\t%d\t%s\t%d\n", $3,$2,$1,$2}' > ensToUcsc.lift

    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # gasAcu1 gadMor1

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.92/process
    cp -p ../../ensGene.91/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=92 \
       gadMor1.ensGene.ra ) >> ensGene.92.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.92/process
    cp ../../ensGene.91/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 19 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 621 millis
# Sorting and writing extra index 0: 17 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=92 \
       gasAcu1.ensGene.ra) >> ensGene.92.log 2>&1

############################################################################
# ensembl 91 update (DONE - 2017-12-15 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2017-10-18 - Hiram)
     # next time, this first one will be v90 at 'dec2017'
     hgsql -e \
'update trackVersion set dateReference="aug2017" where name="ensGene" AND version="90";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="91";' hgFixed

############################################################################
# ensembl 91 update (DONE - 2017-12-15 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation

    ./findEnsFtpNames.sh 91
# -rw-rw-r-- 1    7579 Dec 12 10:56 release.91.gtf.names
# -rw-rw-r-- 1    4403 Dec 12 11:00 release.91.MySQL.names
# -rw-rw-r-- 1    8614 Dec 12 11:00 release.91.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 91 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  94
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v91
    cd /hive/data/outside/ensembl/ensGene/v91
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.91.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # real    144m6.678s

    # there were about 19 new databases that either were the first time
    # Ensembl release genes, or their underlying assembly sequence names changed
    # even though it was not a new assembly.  Many of the chromAlias tables
    # had to be updated.  Plus ucscTo reference tables:
# felCat8.chromAlias
# gorGor4.chromAlias
# gorGor4.ucscToINSDC
# gorGor4.ucscToRefSeq
# macFas5.chromAlias
# macFas5.ucscToINSDC
# macFas5.ucscToRefSeq
# nomLeu3.chromAlias
# nomLeu3.ucscToRefSeq
# panTro5.chromAlias
# rhiRox1.chromAlias
# rhiRox1.ucscToINSDC
# rhiRox1.ucscToRefSeq
# saiBol1.chromAlias
# saiBol1.ucscToRefSeq
# tarSyr2.chromAlias

    # the easiest method to add these new assemblies was to construct the
    # idKeys from the Ensembl sequence, then join it with the idKeys
    # for the UCSC assembly to make the chromAlias.  Then, from the chromAlias
    # table and the chrom.sizes for an assembly, the ensToUcsc.lift file could
    # be created:
    cd /hive/data/genomes/<db>/jkStuff
join -t$'\t' <(sort -k1,1 ../chrom.sizes) \
 <(hgsql -N -e 'select chrom,alias from chromAlias where source like "%ensembl%" order by chrom;' <db> | sort) \
	| awk '{printf "0\t%s\t%d\t%s\t%d\n", $3,$2,$1,$2}' > ensToUcsc.lift

    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # gasAcu1 gadMor1

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.91/process
    cp -p ../../ensGene.90/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=91 \
       gadMor1.ensGene.ra ) >> ensGene.91.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.91/process
    cp ../../ensGene.90/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 18 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 591 millis
# Sorting and writing extra index 0: 13 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=91 \
       gasAcu1.ensGene.ra) >> ensGene.91.log 2>&1

############################################################################
# ensembl 90 update (DONE - 2017-10-18 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2017-10-18 - Hiram)
     # next time, this first one will be v90 at 'aug2017'
     hgsql -e \
'update trackVersion set dateReference="may2017" where name="ensGene" AND version="89";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="90";' hgFixed

############################################################################
# ensembl 90 update (DONE - 2016-06-09 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation

    ./findEnsFtpNames.sh 90
# -rw-rw-r-- 1 6709 Oct  9 13:46 release.90.gtf.names
# -rw-rw-r-- 1 3919 Oct  9 13:48 release.90.MySQL.names
# -rw-rw-r-- 1 7476 Oct  9 13:49 release.90.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 90 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  79
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v90
    cd /hive/data/outside/ensembl/ensGene/v90
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.90.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # real    144m6.678s

    # the doEnsGeneUpdate.pl script was fixed to correctly recognize all
    # possible new files and therefore tables.  It was previously only
    # recognizing ensGene.  This go around found new tables for all of the
    # ensemblToGeneName tables, and therefore *all* tables have been reloaded.
    # Much side work was involved in creating new chromAlias tables and checking
    # ucscToEnsembl tables.  There were a number of new assemblies included,
    # including many that we do not have browsers for yet.

    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # gasAcu1 gadMor1

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.90/process
    cp -p ../../ensGene.89/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=90 \
       gadMor1.ensGene.ra ) >> ensGene.90.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.90/process
    cp ../../ensGene.89/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 25 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 817 millis
# Sorting and writing extra index 0: 19 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=90 \
       gasAcu1.ensGene.ra) >> ensGene.90.log 2>&1

############################################################################
# ensembl 89 update (DONE - 2017-06-22 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2017-06-22 - Hiram)
     # next time, this first one will be v89 at 'may2017'
     hgsql -e \
'update trackVersion set dateReference="oct2016" where name="ensGene" AND version="86";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="89";' hgFixed

############################################################################
# ensembl 89 update (DONE - 2016-06-09 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    # had to fix this script to function correctly with new layouts at
    # Ensembl FTP
    ./findEnsFtpNames.sh 89
# -rw-rw-r-- 1    5614 Jun  1 11:19 release.89.gtf.names
# -rw-rw-r-- 1    3304 Jun  1 11:20 release.89.MySQL.names
# -rw-rw-r-- 1    6275 Jun  1 11:20 release.89.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 89 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  68
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v89
    cd /hive/data/outside/ensembl/ensGene/v89
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.89.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # real    139m13.810s

    # there was an issue with this update since gtfToGenePred was now adding
    # version numbers.  All the checks of names lists between gene names and
    # corresponding protein names failed.  This was fixed up manually after
    # all was done.
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # gasAcu1 gadMor1

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.89/process
    cp -p ../../ensGene.86/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=89 \
       gadMor1.ensGene.ra ) >> ensGene.89.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.89/process
    cp ../../ensGene.86/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 25 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 817 millis
# Sorting and writing extra index 0: 19 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=89 \
       gasAcu1.ensGene.ra) >> ensGene.89.log 2>&1

############################################################################

############################################################################
# ensembl 86 update (DONE - 2016-10-18 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2015-08-04 - Hiram)
     # next time, this first one will be v86 at 'oct2016'
     hgsql -e \
'update trackVersion set dateReference="jul2016" where name="ensGene" AND version="85";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="86";' hgFixed

############################################################################
# ensembl 86 update (DONE - 2016-10-18 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 86
# -rw-rw-r-- 1    5577 Oct 10 06:16 release.86.gtf.names
# -rw-rw-r-- 1    3302 Oct 10 06:16 release.86.MySQL.names
# -rw-rw-r-- 1    6328 Oct 10 06:16 release.86.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 86 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  68
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v86
    cd /hive/data/outside/ensembl/ensGene/v86
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.86.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # there was an issue with this update since gtfToGenePred was now adding
    # version numbers.  All the checks of names lists between gene names and
    # corresponding protein names failed.  This was fixed up manually after
    # all was done.
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # canFam3 danRer10 dasNov3 eriEur1 musFur1 papAnu2 rn6 ce11
    # the name test was removing the versions from the gene names
    # do not need to do that

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.86/process
    cp -p ../../ensGene.81/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=86 \
       gadMor1.ensGene.ra ) >> ensGene.86.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.86/process
    cp ../../ensGene.85/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 25 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 817 millis
# Sorting and writing extra index 0: 19 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=86 \
       gasAcu1.ensGene.ra) >> ensGene.86.log 2>&1

############################################################################
# ensembl 85 update (DONE - 2016-08-15 - Hiram)
############################################################################
# when all done, reset the dateReference:  (DONE - 2015-08-04 - Hiram)
     # next time, this first one will be v85 at 'oct2016'
     hgsql -e \
'update trackVersion set dateReference="dec2015" where name="ensGene" AND version="83";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="85";' hgFixed

############################################################################
# ensembl 85 update (DONE - 2016-08-15 - Hiram)

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 81
# -rw-rw-r-- 1 4510 Aug  8 15:23 release.85.gtf.names
# -rw-rw-r-- 1 2660 Aug  8 15:23 release.85.MySQL.names
# -rw-rw-r-- 1 5062 Aug  8 15:23 release.85.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 85 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  68
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v85
    cd /hive/data/outside/ensembl/ensGene/v85
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.85.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # there was an issue with this update since gtfToGenePred was now adding
    # version numbers.  All the checks of names lists between gene names and
    # corresponding protein names failed.  This was fixed up manually after
    # all was done.
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for:
    # canFam3 danRer10 dasNov3 eriEur1 musFur1 papAnu2 rn6 ce11
    # the name test was removing the versions from the gene names
    # do not need to do that

    # gadMor1 fixups:
    cd /hive/data/genomes/gadMor1/bed/ensGene.85/process
    cp -p ../../ensGene.81/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed

    cd /hive/data/genomes/gadMor1
    time (doEnsGeneUpdate.pl -continue=load -ensVersion=85 \
       gadMor1.ensGene.ra ) >> ensGene.85.log 2>&1

    # fixup for gasAcu1
    cd /hive/data/genomes/gasAcu1/bed/ensGene.85/process
    cp ../../ensGene.81/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 25 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 817 millis
# Sorting and writing extra index 0: 19 millis

    cd /hive/data/genomes/gasAcu1
    time (doEnsGeneUpdate.pl -continue=load  -ensVersion=85 \
       gasAcu1.ensGene.ra) >> ensGene.85.log 2>&1

############################################################################
# ensembl 81 update (DONE - 2015-07-04 - Hiram)
    ### XXX ### NOTE ### this updated *ALL* assemblies because
    # of the new feature in gtfToGenePred which included version suffixes
    # on all gene, protein, and transcript names.  All tables will be updated.

    # First time for: rn6 danRer10

    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 81
    # constructs the files:
# -rw-rw-r-- 1 2660 Jul 31 14:44 release.81.MySQL.names
# -rw-rw-r-- 1 5062 Jul 31 14:52 release.81.fasta.names
# -rw-rw-r-- 1 4900 Jul 31 15:23 release.81.gtf.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions 81 2> /dev/null | grep -v "NOT FOUND" | wc -l
    #  67
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v81
    cd /hive/data/outside/ensembl/ensGene/v81
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.81.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # there was an issue with this update since gtfToGenePred was now adding
    # version numbers.  All the checks of names lists between gene names and
    # corresponding protein names failed.  This was fixed up manually after
    # all was done.
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for: gadMor1 gasAcu1
    # new assembly for chlSab1

    cd /hive/data/genomes/gadMor1/bed/ensGene.81/process
    cp -p ../../ensGene.79/process/extraLifting.sh .
    ./extraLifting.sh
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting gadMor1.all.needLifting.gp
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting gadMor1.all.contigs.gp
# Got 554869 lifts in ../../ucscToEnsembl/componentsToCAEA01.lift
# Lifting ensemblGeneScaffolds.gadMor1.needLifting.bed
# Got 554870 lifts in ../../ucscToEnsembl/contigScaffold.lift
# Lifting ensemblGeneScaffolds.gadMor1.lifting.bed
    cd /hive/data/genomes/gadMor1
    doEnsGeneUpdate.pl -continue=load  -ensVersion=81 \
       gadMor1.ensGene.ra > ensGene.81.load.log 2>&1

    cd /hive/data/genomes/gasAcu1/bed/ensGene.81/process
    cp -p ../../ensGene.79/process/extraLift.sh .
    ./extraLift.sh
# Got 1935 lifts in ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft
# Lifting gasAcu1.allGenes.gp.needLifting.gz
# checked: 29245 failed: 0
# pass1 - making usageList (23 chroms): 20 millis
# pass2 - checking and writing primary data (29245 records, 12 fields): 623 millis
# Sorting and writing extra index 0: 16 millis
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load  -ensVersion=81 \
       gasAcu1.ensGene.ra > ensGene.81.load.log 2>&1

############################################################################
# ensembl 79 update (DONE - 2015-03-17 - Hiram)
    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 78
    # constructs the files:
# -rw-rw-r-- 1 4507 Mar 17 10:19 release.79.gtf.names
# -rw-rw-r-- 1 2659 Mar 17 10:19 release.79.MySQL.names
# -rw-rw-r-- 1 5046 Mar 17 10:19 release.79.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions  79 | grep -v "NOT FOUND"
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v79
    cd /hive/data/outside/ensembl/ensGene/v79
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.79.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for: gadMor1 gasAcu1
    # new assembly for chlSab1

    cd /hive/data/genomes/gadMor1/bed/ensGene.79/process
    cp -p ../../ensGene.78/process/extraLifting.sh .
    ./extraLifting.sh
    cd /hive/data/genomes/gadMor1
    doEnsGeneUpdate.pl -continue=load  -ensVersion=79 \
       gadMor1.ensGene.ra > ensGene.79.load.log 2>&1

    cd /hive/data/genomes/gasAcu1/bed/ensGene.79/process
    cp -p ../../ensGene.78/process/extraLift.sh .
    ./extraLift.sh
    doEnsGeneUpdate.pl -continue=load  -ensVersion=79 \
       gasAcu1.ensGene.ra > ensGene.79.load.log 2>&1

############################################################################
# ensembl 78 update (DONE - 2014-12-03,11 - Hiram)
    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 78
    # constructs the files:
# -rw-rw-r-- 1    4507 Dec  3 09:26 release.78.gtf.names
# -rw-rw-r-- 1    1809 Dec  3 09:26 release.78.MySQL.names
# -rw-rw-r-- 1    5046 Dec  3 09:26 release.78.fasta.names

    # which are edited into: EnsGeneAutomate.pm, verify it is good:
    ./ensVersions  78 | grep -v "NOT FOUND"
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v78
    cd /hive/data/outside/ensembl/ensGene/v78
    # construct db work list:
    ../mkList.sh
    # remove mm10 and hg38 from the list since those no longer go out
    # creates the file: ens.78.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"
    # there were a couple of fixups for: gadMor1 gasAcu1

    # the only new gene sets are on: papAnu2 poeFor1 rn5 mm10 hg38
    # and only papAnu2 rn5 and mm10 go to the RR

############################################################################
# when all done, reset the dateReference:
     hgsql -e \
'update trackVersion set dateReference="aug2014" where name="ensGene" AND version="76";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="78";' hgFixed
     # next time, v78 will be 'dec2014'

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.78
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anaPla1 - Mallard duck - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/anaPla1
    cat << '_EOF_' > anaPla1.ensGene.ra
# required db variable
db anaPla1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 anaPla1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anaPla1/bed/ensGene.78
    featureBits anaPla1 ensGene
    # 26817595 bases of 1069972754 (2.506%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.78
    featureBits anoCar2 ensGene
    # 48128976 bases of 1701353770 (2.829%) in intersection

############################################################################
#  astMex1 - Mexican tetra (cavefish) - Ensembl Genes version 78  (DONE -
#  2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/astMex1
    cat << '_EOF_' > astMex1.ensGene.ra
# required db variable
db astMex1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "s/\.1//; s/MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 astMex1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/astMex1/bed/ensGene.78
    featureBits astMex1 ensGene
    # 62074147 bases of 964264884 (6.437%) in intersection

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.78
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.78
    featureBits calJac3 ensGene
    # 51922322 bases of 2752505800 (1.886%) in intersection

############################################################################
#  canFam3 - Dog - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.78
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.78
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.78
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
nameTranslation "/NC_004570/d"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.78
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.78
    featureBits danRer7 ensGene
    # 67747981 bases of 1409770109 (4.806%) in intersection

############################################################################
#  dasNov3 - Armadillo - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov3
    cat << '_EOF_' > dasNov3.ensGene.ra
# required db variable
db dasNov3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM
nameTranslation "s/NC_001821/chrM/; s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 dasNov3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov3/bed/ensGene.78
    featureBits dasNov3 ensGene
    # 54529560 bases of 3299882059 (1.652%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.78
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.78
    featureBits dm3 ensGene
    # 33006329 bases of 162367812 (20.328%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.78
    featureBits echTel1 ensGene
    # 25772625 bases of 2111581369 (1.221%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.78
    featureBits equCab2 ensGene
    # 39578717 bases of 2428790173 (1.630%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.78
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat5 - Cat - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat5
    cat << '_EOF_' > felCat5.ensGene.ra
# required db variable
db felCat5
liftUp /hive/data/genomes/felCat5/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 felCat5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat5/bed/ensGene.78
    featureBits felCat5 ensGene
    # 42685066 bases of 2364296207 (1.805%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.78
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  gadMor1 - Atlantic cod - Ensembl Genes version 78  (DONE - 2014-12-11 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gadMor1
    cat << '_EOF_' > gadMor1.ensGene.ra
# required db variable
db gadMor1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
# skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1

liftUp /hive/data/genomes/gadMor1/bed/ucscToEnsembl/ensemblToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 gadMor1.ensGene.ra
    # XXX this fails in processing, copy over the script from v76 processing
    # to finish the build
    ssh hgwdev
    cd /hive/data/genomes/gadMor1/bed/ensGene.78
    featureBits gadMor1 ensGene
    # 28088595 bases of 608038597 (4.620%) in intersection

############################################################################
#  galGal4 - Chicken - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal4
    cat << '_EOF_' > galGal4.ensGene.ra
# required db variable
db galGal4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# Ensembl has different names for everything from UCSC, translate the names
liftUp /hive/data/genomes/galGal4/jkStuff/ens.71.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 galGal4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal4/bed/ensGene.78
    featureBits galGal4 ensGene
    # 40207202 bases of 1032854810 (3.893%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 78  (DONE - 2014-12-11 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 gasAcu1.ensGene.ra
    # XXX this fails in processing, check for scripts in the previous
    # version  process/ directory to complete the process
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.78
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/; s/chr2a/chr2A/; s/chr2b/chr2B/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.78
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

############################################################################
#  hg38 - Human - Ensembl Genes version 78  (DONE - 2014-12-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg38
    cat << '_EOF_' > hg38.ensGene.ra
# required db variable
db hg38

# haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg38/jkStuff/ensembl.alts.lift

# Ensembl has different names for everything
liftUp /hive/data/genomes/hg38/jkStuff/ensembl.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 hg38.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg38/bed/ensGene.78
    featureBits hg38 ensGene
    # 135406045 bases of 3049335806 (4.441%) in intersection

############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.78
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection

############################################################################
#  lepOcu1 - Spotted gar - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1
    cat << '_EOF_' > lepOcu1.ensGene.ra
# required db variable
db lepOcu1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "/AHAT01044173/d; s/^\([L]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 lepOcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1/bed/ensGene.78
    featureBits lepOcu1 ensGene
    # 50639529 bases of 869414361 (5.825%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.78
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.78
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.78
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.78
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm10 - Mouse - Ensembl Genes version 78  (DONE - 2014-12-11 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
#skipInvalid yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/MG[0-9][0-9]*_PATCH/d; /CHR_MMCHR1_CHORI29_IDD5_1/d; s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/i"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.78
    featureBits mm10 ensGene
    # 97786799 bases of 2652783500 (3.686%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.78
    featureBits monDom5 ensGene
    # 56389659 bases of 3501660299 (1.610%) in intersection

############################################################################
#  musFur1 - Ferret  - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/musFur1
    cat << '_EOF_' > musFur1.ensGene.ra
# required db variable
db musFur1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation 's/^MT/chrM/; s/\.1//'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 musFur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/musFur1/bed/ensGene.78
    featureBits musFur1 ensGene
    # 52850166 bases of 2277906570 (2.320%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.78
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.78
    featureBits nomLeu1 ensGene
    # 53802940 bases of 2756591777 (1.952%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.78
    featureBits ochPri2 ensGene
    # 25447928 bases of 1923624051 (1.323%) in intersection

############################################################################
#  oreNil1 - Nile tilapia - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.78
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.78
    featureBits ornAna1 ensGene
    # 36478973 bases of 1842236818 (1.980%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.78
    featureBits oryCun2 ensGene
    # 46223233 bases of 2604023284 (1.775%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.78
    featureBits oryLat2 ensGene
    # 32329089 bases of 700386597 (4.616%) in intersection

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.78
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

############################################################################
#  oviAri3 - Sheep - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oviAri3
    cat << '_EOF_' > oviAri3.ensGene.ra
# required db variable
db oviAri3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM, add chrUn_ to the contigs and chr to the chrom names
nameTranslation "s/^\([0-9X]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 oviAri3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oviAri3/bed/ensGene.78
    featureBits oviAri3 ensGene
    # 41579350 bases of 2534335866 (1.641%) in intersection

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.78
    featureBits panTro4 ensGene
    # 49247440 bases of 2902338967 (1.697%) in intersection

############################################################################
#  papAnu2 - Baboon - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/papAnu2
    cat << '_EOF_' > papAnu2.ensGene.ra
# required db variable
db papAnu2

# remove the first .1 from the contig names in the Ensembl GTF file
# UCSC does not have the chrMt, and add chr to the chrom names
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; /MT/d; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 papAnu2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/papAnu2/bed/ensGene.78
    featureBits papAnu2 ensGene
    # 45153792 bases of 2893250291 (1.561%) in intersection

############################################################################
#  pelSin1 - Chinese softshell turtle - Ensembl Genes version 78  (DONE -
#  2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pelSin1
    cat << '_EOF_' > pelSin1.ensGene.ra
# required db variable
db pelSin1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 pelSin1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pelSin1/bed/ensGene.78
    featureBits pelSin1 ensGene
    # 47344681 bases of 2106639384 (2.247%) in intersection

############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^MT/chrM/; s/^NC_001626/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.78
    featureBits petMar2 ensGene
    # 13353634 bases of 647368134 (2.063%) in intersection

############################################################################
#  poeFor1 - Amazon molly - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/poeFor1
    cat << '_EOF_' > poeFor1.ensGene.ra
# required db variable
db poeFor1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 poeFor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/poeFor1/bed/ensGene.78
    featureBits poeFor1 ensGene
    # 68306583 bases of 714197265 (9.564%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.78
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes

# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.78
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.78
    featureBits pteVam1 ensGene
    # 28967285 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.78
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn5 - Rat - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn5
    cat << '_EOF_' > rn5.ensGene.ra
# required db variable
db rn5
liftUp /hive/data/genomes/rn5/jkStuff/ensToUcsc.lift
# optionally update the knownToEnsembl table after ensGene updated
#rn5 does not have knownGene nor rgdGene2, so the following
# will not work. See redmine #10358 for more details
#knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 rn5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn5/bed/ensGene.78
    featureBits rn5 ensGene
    # 48963876 bases of 2572853723 (1.903%) in intersection

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.78
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.78
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.78
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.78
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

############################################################################
#  susScr3 - Pig - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.78
    featureBits susScr3 ensGene
    # 45849405 bases of 2525294057 (1.816%) in intersection

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.78
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

############################################################################
#  susScr3 - Pig - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.78
    featureBits susScr3 ensGene
    # 45849405 bases of 2525294057 (1.816%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.78
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.78
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.78
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.78
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.78
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 78  (DONE - 2014-12-03 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.78
    featureBits vicPac1 ensGene
    # 17894655 bases of 1922910435 (0.931%) in intersection

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 78  (DONE - 2014-12-03 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
# eliminate the Ensembl chrMT(NC_006839) since UCSC does not have this:
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/; /^NC_006839/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.78
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

############################################################################
#  xipMac1 - Southern platyfish - Ensembl Genes version 78  (DONE - 2014-12-03
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/xipMac1
    cat << '_EOF_' > xipMac1.ensGene.ra
# required db variable
db xipMac1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/NC_011379/chrM/;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=78 xipMac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xipMac1/bed/ensGene.78
    featureBits xipMac1 ensGene
    # 51955244 bases of 652815383 (7.959%) in intersection

############################################################################

############################################################################
# ensembl 75 update (DONE - 2014-02-28 - Hiram)
    # to pick up the new file listings from Ensembl, in the source tree:
    cd ~/kent/src/hg/utils/automation
    ./findEnsFtpNames.sh 75
    # constructs the files:
# -rw-rw-r-- 1    4314 Feb 28 13:37 release.75.gtf.names
# -rw-rw-r-- 1    2547 Feb 28 13:37 release.75.MySQL.names
# -rw-rw-r-- 1    5027 Feb 28 13:37 release.75.fasta.names
    # which are edited into: EnsGeneAutomate.pm
    # the edits can be checked:
    egrep "75.gtf|_75_|75.pep" EnsGeneAutomate.pm \
       | awk '{print $1}' | sort | uniq -c
    # should be three of each db name.  You can test it with the command:
    ./ensVersions  75 | grep -v "NOT FOUND"
    # when it is good and checked in, it is copied to /cluster/bin/scripts
    # then, working in:
    mkdir /hive/data/outside/ensembl/ensGene/v75
    cd /hive/data/outside/ensembl/ensGene/v75
    # construct db work list:
    ../mkList.sh
    # creates the file: ens.75.update.list
    # the scripts work off of this list:
    time ../runUpdate.sh > update.log.0 2>&1
    # about 1.5 hours
    # to verify done, and find the broken ones:
    ../checkStatus.sh | grep -v "ALL DONE"

############################################################################
# when all done, reset the dateReference:
     hgsql -e \
'update trackVersion set dateReference="dec2013" where name="ensGene" AND version="74";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="75";' hgFixed
     # next time, v75 will be 'feb2014'

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.75
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anaPla1 - Mallard duck - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/anaPla1
    cat << '_EOF_' > anaPla1.ensGene.ra
# required db variable
db anaPla1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 anaPla1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anaPla1/bed/ensGene.75
    featureBits anaPla1 ensGene
    # 26817595 bases of 1069972754 (2.506%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.75
    featureBits anoCar2 ensGene
    # 48128976 bases of 1701353770 (2.829%) in intersection

############################################################################
#  astMex1 - Mexican tetra (cavefish) - Ensembl Genes version 75  (DONE -
#  2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/astMex1
    cat << '_EOF_' > astMex1.ensGene.ra
# required db variable
db astMex1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "s/\.1//; s/MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 astMex1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/astMex1/bed/ensGene.75
    featureBits astMex1 ensGene
    # 62074147 bases of 964264884 (6.437%) in intersection

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.75
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.75
    featureBits calJac3 ensGene
    # 51922322 bases of 2752505800 (1.886%) in intersection

############################################################################
#  canFam3 - Dog - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.75
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.75
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 75  (DONE - 2014-03-07 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
cat: choHof1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.75
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
nameTranslation "/NC_004570/d"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.75
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 75  (DONE - 2014-03-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.75
    featureBits danRer7 ensGene
    # 67747981 bases of 1409770109 (4.806%) in intersection

############################################################################
#  dasNov3 - Armadillo - Ensembl Genes version 75  (DONE - 2014-03-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov3
    cat << '_EOF_' > dasNov3.ensGene.ra
# required db variable
db dasNov3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM
nameTranslation "s/NC_001821/chrM/; s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 dasNov3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov3/bed/ensGene.75
    featureBits dasNov3 ensGene
    # 54529560 bases of 3299882059 (1.652%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 75  (DONE - 2014-03-07 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
cat: dipOrd1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.75
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 75  (DONE - 2014-03-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.75
    featureBits dm3 ensGene
    # 33006329 bases of 162367812 (20.328%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 75  (DONE - 2014-03-07 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
cat: echTel1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.75
    featureBits echTel1 ensGene
    # 25772625 bases of 2111581369 (1.221%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.75
    featureBits equCab2 ensGene
    # 39578717 bases of 2428790173 (1.630%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 75  (DONE - 2014-03-07 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
cat: eriEur1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.75
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat5 - Cat - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat5
    cat << '_EOF_' > felCat5.ensGene.ra
# required db variable
db felCat5
liftUp /hive/data/genomes/felCat5/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 felCat5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat5/bed/ensGene.75
    featureBits felCat5 ensGene
    # 42685066 bases of 2364296207 (1.805%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.75
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  gadMor1 - Atlantic cod - Ensembl Genes version 75  (DONE - 2014-03-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gadMor1
    cat << '_EOF_' > gadMor1.ensGene.ra
cat: gadMor1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 gadMor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gadMor1/bed/ensGene.75
    featureBits gadMor1 ensGene
    # 28088595 bases of 608038597 (4.620%) in intersection

############################################################################
#  galGal4 - Chicken - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal4
    cat << '_EOF_' > galGal4.ensGene.ra
# required db variable
db galGal4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# Ensembl has different names for everything from UCSC, translate the names
liftUp /hive/data/genomes/galGal4/jkStuff/ens.71.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 galGal4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal4/bed/ensGene.75
    featureBits galGal4 ensGene
    # 40207202 bases of 1032854810 (3.893%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 75  (DONE - 2014-03-07 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
cat: gasAcu1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.75
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/; s/chr2a/chr2A/; s/chr2b/chr2B/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.75
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 75  (DONE - 2014-03-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
cat: hg19.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.75
    featureBits hg19 ensGene
    # 125868434 bases of 2897316137 (4.344%) in intersection

############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.75
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection

############################################################################
#  lepOcu1 - Spotted gar - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1
    cat << '_EOF_' > lepOcu1.ensGene.ra
# required db variable
db lepOcu1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "/AHAT01044173/d; s/^\([L]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 lepOcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1/bed/ensGene.75
    featureBits lepOcu1 ensGene
    # 50639529 bases of 869414361 (5.825%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.75
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 75  (DONE - 2014-03-07 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
cat: macEug1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.75
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.75
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.75
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm10 - Mouse - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
#skipInvalid yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/MG[0-9][0-9]*_PATCH/d; s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/i"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.75
    featureBits mm10 ensGene
    # 89399999 bases of 2652783500 (3.370%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.75
    featureBits monDom5 ensGene
    # 56389659 bases of 3501660299 (1.610%) in intersection

############################################################################
#  musFur1 - Ferret  - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/musFur1
    cat << '_EOF_' > musFur1.ensGene.ra
# required db variable
db musFur1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation 's/^MT/chrM/; s/\.1//'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 musFur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/musFur1/bed/ensGene.75
    featureBits musFur1 ensGene
    # 52850166 bases of 2277906570 (2.320%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.75
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.75
    featureBits nomLeu1 ensGene
    # 53802940 bases of 2756591777 (1.952%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.75
    featureBits ochPri2 ensGene
    # 25447928 bases of 1923624051 (1.323%) in intersection

############################################################################
#  oreNil1 - Nile tilapia - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.75
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.75
    featureBits ornAna1 ensGene
    # 36478973 bases of 1842236818 (1.980%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.75
    featureBits oryCun2 ensGene
    # 46223233 bases of 2604023284 (1.775%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.75
    featureBits oryLat2 ensGene
    # 32329089 bases of 700386597 (4.616%) in intersection

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.75
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

############################################################################
#  oviAri3 - Sheep - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oviAri3
    cat << '_EOF_' > oviAri3.ensGene.ra
# required db variable
db oviAri3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM, add chrUn_ to the contigs and chr to the chrom names
nameTranslation "s/^\([0-9X]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 oviAri3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oviAri3/bed/ensGene.75
    featureBits oviAri3 ensGene
    # 41579350 bases of 2534335866 (1.641%) in intersection

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.75
    featureBits panTro4 ensGene
    # 49247440 bases of 2902338967 (1.697%) in intersection

############################################################################
#  pelSin1 - Soft-shell Turtle - Ensembl Genes version 75  (DONE - 2014-02-28
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pelSin1
    cat << '_EOF_' > pelSin1.ensGene.ra
# required db variable
db pelSin1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 pelSin1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pelSin1/bed/ensGene.75
    featureBits pelSin1 ensGene
    # 47344681 bases of 2106639384 (2.247%) in intersection

############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^MT/chrM/; s/^NC_001626/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.75
    featureBits petMar2 ensGene
    # 13353634 bases of 647368134 (2.063%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.75
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 75  (DONE - 2014-03-07 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
cat: proCap1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.75
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 75  (DONE - 2014-03-07 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
cat: pteVam1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.75
    featureBits pteVam1 ensGene
    # 28967285 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.75
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn5 - Rat - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn5
    cat << '_EOF_' > rn5.ensGene.ra
# required db variable
db rn5
liftUp /hive/data/genomes/rn5/jkStuff/ensToUcsc.lift
# optionally update the knownToEnsembl table after ensGene updated
#rn5 does not have knownGene nor rgdGene2, so the following
# will not work. See redmine #10358 for more details
#knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 rn5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn5/bed/ensGene.75
    featureBits rn5 ensGene
    # 48167342 bases of 2572853723 (1.872%) in intersection

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.75
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.75
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.75
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.75
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

############################################################################
#  susScr3 - Pig - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.75
    featureBits susScr3 ensGene
    # 45849405 bases of 2525294057 (1.816%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.75
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.75
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.75
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 75  (DONE - 2014-03-07 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
cat: tupBel1.ensGene.ra: No such file or directory
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.75
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.75
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 75  (DONE - 2014-02-28 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.75
    featureBits vicPac1 ensGene
    # 17894655 bases of 1922910435 (0.931%) in intersection

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 75  (DONE - 2014-02-28 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
# eliminate the Ensembl chrMT(NC_006839) since UCSC does not have this:
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/; /^NC_006839/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.75
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

############################################################################
#  xipMac1 - Southern platyfish - Ensembl Genes version 75  (DONE - 2014-02-28
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/xipMac1
    cat << '_EOF_' > xipMac1.ensGene.ra
# required db variable
db xipMac1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/NC_011379/chrM/;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=75 xipMac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xipMac1/bed/ensGene.75
    featureBits xipMac1 ensGene
    # 51955244 bases of 652815383 (7.959%) in intersection

############################################################################
# ensembl 74 update (DONE - 2013-12-10 - Hiram)

# difficulties with v74: gadMor1 and gasAcu1 need extra lifting to avoid
#   difficulties from different levels of contig names in Ensembl that
#     are not in UCSC.

     hgsql -e \
'update trackVersion set dateReference="sep2013" where name="ensGene" AND version="73";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="74";' hgFixed

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.74
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anaPla1 - Mallard duck - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/anaPla1
    cat << '_EOF_' > anaPla1.ensGene.ra
# required db variable
db anaPla1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 anaPla1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anaPla1/bed/ensGene.74
    featureBits anaPla1 ensGene
    # 26817595 bases of 1069972754 (2.506%) in intersection

############################################################################
#  astMex1 - Mexican tetra (cavefish) - Ensembl Genes version 74  (DONE -
#  2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/astMex1
    cat << '_EOF_' > astMex1.ensGene.ra
# required db variable
db astMex1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "s/\.1//; s/MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 astMex1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/astMex1/bed/ensGene.74
    featureBits astMex1 ensGene
    # 62074147 bases of 964264884 (6.437%) in intersection

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.74
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.74
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

############################################################################
#  canFam3 - Dog - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.74
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.74
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.74
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
nameTranslation "/NC_004570/d"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.74
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.74
    featureBits danRer7 ensGene
    # 65162549 bases of 1409770109 (4.622%) in intersection

############################################################################
#  dasNov3 - Armadillo - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov3
    cat << '_EOF_' > dasNov3.ensGene.ra
# required db variable
db dasNov3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM
nameTranslation "s/NC_001821/chrM/; s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 dasNov3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov3/bed/ensGene.74
    featureBits dasNov3 ensGene
    # 54529560 bases of 3299882059 (1.652%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.74
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.74
    featureBits dm3 ensGene
    # 33006329 bases of 162367812 (20.328%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.74
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.74
    featureBits equCab2 ensGene
    # 39578717 bases of 2428790173 (1.630%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.74
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat5 - Cat - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat5
    cat << '_EOF_' > felCat5.ensGene.ra
# required db variable
db felCat5
liftUp /hive/data/genomes/felCat5/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 felCat5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat5/bed/ensGene.74
    featureBits felCat5 ensGene
    # 42685066 bases of 2364296207 (1.805%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.74
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  gadMor1 - Atlantic cod - Ensembl Genes version 74  (DONE - 2013-12-10 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gadMor1
    cat << '_EOF_' > gadMor1.ensGene.ra
# required db variable
db gadMor1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
# skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1

liftUp /hive/data/genomes/gadMor1/bed/ucscToEnsembl/ensemblToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 gadMor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gadMor1/bed/ensGene.74
    featureBits gadMor1 ensGene
    # 28088595 bases of 608038597 (4.620%) in intersection

############################################################################
#  galGal4 - Chicken - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal4
    cat << '_EOF_' > galGal4.ensGene.ra
# required db variable
db galGal4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# Ensembl has different names for everything from UCSC, translate the names
liftUp /hive/data/genomes/galGal4/jkStuff/ens.71.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 galGal4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal4/bed/ensGene.74
    featureBits galGal4 ensGene
    # 40207202 bases of 1032854810 (3.893%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 74  (DONE - 2013-12-10 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.74
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/; s/chr2a/chr2A/; s/chr2b/chr2B/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.74
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-
5]/d; /^HSCHR[7-9]/d; /^HSCHR6_1/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.68.lft
# Ensembl 70 using different mitochondria sequence, lift MT to chrM
# required.
liftMtOver /hive/data/genomes/hg19/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.74
    featureBits hg19 ensGene
    # 125868434 bases of 2897316137 (4.344%) in intersection

############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.74
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection

############################################################################
#  lepOcu1 - Spotted gar - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1
    cat << '_EOF_' > lepOcu1.ensGene.ra
# required db variable
db lepOcu1

# remove the first .1 from the contig names in the Ensembl GTF file
# add chr or chrUn_ and remove the duplicate contig
nameTranslation "/AHAT01044173/d; s/^\([L]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 lepOcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/lepOcu1/bed/ensGene.74
    featureBits lepOcu1 ensGene
    # 50639529 bases of 869414361 (5.825%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.74
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.74
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.74
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.74
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm10 - Mouse - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
#skipInvalid yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/MG[0-9][0-9]*_PATCH/d; s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/i"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.74
    featureBits mm10 ensGene
    # 89399999 bases of 2652783500 (3.370%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.74
    featureBits monDom5 ensGene
    # 56389659 bases of 3501660299 (1.610%) in intersection

############################################################################
#  musFur1 - Ferret  - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/musFur1
    cat << '_EOF_' > musFur1.ensGene.ra
# required db variable
db musFur1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation 's/^MT/chrM/; s/\.1//'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 musFur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/musFur1/bed/ensGene.74
    featureBits musFur1 ensGene
    # 52850166 bases of 2277906570 (2.320%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.74
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.74
    featureBits nomLeu1 ensGene
    # 53802940 bases of 2756591777 (1.952%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.74
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  oreNil1 - Nile tilapia - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.74
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.74
    featureBits ornAna1 ensGene
    # 36478973 bases of 1842236818 (1.980%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.74
    featureBits oryCun2 ensGene
    # 46223233 bases of 2604023284 (1.775%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.74
    featureBits oryLat2 ensGene
    # 32329089 bases of 700386597 (4.616%) in intersection

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.74
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

############################################################################
#  oviAri3 - Sheep - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oviAri3
    cat << '_EOF_' > oviAri3.ensGene.ra
# required db variable
db oviAri3

# remove the first .1 from the contig names in the Ensembl GTF file
# correct name for chrM, add chrUn_ to the contigs and chr to the chrom names
nameTranslation "s/^\([0-9X]\)/chr\1/; s/\.1//; s/MT/chrM/; s/^\([JA]\)/chrUn_\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 oviAri3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oviAri3/bed/ensGene.74
    featureBits oviAri3 ensGene
    # 41579350 bases of 2534335866 (1.641%) in intersection

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.74
    featureBits panTro4 ensGene
    # 49247440 bases of 2902338967 (1.697%) in intersection

############################################################################
#  pelSin1 - Soft-shell Turtle - Ensembl Genes version 74  (DONE - 2013-12-06
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pelSin1
    cat << '_EOF_' > pelSin1.ensGene.ra
# required db variable
db pelSin1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 pelSin1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pelSin1/bed/ensGene.74
    featureBits pelSin1 ensGene
    # 47344196 bases of 2106639384 (2.247%) in intersection

############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^MT/chrM/; s/^NC_001626/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.74
    featureBits petMar2 ensGene
    # 13353634 bases of 647368134 (2.063%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.74
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes

# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.74
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.74
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.74
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn5 - Rat - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn5
    cat << '_EOF_' > rn5.ensGene.ra
# required db variable
db rn5
liftUp /hive/data/genomes/rn5/jkStuff/ensToUcsc.lift
# optionally update the knownToEnsembl table after ensGene updated
#rn5 does not have knownGene nor rgdGene2, so the following
# will not work. See redmine #10358 for more details
#knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 rn5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn5/bed/ensGene.74
    featureBits rn5 ensGene
    # 48167444 bases of 2572853723 (1.872%) in intersection

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.74
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.74
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.74
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.74
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

############################################################################
#  susScr3 - Pig - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.74
    featureBits susScr3 ensGene
    # 45849408 bases of 2525294057 (1.816%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.74
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.74
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.74
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.74
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.74
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 74  (DONE - 2013-12-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.74
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 74  (DONE - 2013-12-06 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
# eliminate the Ensembl chrMT(NC_006839) since UCSC does not have this:
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/; /^NC_006839/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.74
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

############################################################################
#  xipMac1 - Southern platyfish - Ensembl Genes version 74  (DONE - 2013-12-06
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/xipMac1
    cat << '_EOF_' > xipMac1.ensGene.ra
# required db variable
db xipMac1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/NC_011379/chrM/;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=74 xipMac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xipMac1/bed/ensGene.74
    featureBits xipMac1 ensGene
    # 51955244 bases of 652815383 (7.959%) in intersection

############################################################################
# ensembl 73 update (DONE - 2013-09-17 - Hiram)

# Difficulties encountered with v73: the fix to the scripts last time
# to allow the word 'contig' to be recognized for constructing the lift across
# file caused a problem with all GeneScaffold assemblies.  They had to be
# gone back over with a fix to allow only only UCSC chrom names to be
# in that file.  That caused problems with gadMor1, it was a custom fixup.
# Also, running featureBits on them all revealed a missing entry for gadMor1
# in the all.joiner file, and tupBel1 gene scaffold track needed to be
# cleaned of non-UCSC names.

# The 'same as previous' check failed, so all tracks were reloaded even
# when not required.  That has been fixed in the script.

     hgsql -e \
'update trackVersion set dateReference="jun2013" where name="ensGene" AND version="72";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="73";' hgFixed

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.73
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anaPla1 - Anas platyrhynchos - Ensembl Genes version 73  (DONE - 2013-09-05
#  - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anaPla1
    cat << '_EOF_' > anaPla1.ensGene.ra
# required db variable
db anaPla1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 anaPla1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anaPla1/bed/ensGene.73
    featureBits anaPla1 ensGene
    # 26817595 bases of 1069972754 (2.506%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.73
    featureBits anoCar2 ensGene
    # 48128976 bases of 1701353770 (2.829%) in intersection

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.73
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.73
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

############################################################################
#  canFam3 - Dog - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.73
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.73
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.73
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
nameTranslation "/NC_004570/d"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.73
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 73  (DONE - 2013-09-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.73
    featureBits danRer7 ensGene
    # 65162549 bases of 1409770109 (4.622%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 73  (DONE - 2013-09-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.73
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 73  (DONE - 2013-09-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.73
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 73  (DONE - 2013-09-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.73
    featureBits dm3 ensGene
    # 33006329 bases of 162367812 (20.328%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.73
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.73
    featureBits equCab2 ensGene
    # 39578717 bases of 2428790173 (1.630%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.73
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat5 - Cat - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat5
    cat << '_EOF_' > felCat5.ensGene.ra
# required db variable
db felCat5
liftUp /hive/data/genomes/felCat5/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 felCat5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat5/bed/ensGene.73
    featureBits felCat5 ensGene
    # 42685066 bases of 2364296207 (1.805%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.73
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  gadMor1 - Atlantic cod - Ensembl Genes version 73  (DONE - 2013-09-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gadMor1
    cat << '_EOF_' > gadMor1.ensGene.ra
# required db variable
db gadMor1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
# skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1

liftUp /hive/data/genomes/gadMor1/bed/ucscToEnsembl/ensemblToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 gadMor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gadMor1/bed/ensGene.73
    featureBits gadMor1 ensGene
    # 28088595 bases of 608038597 (4.620%) in intersection

############################################################################
#  galGal4 - Chicken - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal4
    cat << '_EOF_' > galGal4.ensGene.ra
# required db variable
db galGal4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# Ensembl has different names for everything from UCSC, translate the names
liftUp /hive/data/genomes/galGal4/jkStuff/ens.71.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 galGal4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal4/bed/ensGene.73
    featureBits galGal4 ensGene
    # 40207202 bases of 1032854810 (3.893%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 73  (DONE - 2013-09-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.73
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.73
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HSCHR6_1/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.68.lft
# Ensembl 70 using different mitochondria sequence, lift MT to chrM
# required.
liftMtOver /hive/data/genomes/hg19/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.73
    featureBits hg19 ensGene
    # 123915997 bases of 2897316137 (4.277%) in intersection

############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.73
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.73
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.73
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.73
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.73
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm10 - Mouse - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
#skipInvalid yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/MG[0-9][0-9]*_PATCH/d; s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/i"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.73
    featureBits mm10 ensGene
    # 88891862 bases of 2652783500 (3.351%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.73
    featureBits monDom5 ensGene
    # 56389659 bases of 3501660299 (1.610%) in intersection

############################################################################
#  musFur1 - Ferret  - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/musFur1
    cat << '_EOF_' > musFur1.ensGene.ra
# required db variable
db musFur1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation 's/^MT/chrM/; s/\.1//'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 musFur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/musFur1/bed/ensGene.73
    featureBits musFur1 ensGene
    # 52850166 bases of 2277906570 (2.320%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.73
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.73
    featureBits nomLeu1 ensGene
    # 53802940 bases of 2756591777 (1.952%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.73
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  oreNil1 - Nile tilapia - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.73
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.73
    featureBits ornAna1 ensGene
    # 36478973 bases of 1842236818 (1.980%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.73
    featureBits oryCun2 ensGene
    # 46223233 bases of 2604023284 (1.775%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.73
    featureBits oryLat2 ensGene
    # 32329089 bases of 700386597 (4.616%) in intersection

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.73
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.73
    featureBits panTro4 ensGene
    # 49247440 bases of 2902338967 (1.697%) in intersection

############################################################################
#  pelSin1 -  - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pelSin1
    cat << '_EOF_' > pelSin1.ensGene.ra
# required db variable
db pelSin1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 pelSin1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pelSin1/bed/ensGene.73
    featureBits pelSin1 ensGene
    # 47344196 bases of 2106639384 (2.247%) in intersection

############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^MT/chrM/; s/^NC_001626/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.73
    featureBits petMar2 ensGene
    # 13353634 bases of 647368134 (2.063%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.73
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes

# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.73
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.73
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.73
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn5 - Rat - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn5
    cat << '_EOF_' > rn5.ensGene.ra
# required db variable
db rn5
liftUp /hive/data/genomes/rn5/jkStuff/ensToUcsc.lift
# optionally update the knownToEnsembl table after ensGene updated
#rn5 does not have knownGene nor rgdGene2, so the following
# will not work. See redmine #10358 for more details
#knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 rn5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn5/bed/ensGene.73
    featureBits rn5 ensGene
    # 48167444 bases of 2572853723 (1.872%) in intersection

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.73
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.73
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.73
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.73
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

############################################################################
#  susScr3 - Pig - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.73
    featureBits susScr3 ensGene
    # 45849408 bases of 2525294057 (1.816%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.73
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.73
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.73
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.73
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.73
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# eliminate the Ensembl chrMT since UCSC does not have this:
nameTranslation "/^MT/d"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.73
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 73  (DONE - 2013-09-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
# eliminate the Ensembl chrMT(NC_006839) since UCSC does not have this:
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/; /^NC_006839/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.73
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

############################################################################
#  xipMac1 -  - Ensembl Genes version 73  (DONE - 2013-09-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/xipMac1
    cat << '_EOF_' > xipMac1.ensGene.ra
# required db variable
db xipMac1

# remove the first .1 from the contig names in the Ensembl GTF file
nameTranslation "s/\.1//; s/NC_011379/chrM/;"

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=73 xipMac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xipMac1/bed/ensGene.73
    featureBits xipMac1 ensGene
    # 51955244 bases of 652815383 (7.959%) in intersection

############################################################################
# ensembl 71 update (DONE - 2013-04-02 - Hiram)
#
# new genome in v71: galGal4
#
     hgsql -e \
'update trackVersion set dateReference="current" where name="ensGene" AND version="71";' hgFixed
#
############################################################################
#  galGal4 - Chicken - Ensembl Genes version 71  (DONE - 2013-04-02 - Hiram)
    # note in galGal4.txt the procedure that constructed the ucscToEnsembl
    # table
    # Prepare v71 ensName to ucscName liftup file first:
    cd /hive/data/genomes/galGal4/jkStuff

    grep "^chr" ../chrom.sizes | while read L
    do
        size=`echo $L | awk '{print $2}'`
        ucName=`echo $L | awk '{print $1}'`
        ensName=`hgsql -N -e 'select ensembl from ucscToEnsembl where
        ucsc="'${ucName}'";' galGal4`
        echo -e "0\t${ensName}\t$size\t$ucName\t$size\n"
    done > ens.71.lft

    cd /hive/data/genomes/galGal4
    cat << '_EOF_' > galGal4.ensGene.ra
# required db variable
db galGal4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# Ensembl has different names for everything from UCSC, translate the names
liftUp /hive/data/genomes/galGal4/jkStuff/ens.71.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=71 galGal4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal4/bed/ensGene.71
    featureBits galGal4 ensGene
    # 40207202 bases of 1032854810 (3.893%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 71  (DONE - 2013-04-02 - Hiram)
    # the standard build stopped complaining about the mismatch between
    # genes and proteins, due to too many non-coding genes and a few that
    # UCSC drops because the run off the coordinates of the UCSC haplotypes

    # So, after it stops, copy the doLoad.csh script to finishLoad.csh
    # and change the percentId test to 94 from 95 to allow that test
    # to pass and update the hgFixed.trackVersion table

    # the full procedure than appears as such:
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HSCHR6_1/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.68.lft
# Ensembl 70 using different mitochondria sequence, lift MT to chrM
# required.
liftMtOver /hive/data/genomes/hg19/jkStuff/ens.70.Mt.overChain
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=71 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.71
    featureBits hg19 ensGene
    # 122216103 bases of 2897316137 (4.218%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 71 (DONE - 2013-05-02- Hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=71 gasAcu1.ensGene.ra

  # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.71/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
        | liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
            ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
        ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
            gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #   verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #   checked: 29245 failed: 0

    #   then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=71 gasAcu1.ensGene.ra \
        > ens.71.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

    hgsql hgFixed -ne "update trackVersion set dateReference='current' where
name='ensGene' AND db='gasAcu1' AND version='71';"

############################################################################
# ensembl 70 update (DONE - 2013-02-25 - Chin)
#
# After ensemble 69 update perfomrd on 2013-01-24, we have decide to
# skip it and release v70 update instead.
#
#
# Notable 4 new items in v70:
#   felCat5 and rn5: update from previos release
#   melGal1 and  hg19: MT to chrM liftOver
# 35 items identical to v68.
# 19 assemblies are new or updated with v70:
#    anoCar2, calJac3, danRer7, dm3, equCab2, felCat5, hg19,
#    latCha1, melGal1, mm10, monDom5, nomLeu1, ornAna1, oryLat2,
#    panTro4, petMar2, ponAbe2, rn5, susScr3
#
#   No corresponding assembly (6) here:
#    ce11, ci3, godMar1, musFur1, pelSin1, xipMac1.
#
#  Broken dm3 GTF file appears to be fxied in v70.
#  Otherwise, remarkable very little problem with this update.

    # when complete, reset dateReferences, beware, verify these
    # where clauses will only work on the 'ensGene' table:
    # to verify:
    hgsql -e "select db,name,dateReference from trackVersion where version=69;" hgFixed
    hgsql -e "select db,name,dateReference from trackVersion where version=70;" hgFixed
    # should only see name=ensGene in this output

     hgsql -e \
'update trackVersion set dateReference="oct2012" where version="69";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="70";' hgFixed


############################################################################
#  ailMel1 - Panda - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.70
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ailMel1/bed/ensGene.70

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/;
s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.70
    featureBits anoCar2 ensGene
    # 27920433 bases of 1701353770 (1.641%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/anoCar2/bed/ensGene.70

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/;
s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.70
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/bosTau6/bed/ensGene.70

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;
# s/^Un/chrUn/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.70
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/calJac3/bed/ensGene.70

############################################################################
#  canFam3 - Dog - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;
s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.70
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/canFam3/bed/ensGene.70

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.70
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/cavPor3/bed/ensGene.70

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.70
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/choHof1/bed/ensGene.70
############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 70  (DONE - 2013-02-05
#  - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;
# s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.70
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/cioSav2/bed/ensGene.70

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.70
    featureBits danRer7 ensGene
    # 64173729 bases of 1409770109 (4.552%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/danRer7/bed/ensGene.70

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.70
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/dasNov2/bed/ensGene.70

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 70  (DONE - 2013-02-05
#  - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.70
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/dipOrd1/bed/ensGene.70

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 70  (DONE - 2013-02-05
#  - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/;
s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs


    doEnsGeneUpdate.pl  -ensVersion=70 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.70
    featureBits dm3 ensGene
    # 33006329 bases of 162367812 (20.328%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/dm3/bed/ensGene.70

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.70
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/echTel1/bed/ensGene.70

############################################################################
#  equCab2 - Horse - Ensembl Genes version 70  (DONE - 2013-02-14 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.70
    featureBits equCab2 ensGene
    # 39578717 bases of 2428790173 (1.630%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/equCab2/bed/ensGene.70

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.70
    featureBits eriEur1 ensGene
    # 18049735 bases of 2133134836 (0.846%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/eriEur1/bed/ensGene.70

############################################################################
#  felCat5 - Cat - Ensembl Genes version 70  (DONE - 2013-02-19 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/felCat5
    cat << '_EOF_' > felCat5.ensGene.ra
# required db variable
db felCat5
liftUp /hive/data/genomes/felCat5/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 felCat5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat5/bed/ensGene.70
    featureBits felCat5 ensGene
    # 42685066 bases of 2364296207 (1.805%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/felCat5/bed/ensGene.70


############################################################################
#  fr2 - Fugu - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.70
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/fr2/bed/ensGene.70

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/;
s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.70
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/galGal3/bed/ensGene.70


############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 70 (DONE 2013-02-19 Chin)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 gasAcu1.ensGene.ra


  # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.70/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
        | liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
            ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
        ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
            gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #   verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #   checked: 29245 failed: 0

    #   then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=70 gasAcu1.ensGene.ra
\
        > ens.70.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

    hgsql hgFixed -ne "update trackVersion set dateReference='current' where
name='ensGene' AND db='gasAcu1' AND version='70';"



############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/;
s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.70
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/gorGor3/bed/ensGene.70

############################################################################
#  hg19 - Human - Ensembl Genes version 70  (DONE - 2013-02-24 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HSCHR6_1/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.68.lft
# Ensembl 70 using different mitochondria sequence, lift MT to chrM
# required.

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.70
    featureBits hg19 ensGene
    # 122328358 bases of 2897316137 (4.222%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/hg19/bed/ensGene.70

    # requires extra attention after the process step
    # for gene located in patch sequences, remove their
    # corresponding peptides before load step
    cd /hive/data/genomes/hg19/bed/ensGene.70/download
    mv Homo_sapiens.GRCh37.70.pep.all.fa.gz Homo_sapiens.GRCh37.70.pep.all.beforeRmPATCH.fa.gz
    zcat Homo_sapiens.GRCh37.70.pep.all.beforeRmPATCH.fa.gz | wc -l
    #  819632
    zcat Homo_sapiens.GRCh37.70.pep.all.beforeRmPATCH.fa.gz \
       | grep -v _PATCH | wc -l
    # 816715
    zcat Homo_sapiens.GRCh37.70.pep.all.beforeRmPATCH.fa.gz \
       | grep -v _PATCH > Homo_sapiens.GRCh37.70.pep.all.fa
    gzip Homo_sapiens.GRCh37.70.pep.all.fa
    zcat Homo_sapiens.GRCh37.70.pep.all.fa.gz | wc -l
    # 816715




############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.70
    featureBits latCha1 ensGene
    # 46908212 bases of 2183592768 (2.148%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/latCha1/bed/ensGene.70

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.70
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/loxAfr3/bed/ensGene.70

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.70
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/macEug1/bed/ensGene.70

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 70  (DONE - 2013-02-13 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in
#       perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/;
s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
# Ensembl 70 using different mitochondria sequence,  lift MT to chrM
# required.
liftMtOver /hive/data/genomes/melGal1/jkStuff/ens.70.Mt.overChain

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.70
    featureBits melGal1 ensGene
    # 25095737 bases of 935922386 (2.681%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/melGal1/bed/ensGene.70

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 70  (DONE - 2013-02-05
#  - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.70
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/micMur1/bed/ensGene.70


############################################################################
#  mm10 - Mouse - Ensembl Genes version 70  (DONE - 2013-02-19 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
#skipInvalid yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/MG[0-9][0-9]*_PATCH/d; s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/i"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs


    doEnsGeneUpdate.pl  -ensVersion=70 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.70
    featureBits mm10 ensGene
    # 88112465 bases of 2652783500 (3.322%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/mm10/bed/ensGene.70

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.70
    featureBits monDom5 ensGene
    # 56389659 bases of 3501660299 (1.610%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/monDom5/bed/ensGene.70

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.70
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/myoLuc2/bed/ensGene.70

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/;
s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.70
    featureBits nomLeu1 ensGene
    # 53802940 bases of 2756591777 (1.952%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/nomLeu1/bed/ensGene.70

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.70
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ochPri2/bed/ensGene.70





reNil1 - Nile tilapia - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs
    doEnsGeneUpdate.pl  -ensVersion=70 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.70
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oreNil1/bed/ensGene.70

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs
    doEnsGeneUpdate.pl  -ensVersion=70 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.70
    featureBits ornAna1 ensGene
    # 36478973 bases of 1842236818 (1.980%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ornAna1/bed/ensGene.70

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs
    doEnsGeneUpdate.pl  -ensVersion=70 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.70
    featureBits oryCun2 ensGene
    # 31812581 bases of 2604023284 (1.222%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oryCun2/bed/ensGene.70

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.70
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oryLat2/bed/ensGene.70

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.70
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/otoGar3/bed/ensGene.70

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 70  (DONE - 2013-02-14 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.70
    featureBits panTro4 ensGene
    # 49247440 bases of 2902338967 (1.697%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/panTro4/bed/ensGene.70

############################################################################
#  petMar2 - Lamprey - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/petMar2
    cat << '_EOF_' > petMar2.ensGene.ra
# required db variable
db petMar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 petMar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/petMar2/bed/ensGene.70
    featureBits petMar2 ensGene
    # 13338214 bases of 647368134 (2.060%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/petMar2/bed/ensGene.70

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.70
    featureBits ponAbe2 ensGene
    # 50880441 bases of 3093572278 (1.645%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ponAbe2/bed/ensGene.70


    ap1 - Rock hyrax - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.70
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/proCap1/bed/ensGene.70

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.70
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/pteVam1/bed/ensGene.70

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.70
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/rheMac2/bed/ensGene.70

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.70
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection
 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sacCer3/bed/ensGene.70

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.70
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sarHar1/bed/ensGene.70

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.70
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sorAra1/bed/ensGene.70

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.70
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/speTri2/bed/ensGene.70

############################################################################
#  susScr3 - Pig - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.70
    featureBits susScr3 ensGene
    # 45849408 bases of 2525294057 (1.816%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/susScr3/bed/ensGene.70

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.70
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/taeGut1/bed/ensGene.70

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.70
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/taeGut1/bed/ensGene.70

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.70
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tarSyr1/bed/ensGene.70

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.70
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tetNig2/bed/ensGene.70

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.70
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tetNig2/bed/ensGene.70

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.70
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tupBel1/bed/ensGene.70


lphin - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.70
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/turTru1/bed/ensGene.70


c1 - Alpaca - Ensembl Genes version 70  (DONE - 2013-02-05 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.70
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/vicPac1/bed/ensGene.70

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 70  (DONE - 2013-02-05 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=70 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.70
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/xenTro3/bed/ensGene.70



############################################################################
# ensembl 68 update (DONE - 2012-08-29 - Chin)
#
# Notable 11 new items in v68:
#    canFam3, danRer7, hg19, latCha1, mm10, oreNil1
#    otoGar3, sarHar1, speTri2, susScr3, taeGut1
#
# 42 items identical to v65:
# Due to script error on finding previous version, all eneGene tables
# of the 42 assemblies get reloaded on 2012-08-24.
#    ailMel1, anoCar2, bosTau6, calJac3, cavPor3, choHof1
#    cioSav2, dasNov2, dipOrd1, echTel1, equCab2, eriEur1
#    felCat3, fr2, galGal3, gasAcu1, gorGor3, loxAfr3
#    macEug1, melGal1, micMur1, monDom5, myoLuc2, nomLeu1
#    ochPri2, ornAna1, oryCun2, oryLat2, panTro4, ponAbe2
#    proCap1, pteVam1, rheMac2, rn4, sacCer3, sorAra1
#    tarSyr1, tetNig2, tupBel1, turTru1, vicPac1, xenTro3
#
#   No corresponding assembly here:
#    ce11, ci3, godMar1, pelSin1 and petMar2.
#
#   Broken until further notice:
#      dm3

#  dm3 GTF file appears to be broken still as in v65.
#  Otherwise, remarkable very little problem with this update.

    # when complete, reset dateReferences, beware, verify these
    # where clauses will only work on the 'ensGene' table:
    # to verify:
    hgsql -e "select db,name,dateReference from trackVersion where version=65;" hgFixed
    hgsql -e "select db,name,dateReference from trackVersion where version=68;" hgFixed
    # should only see name=ensGene in this output

     hgsql -e \
'update trackVersion set dateReference="dec2011" where version="65";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="68";' hgFixed

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.68
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ailMel1/bed/ensGene.68

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.68
    featureBits anoCar2 ensGene
    # 27920433 bases of 1701353770 (1.641%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/anoCar2/bed/ensGene.68

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.68
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/bosTau6/bed/ensGene.68

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.68
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/calJac3/bed/ensGene.68

############################################################################
#  canFam3 - Dog - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/canFam3
    cat << '_EOF_' > canFam3.ensGene.ra
# required db variable
db canFam3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^AAEX/chrUn_AAEX/; s/^JH/chrUn_JH/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 canFam3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam3/bed/ensGene.68
    featureBits canFam3 ensGene
    # 52670211 bases of 2392715236 (2.201%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/canFam3/bed/ensGene.68

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.68
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/cavPor3/bed/ensGene.68

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.68
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/choHof1/bed/ensGene.68

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.68
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/cioSav2/bed/ensGene.68

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.68
    featureBits danRer7 ensGene
    # 63943373 bases of 1409770109 (4.536%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/danRer7/bed/ensGene.68

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.68
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/dasNov2/bed/ensGene.68

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.68
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/dipOrd1/bed/ensGene.68

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.68
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/echTel1/bed/ensGene.68

############################################################################
#  equCab2 - Horse - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.68
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/equCab2/bed/ensGene.68

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 68  (DONE - 2012-09-07 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.68
    featureBits eriEur1 ensGene
    # 18049735 bases of 2133134836 (0.846%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/eriEur1/bed/ensGene.68

############################################################################
#  felCat3 - Cat - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 5705: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 28228: ENSFCAT00000009384 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.68
    featureBits felCat3 ensGene
    # 22300874 bases of 1642698377 (1.358%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/felCat3/bed/ensGene.68

############################################################################
#  fr2 - Fugu - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.68
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/fr2/bed/ensGene.68

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.68
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/galGal3/bed/ensGene.68

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 68  (DONE - 2012-09-05
#  - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.68/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
        | liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
            ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
        ../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
            gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #   verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #   checked: 29245 failed: 0

    #   then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=68 gasAcu1.ensGene.ra
\
        > ens.68.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

    hgsql hgFixed -ne "update trackVersion set dateReference='current' where
name='ensGene' AND db='gasAcu1' AND version='68';"


    # if you ever need to remove peptides that have no matching genes
    # since the ensGene is identical to v65, we do not need to
    # remove peptides that have no matching genes, see makedoc below for
    # v65 for more details.

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.68
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/gorGor3/bed/ensGene.68

############################################################################
#  hg19 - Human - Ensembl Genes version 68  (DONE - 2012-09-05 - chinhli)

    # Prepare v68 ensName to ucscName liftup file first:
    cd /hive/data/genomes/hg19/jkStuff

    grep "^chr" ../chrom.sizes | while read L
    do
        size=`echo $L | awk '{print $2}'`
        ucName=`echo $L | awk '{print $1}'`
        ensName=`hgsql -N -e 'select ensembl from ucscToEnsembl where
        ucsc="'${ucName}'";' hg19`
        echo -e "0\t${ensName}.1\t$size\t$ucName\t$size\n"
    done > ens.68.lft

    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
#   v68 introduced several patchs prefixed with "HSCHR6_1"
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HSCHR6_1/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 68 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.68.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.68
    featureBits hg19 ensGene
    # 118573331 bases of 2897316137 (4.093%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/hg19/bed/ensGene.68

 hgsql hgFixed -ne "update trackVersion set dateReference='current' where name='ensGene' AND db='hg19' AND version='68';"

    # lift chrM_rCRS data to UCSC chrM: (DONE - 2012-09-17 - Chin)
    cd /hive/data/genomes/hg19/bed/ensGene.68
    # where chrM.over.chain is from hg19Patch9 processing, namely:
    cat << '_EOF_' > chrM.over.chain
chain 1550477 chrM_rCRS 16569 + 0 16569 chrM 16571 + 0 16571 526
310     0       2
2796    1       0
13075   0       1
387
'_EOF_'
    # << happy emacs
    zcat process/hg19.allGenes.gp.gz | grep -w chrM \
        | sed -e "s/chrM/chrM_rCRS/g" > chrM_rCRS.gp
    liftOver -genePred chrM_rCRS.gp chrM.over.chain chrM.gp noMap.chrM
    # check line count first:
    zcat process/hg19.allGenes.gp.gz | wc -l
    # 191891
    zcat process/hg19.allGenes.gp.gz | grep -vw chrM | wc -l
    # 191854
    zcat process/hg19.allGenes.gp.gz | grep -w chrM | wc -l
    # 37
    cat chrM.gp | wc -l
    # 37

    # remove old chrM entries from process/hg19.allGenes.gp.gz
    zcat process/hg19.allGenes.gp.gz | grep -vw chrM > hg19.allGenes.gp
    wc -l  hg19.allGenes.gp
    # 191854 hg19.allGenes.gp
    cat chrM.gp >> hg19.allGenes.gp
    cat hg19.allGenes.gp | wc -l
    # 191891
    # load the ensGene table:
    gzip hg19.allGenes.gp
    hgLoadGenePred -genePredExt hg19 ensGene process/hg19.allGenes.gp.gz

############################################################################
#  latCha1 - Coelacanth - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/latCha1
    cat << '_EOF_' > latCha1.ensGene.ra
# required db variable
db latCha1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/; s/\.1//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 latCha1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/latCha1/bed/ensGene.68
    featureBits latCha1 ensGene
    # 46907764 bases of 2183592768 (2.148%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/latCha1/bed/ensGene.68

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.68
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/loxAfr3/bed/ensGene.68

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.68
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/macEug1/bed/ensGene.68

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.68
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/micMur1/bed/ensGene.68

############################################################################
#  mm10 - Mouse - Ensembl Genes version 68  (DONE - 2012-08-31 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/mm10
    cat << '_EOF_' > mm10.ensGene.ra
# required db variable
db mm10
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# Ensembl 68 does not meta data like chr5_JH584299_random as ucsc,
#    create the lft file to handle this.
liftUp /hive/data/genomes/mm10/jkStuff/ens.68.lft

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 mm10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm10/bed/ensGene.68
    featureBits mm10 ensGene
    # 86278267 bases of 2652783500 (3.252%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/mm10/bed/ensGene.68

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.68
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/monDom5/bed/ensGene.68

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.68
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/myoLuc2/bed/ensGene.68

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.68
    featureBits nomLeu1 ensGene
    # 45293349 bases of 2756591777 (1.643%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/nomLeu1/bed/ensGene.68

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.68
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ochPri2/bed/ensGene.68

############################################################################
#  oreNil1 - Nile tilapia - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oreNil1
    cat << '_EOF_' > oreNil1.ensGene.ra
# required db variable
db oreNil1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AERX\([0-9][0-9]*\).\(1\|2\)/AERX\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 oreNil1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oreNil1/bed/ensGene.68
    featureBits oreNil1 ensGene
    # 56456830 bases of 816084674 (6.918%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oreNil1/bed/ensGene.68

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.68
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ornAna1/bed/ensGene.68

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.68
    featureBits oryCun2 ensGene
    # 31812581 bases of 2604023284 (1.222%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oryCun2/bed/ensGene.68

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.68
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oryLat2/bed/ensGene.68

############################################################################
#  otoGar3 - Bushbaby - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/otoGar3
    cat << '_EOF_' > otoGar3.ensGene.ra
# required db variable
db otoGar3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^AAQR\([0-9][0-9]*\).1/AAQR\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 otoGar3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar3/bed/ensGene.68
    featureBits otoGar3 ensGene
    # 34963555 bases of 2359530453 (1.482%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/otoGar3/bed/ensGene.68

############################################################################
#  panTro4 - Chimp - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/panTro4
    cat << '_EOF_' > panTro4.ensGene.ra
# required db variable
db panTro4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
liftUp  /hive/data/genomes/panTro4/jkStuff/ensToUcsc.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 panTro4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro4/bed/ensGene.68
    featureBits panTro4 ensGene
    # 49232086 bases of 2902338967 (1.696%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/panTro4/bed/ensGene.68

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.68
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ponAbe2/bed/ensGene.68

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.68
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/proCap1/bed/ensGene.68

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.68
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/pteVam1/bed/ensGene.68

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.68
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/rheMac2/bed/ensGene.68

############################################################################
#  rn4 - Rat - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.68
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/rn4/bed/ensGene.68

    # redmine Bug #10358 rebuild rn4.knownToEnsembl using rgdGene2 instead of
    # knowGene.(2013-03-08 Chin)
    hgMapToGene rn4 ensGene rgdGene2 knownToEnsembl
############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.68
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sacCer3/bed/ensGene.68

############################################################################
#  sarHar1 - Tasmanian devil - Ensembl Genes version 68  (DONE - 2012-09-07 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sarHar1
    cat << '_EOF_' > sarHar1.ensGene.ra
# required db variable
db sarHar1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation '/^MT/d'
liftUp /hive/data/genomes/sarHar1/jkStuff/ensToUcsc.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 sarHar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sarHar1/bed/ensGene.68
    featureBits sarHar1 ensGene
    # 39583248 bases of 2931539702 (1.350%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sarHar1/bed/ensGene.68

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.68
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sorAra1/bed/ensGene.68

############################################################################
#  speTri2 - Squirrel - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/speTri2
    cat << '_EOF_' > speTri2.ensGene.ra
# required db variable
db speTri2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/\.1//; s/\.2//"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 speTri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri2/bed/ensGene.68
    featureBits speTri2 ensGene
    # 35588415 bases of 2311060300 (1.540%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/speTri2/bed/ensGene.68

############################################################################
#  susScr3 - Pig - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/susScr3
    cat << '_EOF_' > susScr3.ensGene.ra
# required db variable
db susScr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/\./-/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 susScr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr3/bed/ensGene.68
    featureBits susScr3 ensGene
    # 44807814 bases of 2525294057 (1.774%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/susScr3/bed/ensGene.68

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 68  (DONE - 2012-09-07 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/; s/^MT/chrM/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.68
    featureBits taeGut1 ensGene
    # 25456901 bases of 1222864691 (2.082%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/taeGut1/bed/ensGene.68

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.68
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tarSyr1/bed/ensGene.68

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.68
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tetNig2/bed/ensGene.68

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.68
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/tupBel1/bed/ensGene.68

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.68
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/turTru1/bed/ensGene.68

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 68  (DONE - 2012-08-29 - chinhli)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.68
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/vicPac1/bed/ensGene.68

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 68  (DONE - 2012-08-29 -
#  chinhli)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=68 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.68
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/xenTro3/bed/ensGene.68


############################################################################
# ensembl 65 update (WORKING - 2011-12-15 - Hiram)
#
#  notable new items: assemblies gadMor1, otoGar3, panTro4, petMar2, sarHar1
#  The fasta header in the peptide files changed its syntax, required a
#  fix to the scripts.  Some assemblies now including chrM where they did
#  not before, required additional nameTranslation rules for those.
#  dm3 GTF file appears to be broken, ensembl-dev email list notified.
#  Otherwise, remarkable very little problem with this update.

    #	when complete, reset dateReferences, beware, verify these
    # where clauses will only work on the 'ensGene' table:
    # to verify:
    hgsql -e "select db,name,dateReference from trackVersion where version=64;" hgFixed
    hgsql -e "select db,name,dateReference from trackVersion where version=65;" hgFixed
    # should only see name=ensGene in this output

     hgsql -e \
'update trackVersion set dateReference="sep2011" where version="64";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="65";' hgFixed

#   Found to be updated from v64:
 ailMel1 anoCar2 danRer7 gasAcu1 hg19 loxAfr3 melGal1 oryCun2

#   Found to be identical to v64, tables not reloaded:
 bosTau6 calJac3 canFam2 cavPor3 ce10 choHof1 ci2 cioSav2 dasNov2
 dipOrd1 echTel1 equCab2 eriEur1 felCat3 fr2 galGal3 gorGor3 macEug1
 micMur1 mm9 monDom5 myoLuc2 nomLeu1 ochPri2 ornAna1 oryLat2 ponAbe2
 proCap1 pteVam1 rheMac2 rn4 sacCer3 sorAra1 speTri1 susScr1 taeGut1
 tarSyr1 tetNig2 tupBel1 turTru1 vicPac1 xenTro3

#   No corresponding assembly here:
 gadMor1 otoGar3 panTro4 petMar2 sarHar1

#   Broken until further notice:
 dm3

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.65
    featureBits ailMel1 ensGene
    # 32006024 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/; s/^MT/chrM/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.65
    featureBits anoCar2 ensGene
    # 27920433 bases of 1701353770 (1.641%) in intersection

############################################################################
#  bosTau6 - Cow - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.65
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.65
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.65
    featureBits canFam2 ensGene
    # 34693517 bases of 2384996543 (1.455%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.65
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  ce10 - C. elegans - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ce10
    cat << '_EOF_' > ce10.ensGene.ra
# required db variable
db ce10
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ce10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce10/bed/ensGene.65
    featureBits ce10 ensGene
    # 31167360 bases of 100286070 (31.078%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.65
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.65
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.65
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.65
    featureBits danRer7 ensGene
    # 63440909 bases of 1409770109 (4.500%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.65
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.65
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.65
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.65
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.65
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 5705: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 28228: ENSFCAT00000009384 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.65
    featureBits felCat3 ensGene
    # 22300874 bases of 1642698377 (1.358%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.65
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.65
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.65/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=65 gasAcu1.ensGene.ra \
	> ens.65.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

    # if you ever need to remove peptides that have no matching genes
    cd /hive/data/genomes/gasAcu1/bed/ensGene.65
    # from the doLoad.csh:
    zcat download/Gasterosteus_aculeatus.BROADS1.65.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//; s/ .*$//' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
    | ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
         | sed -e '/^$/d; s/*$//' | sort > ensPep.gasAcu1.fa.tab
    hgsql -N -e "select name from ensPep;" gasAcu1 | sort > ensPep.name
    hgsql -N -e "select name from ensGene;" gasAcu1 | sort > ensGene.name
    comm -12 ensPep.name ensGene.name > pepAndGene.name
    # select only the peptides with matching gene names
    join pepAndGene.name ensPep.gasAcu1.fa.tab | tr '[ ]' '[\t]' \
	> clean.ensPep.gasAcu1.fa.tab
    wc -l *.tab
    #	24437 clean.ensPep.gasAcu1.fa.tab
    #	27576 ensPep.gasAcu1.fa.tab
    hgPepPred gasAcu1 tab ensPep clean.ensPep.gasAcu1.fa.tab

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.65
    featureBits gorGor3 ensGene
    # 50017329 bases of 2822760080 (1.772%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.65
    featureBits hg19 ensGene
    # 113703268 bases of 2897316137 (3.924%) in intersection

    # lift chrM_rCRS data to UCSC chrM: (DONE - 2012-03-21 - Hiram)
    cd /hive/data/genomes/hg19/bed/ensGene.65
    # where chrM.over.chain is from hg19Patch5 processing, namely:
    cat << '_EOF_' > chrM.over.chain
chain 1550477 chrM_rCRS 16569 + 0 16569 chrM 16571 + 0 16571 230
310     0       2
2796    1       0
13075   0       1
387
'_EOF_'
    # << happy emacs
    zcat process/hg19.allGenes.gp.gz | grep -w chrM \
        | sed -e "s/chrM/chrM_rCRS/g" > chrM_rCRS.gp
    liftOver -genePred chrM_rCRS.gp chrM.over.chain chrM.gp noMap.chrM
    sed -e "s/^/585\t/" chrM.gp > chrM.tab
    hgsql -e 'delete from ensGene where chrom="chrM";' hg19
    hgsql -e 'LOAD DATA LOCAL INFILE "chrM.tab" INTO TABLE ensGene;' hg19

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.65
    featureBits loxAfr3 ensGene
    # 32166806 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.65
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.65
    featureBits melGal1 ensGene
    # 25095590 bases of 935922386 (2.681%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.65
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.65
    featureBits mm9 ensGene
    # 87461430 bases of 2620346127 (3.338%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.65
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.65
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.65
    featureBits nomLeu1 ensGene
    # 45293349 bases of 2756591777 (1.643%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.65
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.65
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^MT/chrM/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.65
    featureBits oryCun2 ensGene
    # 31812581 bases of 2604023284 (1.222%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.65
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.65
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.65
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.65
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.65
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.65
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
#  sacCer3 - S. cerevisiae - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer3
    cat << '_EOF_' > sacCer3.ensGene.ra
# required db variable
db sacCer3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; /^2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 sacCer3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer3/bed/ensGene.65
    featureBits sacCer3 ensGene
    # 8912929 bases of 12157105 (73.315%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.65
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.65
    featureBits speTri1 ensGene
    # 21595750 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.65
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.65
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.65
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.65
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.65
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.65
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 65  (DONE - 2011-12-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.65
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro3 - X. tropicalis - Ensembl Genes version 65  (DONE - 2011-12-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro3
    cat << '_EOF_' > xenTro3.ensGene.ra
# required db variable
db xenTro3
nameTranslation "s/^GL1\([0-9][0-9][0-9][0-9][0-9]\)\.1/GL1\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=65 xenTro3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro3/bed/ensGene.65
    featureBits xenTro3 ensGene
    # 36906921 bases of 1358334882 (2.717%) in intersection

############################################################################
############################################################################
# ensembl 64 update (DONE - 2011-10-12 - Hiram)

     #### when complete, reset dateReferences:
     hgsql -e \
'update trackVersion set dateReference="jun2011" where version="63";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="64";' hgFixed


############################################################################
#  bosTau6 - Cow - Ensembl Genes version 64  (DONE - 2011-10-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau6
    cat << '_EOF_' > bosTau6.ensGene.ra
# required db variable
db bosTau6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9X][0-9]*\)/chr\1/; s/^MT/chrM/; s/^GJ\([0-9]*\).1/chrUn_GJ\1/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=64 bosTau6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau6/bed/ensGene.64
    featureBits bosTau6 ensGene
    # 42264149 bases of 2649682029 (1.595%) in intersection

############################################################################
#  myoLuc2 - Microbat - Ensembl Genes version 64  (DONE - 2011-10-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2
    cat << '_EOF_' > myoLuc2.ensGene.ra
# required db variable
db myoLuc2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=64 myoLuc2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc2/bed/ensGene.64
    featureBits myoLuc2 ensGene
    # 32782563 bases of 1966419868 (1.667%) in intersection

############################################################################
#  gorGor3 - Gorilla - Ensembl Genes version 64  (DONE - 2011-10-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gorGor3
    cat << '_EOF_' > gorGor3.ensGene.ra
# required db variable
db gorGor3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation '/^cutchr/d; /^unplaced/d; s/^\([0-9X][0-9ab]*\)/chr\1/; s/^MT/chrM/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=64 gorGor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor3/bed/ensGene.64
    featureBits gorGor3 ensGene
    # 50017329 bases of 3026913193 (1.652%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 64  (DONE - 2011-10-12 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=64 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.64/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=64 gasAcu1.ensGene.ra \
	> ens.64.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
############################################################################
############################################################################
# ensembl 63 update (DONE - 2011-08-15 - Hiram)
grep "_63" EnsGeneAutomate.pm  | grep "=>" | awk '{print $1}' \
	| sed -e "s/'//g" | sort

     #### when complete, reset dateReferences:
     hgsql -e \
'update trackVersion set dateReference="apr2011" where version="62";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="63";' hgFixed

############################################################################
#  canFam2 - Dog - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    # failed the peptides to gene coverage check:
# ERROR: percent coverage of peptides to genes: 93
# ERROR: should be greater than 95
    # they have non-coding pseudogenes in there now
    # finished this off manually:
    cd /hive/data/genomes/canFam2/bed/ensGene.63

    hgsql -e 'INSERT INTO trackVersion \
    (db, name, who, version, updateTime, comment, source, dateReference) \
    VALUES("canFam2", "ensGene", "hiram", "63", now(), \
        "with peptides Canis_familiaris.BROADD2.63.pep.all.fa.gz", \
        "ftp://ftp.ensembl.org/pub/release-63/gtf/canis_familiaris/Canis_familiaris.BROADD2.63.gtf.gz", \
        "jun2011" );' hgFixed

    featureBits canFam2 ensGene
    # 32393282 bases of 2384996543 (1.358%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/canFam2/bed/ensGene.63


############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.63/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=63 gasAcu1.ensGene.ra \
	> ens.63.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
# bosTau4 was broken - finished manually (DONE - 2011-08-15 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.63/process
    mv allGenes.gtf.gz allGenes.gtf.gz.0
    zcat ../download/Bos_taurus.Btau_4.0.63.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > bosTau4.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    #	checked: 31598 failed: 0
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=63 -continue=load bosTau4.ensGene.ra \
	> ens.63.load  2>&1
    featureBits bosTau4 ensGene
    #  42306082 bases of 2731830700 (1.549%) in intersection

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.63
    featureBits ailMel1 ensGene
    # 31990632 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.63
    featureBits anoCar2 ensGene
    # 27905138 bases of 1701353770 (1.640%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.63
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.63
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  ce10 - C. elegans - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ce10
    cat << '_EOF_' > ce10.ensGene.ra
# required db variable
db ce10
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ce10.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce10/bed/ensGene.63
    featureBits ce10 ensGene
    # 31167360 bases of 100286070 (31.078%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.63
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.63
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.63
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.63
    featureBits danRer7 ensGene
    # 63141009 bases of 1409770109 (4.479%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.63
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.63
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.63
    featureBits dm3 ensGene
    # 30276468 bases of 162367812 (18.647%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.63
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.63
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.63
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 5705: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 28228: ENSFCAT00000009384 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.63
    featureBits felCat3 ensGene
    # 22300874 bases of 1642698377 (1.358%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.63
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.63
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.63
    featureBits hg19 ensGene
    # 111073277 bases of 2897316137 (3.834%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.63
    featureBits loxAfr3 ensGene
    # 32151456 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.63
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.63
    featureBits melGal1 ensGene
    # 25080242 bases of 935922386 (2.680%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.63
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.63
    featureBits mm9 ensGene
    # 86577373 bases of 2620346127 (3.304%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.63
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.63
    featureBits nomLeu1 ensGene
    # 45293349 bases of 2756591777 (1.643%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.63
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.63
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# the lift file will change the chrom names, no nameTranslation needed
# nameTranslation "s/^/chr/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.63
    featureBits oryCun2 ensGene
    # 31797207 bases of 2604023284 (1.221%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.63
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.63
    featureBits otoGar1 ensGene
    # 23692789 bases of 1969052059 (1.203%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.63
    featureBits panTro2 ensGene
    # 50004270 bases of 2909485072 (1.719%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.63
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.63
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.63
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.63
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.63
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.63
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.63
    featureBits speTri1 ensGene
    # 21595750 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.63
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v63 genes to susScr2 (DONE - 2011-08-17 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.63
    cd /hive/data/genomes/susScr2/bed/ensGene.63
    ln -s ../../../susScr1/bed/ensGene.63/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    genePredCheck -db=susScr2 susScr2.allGenes.gp.gz
    #	checked: 22017 failed: 0

    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.63/download/Sus_scrofa.Sscrofa9.63.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.63/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    ln -s ../../../susScr1/bed/ensGene.63/process/ensembl*.* .
    hgLoadSqlTab susScr2 ensemblSource ensemblSource.sql ensemblSource.tab
    hgLoadSqlTab susScr2 ensemblToGeneName ensemblToGeneName.sql \
	ensemblToGeneName.tab

    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "63", now(), \
        "dentical to previous version 60", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-63/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.63.gtf.gz", \
        "current" );' hgFixed

    featureBits susScr2 ensGene
    #	28702434 bases of 2231298548 (1.286%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.63
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.63
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.63
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 63  (DONE - 2011-08-15 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.63
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.63
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 63  (DONE - 2011-08-15 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=63 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.63
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
############################################################################
# ensembl 62 update (WORKING - 2011-04-19 - Hiram)
# to construct a list of genomes to run:
grep "_62" EnsGeneAutomate.pm  | grep "=>" | awk '{print $1}' \
	| sed -e "s/'//g" | sort

     #### when complete, reset dateReferences:
     hgsql -e \
'update trackVersion set dateReference="feb2011" where version="61";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="62";' hgFixed

############################################################################
#  hg19 - Human - Ensembl Genes version 62  (DONE - 2011-04-22 - hiram)
    # This human gene set need a lot of work to get the name translation
    #	to work again.  The contig names have changed in Ensembl for this
    #	version and they defined genes on patch sequence that UCSC does not
    #	include
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# delete commands take out genes that are only in patch sequence
nameTranslation 's/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; /^GL3.*/d; /^HSCHR[1-5]/d; /^HSCHR[7-9]/d; /^HG/d'
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# Ensembl 62 has new sequence names for some of the random bits
liftUp /hive/data/genomes/hg19/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.62
    featureBits hg19 ensGene
    # 109947258 bases of 2897316137 (3.795%) in intersection

    hgsql -e \
'update trackVersion set dateReference="current" where db="hg19" AND version=62;' hgFixed

############################################################################
#  susScr2 - Pig - lifted susScr1 v62 genes to susScr2 (DONE - 2011-04-21 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.62
    cd /hive/data/genomes/susScr2/bed/ensGene.62
    ln -s ../../../susScr1/bed/ensGene.62/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    genePredCheck -db=susScr2 susScr2.allGenes.gp.gz
    #	checked: 22017 failed: 0

    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.62/download/Sus_scrofa.Sscrofa9.62.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.62/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "62", now(), \
        "dentical to previous version 60", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-62/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.62.gtf.gz", \
        "current" );' hgFixed

    featureBits susScr2 ensGene
    #	28702434 bases of 2231298548 (1.286%) in intersection

#########################################################################
#  anoCar2 - Lizard - Ensembl Genes version 62 (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.62
    featureBits anoCar2 ensGene
    # 27905138 bases of 1701353770 (1.640%) in intersection

    hgsql -e \
'update trackVersion set dateReference="current" where db="anoCar2" AND version=62;' hgFixed

    hgsql -e \
'update trackVersion set dateReference="feb2011" where db="anoCar2" AND version=61;' hgFixed

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.62
    featureBits nomLeu1 ensGene
    # 45293349 bases of 2756591777 (1.643%) in intersection

    hgsql -e \
'update trackVersion set dateReference="current" where db="nomLeu1";' hgFixed

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.62
    featureBits ailMel1 ensGene
    # 31990632 bases of 2245312831 (1.425%) in intersection

############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.62
    featureBits anoCar2 ensGene
    # 27905138 bases of 1701353770 (1.640%) in intersection

############################################################################
#  bosTau4 - Cow - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 bosTau4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.62
    featureBits bosTau4 ensGene
    # 42306082 bases of 2731830700 (1.549%) in intersection

############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 62  (DONE - 2011-04-21 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/;
# s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;"
# name translation in Ensembl v62
liftUp /hive/data/genomes/calJac3/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.62
    featureBits calJac3 ensGene
    # 51944550 bases of 2752505800 (1.887%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.62
    featureBits canFam2 ensGene
    # 34693517 bases of 2384996543 (1.455%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 62  (DONE - 2011-04-19 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.62
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.62
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 62  (DONE - 2011-04-19 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.62
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 62  (DONE - 2011-04-19 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.62
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.62
    featureBits danRer7 ensGene
    # 62432695 bases of 1409770109 (4.429%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.62
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 62  (DONE - 2011-04-19 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.62
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 62  (DONE - 2011-04-19 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.62
    featureBits dm3 ensGene
    # 30276468 bases of 162367812 (18.647%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.62
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.62
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.62
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 5705: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 28228: ENSFCAT00000009384 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.62
    featureBits felCat3 ensGene
    # 22300874 bases of 1642698377 (1.358%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.62
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.62
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 62  (DONE - 2011-04-21 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.62
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.62
    featureBits loxAfr3 ensGene
    # 32151456 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.62
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  melGal1 - Turkey - Ensembl Genes version 62  (DONE - 2011-04-21 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/melGal1
    cat << '_EOF_' > melGal1.ensGene.ra
# required db variable
db melGal1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to protect in perl:
nameTranslation '/^718000.*/d; s/^\([0-9WZ][0-9]*\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 melGal1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/melGal1/bed/ensGene.62
    featureBits melGal1 ensGene
    # 25080242 bases of 935922386 (2.680%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 62  (DONE - 2011-04-20 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.62
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.62
    featureBits mm9 ensGene
    # 86577373 bases of 2620346127 (3.304%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.62
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.62
    featureBits myoLuc1 ensGene
    # 24710174 bases of 1673855868 (1.476%) in intersection

############################################################################
#  nomLeu1 - Gibbon - Ensembl Genes version 62  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1
    cat << '_EOF_' > nomLeu1.ensGene.ra
# required db variable
db nomLeu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With single quotes to protect
#       everything in perl
nameTranslation 's/^GL\([0-9][0-9]*\).1/GL\1/; s/^ADFV\([0-9][0-9]*\).1/ADFV\1/;'
# nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/;
# s/^A/chrUn_A/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 nomLeu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/nomLeu1/bed/ensGene.62
    featureBits nomLeu1 ensGene
    # 45293349 bases of 2756591777 (1.643%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.62
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 824 items, 31,254 are OK
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.62
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 62  (DONE - 2011-04-21 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# the lift file will change the chrom names, no nameTranslation needed
# nameTranslation "s/^/chr/;"
# ensembl v62 has new naming scheme based on NCBI release:
liftUp /hive/data/genomes/oryCun2/jkStuff/ens.62.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.62
    featureBits oryCun2 ensGene
    # 31797207 bases of 2604023284 (1.221%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.62
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.62
    featureBits otoGar1 ensGene
    # 23692789 bases of 1969052059 (1.203%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.62
    featureBits panTro2 ensGene
    # 50004270 bases of 2909485072 (1.719%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.62
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 62  (DONE - 2011-04-20 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.62
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.62
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.62
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.62
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 62  (DONE - 2011-04-20 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.62
    featureBits sacCer2 ensGene
    # 8917060 bases of 12162995 (73.313%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.62
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.62
    featureBits speTri1 ensGene
    # 21595750 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.62
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 62  (DONE - 2011-04-20 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.62
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.62
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.62
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 62  (DONE - 2011-04-20 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.62
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.62
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 62  (DONE - 2011-04-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=62 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.62
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
############################################################################
############################################################################
#  anoCar2 - Lizard - Ensembl Genes version 61  (DONE - 2011-04-19 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar2
    cat << '_EOF_' > anoCar2.ensGene.ra
# required db variable
db anoCar2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation 's/^\([0-9L]\)/chr\1/; s/^GL\([0-9][0-9]*\).1/chrUn_GL\1/; s/^A/chrUn_A/'
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 anoCar2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar2/bed/ensGene.61
    featureBits anoCar2 ensGene
    # 27905138 bases of 1701353770 (1.640%) in intersection

    hgsql -e \
'update trackVersion set dateReference="current" where db="anoCar2";' hgFixed

############################################################################

############################################################################
# ensembl 61 update (DONE - 2011-02-04 - Hiram)

# to finish off the v61 update after all were complete:
     hgsql -e \
'update trackVersion set dateReference="nov2010" where version="60";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="61";' hgFixed

############################################################################
#  hg19 - Human - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 hg19.ensGene.ra
#    XXX same problems as before
    cd /hive/data/genomes/hg19/bed/ensGene.61/process
    gunzip hg19.allGenes.gp.gz
    egrep -v "ENST00000436611|ENST00000436232|ENST00000436870" \
        hg19.allGenes.gp | gzip -c > hg19.allGenes.gp.gz
    genePredCheck -db=hg19 hg19.allGenes.gp.gz
    checked: 167071 failed: 0
    mv hg19.allGenes.gp hg19.allGenes.gp.broken

    cd /hive/data/genomes/hg19
    #	and finish it off:
    doEnsGeneUpdate.pl -ensVersion=61 -continue=load \
	hg19.ensGene.ra > ens.61.load 2>&1
    featureBits hg19 ensGene
    # 109107310 bases of 2897316137 (3.766%) in intersection

############################################################################
# bosTau4 was broken - finished manually (DONE - 2011-02-04 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.61/process
    mv allGenes.gtf.gz allGenes.gtf.gz.0
    zcat ../download/Bos_taurus.Btau_4.0.61.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > bosTau4.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    #	checked: 31598 failed: 0
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=61 -continue=load bosTau4.ensGene.ra \
	> ens.61.load  2>&1
    featureBits bosTau4 ensGene
    #  42306082 bases of 2731830700 (1.549%) in intersection

#############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
#	broken bits due to contigs we do ot have

    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# changing names randoms in Ensembl v59
liftUp /hive/data/genomes/calJac3/jkStuff/ens.59.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 calJac3.ensGene.ra
    cd /hive/data/genomes/calJac3/bed/ensGene.61/process
    mv allGenes.gtf.gz allGenes.gtf.badNames.gz
    # eliminate odd bits that we don't have here
    zcat allGenes.gtf.badNames.gz | grep -v ACFV | gzip > allGenes.gtf.gz
    #	now finishing the processing step
    cd /hive/data/genomes/calJac3/bed/ensGene.61/process
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > calJac3.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    mv calJac3.allGenes.gp.gz calJac3.allGenes.beforeLiftUp.gp.gz
    liftUp -extGenePred -type=.gp calJac3.allGenes.gp \
	/hive/data/genomes/calJac3/jkStuff/ens.59.lft carry \
	calJac3.allGenes.beforeLiftUp.gp.gz
    gzip calJac3.allGenes.gp
    genePredCheck -db=calJac3 calJac3.allGenes.gp.gz
    #	checked: 53989 failed: 0

    cd /hive/data/genomes/calJac3
    doEnsGeneUpdate.pl -ensVersion=61 -continue=load calJac3.ensGene.ra \
	> ens.61.load 2>&1
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.61
    featureBits calJac3 ensGene
    # 51397664 bases of 2752505800 (1.867%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.61/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=61 gasAcu1.ensGene.ra \
	> ens.61.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  ailMel1 - Panda - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.61
    featureBits ailMel1 ensGene
    # 31990632 bases of 2245312831 (1.425%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.61
    featureBits canFam2 ensGene
    # 34693517 bases of 2384996543 (1.455%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.61
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.61
    featureBits choHof1 ensGene
    # 18278941 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.61
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.61
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.61
    featureBits danRer7 ensGene
    # 62432695 bases of 1409770109 (4.429%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       31903: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.61
    featureBits dasNov2 ensGene
    # 21968539 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.61
    featureBits dipOrd1 ensGene
    # 25324919 bases of 1844961421 (1.373%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.61
    featureBits dm3 ensGene
    # 30276468 bases of 162367812 (18.647%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
# 47425: ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.61
    featureBits echTel1 ensGene
    # 25771306 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.61
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.61
    featureBits eriEur1 ensGene
    # 22556849 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 5705: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 28228: ENSFCAT00000009384 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.61
    featureBits felCat3 ensGene
    # 22300874 bases of 1642698377 (1.358%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.61
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.61
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.61
    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.61
    featureBits loxAfr3 ensGene
    # 32151456 bases of 3118565340 (1.031%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.61
    featureBits macEug1 ensGene
    # 23393650 bases of 2541767339 (0.920%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.61
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.61
    featureBits mm9 ensGene
    # 86577373 bases of 2620346127 (3.304%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.61
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.61
    featureBits myoLuc1 ensGene
    # 24710174 bases of 1673855868 (1.476%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 13270: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.61
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 823 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.61
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^/chr/;"
# ensembl appears to still be in scaffolds ? - older versions
# liftUp /hive/data/genomes/oryCun2/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.61
    featureBits oryCun2 ensGene
    # 31785271 bases of 2604023284 (1.221%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.61
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.61
    featureBits otoGar1 ensGene
    # 23692789 bases of 1969052059 (1.203%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.61
    featureBits panTro2 ensGene
    # 50004270 bases of 2909485072 (1.719%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.61
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.61
    featureBits proCap1 ensGene
    # 25344792 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has invalid structures from Ensembl:
#       13027: ENSPVAT00000010661 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.61
    featureBits pteVam1 ensGene
    # 28967283 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.61
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.61
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.61
    featureBits sacCer2 ensGene
    # 8917060 bases of 12162995 (73.313%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.61
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.61
    featureBits speTri1 ensGene
    # 21595750 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v61 genes to susScr2 (DONE - 2011-02-04 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.61
    cd /hive/data/genomes/susScr2/bed/ensGene.61
    ln -s ../../../susScr1/bed/ensGene.61/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    genePredCheck -db=susScr2 susScr2.allGenes.gp.gz
    #	checked: 22017 failed: 0

    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.61/download/Sus_scrofa.Sscrofa9.61.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.61/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "61", now(), \
        "dentical to previous version 60", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-61/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.61.gtf.gz", \
        "current" );' hgFixed

    featureBits susScr2 ensGene
    #	28702434 bases of 2231298548 (1.286%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.61
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.61
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.61
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.61
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.61
    featureBits tupBel1 ensGene
    # 22849040 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.61
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 61  (DONE - 2011-02-04 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       5017: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.61
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 61  (DONE - 2011-02-04 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=61 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.61
    featureBits xenTro2 ensGene
    # 29181688 bases of 1359412157 (2.147%) in intersection

############################################################################
############################################################################
############################################################################
# ensembl 60 update (DONE - 2010-11-16 - Hiram)

# to finish off the v60 update after all were complete:
     hgsql -e \
'update trackVersion set dateReference="aug2010" where version="59";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="60";' hgFixed

############################################################################
#  danRer7 - Zebrafish - Ensembl Genes version 60  (DONE - 2010-12-02 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer7
    cat << '_EOF_' > danRer7.ensGene.ra
# required db variable
db danRer7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 danRer7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer7/bed/ensGene.60
    featureBits danRer7 ensGene
    # 55845257 bases of 1409772743 (3.961%) in intersection
############################################################################

# panda is a new one in version 60:
############################################################################
#  ailMel1 - Panda - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ailMel1
    cat << '_EOF_' > ailMel1.ensGene.ra
# required db variable
db ailMel1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
# liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 ailMel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ailMel1/bed/ensGene.60
    featureBits ailMel1 ensGene
    # 31990632 bases of 2245312831 (1.425%) in intersection
############################################################################
# bosTau4 was broken - finished manually (DONE - 2010-11-16 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.60/process
    mv allGenes.gtf.gz allGenes.gtf.gz.0
    zcat ../download/Bos_taurus.Btau_4.0.60.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > bosTau4.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    #	checked: 31598 failed: 0
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=60 -continue=load bosTau4.ensGene.ra \
	> ens.60.load  2>&1
    featureBits bosTau4 ensGene
    #  42306082 bases of 2731830700 (1.549%) in intersection

#############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
#	broken bits due to contigs we do ot have

    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# changing names randoms in Ensembl v59
liftUp /hive/data/genomes/calJac3/jkStuff/ens.59.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 calJac3.ensGene.ra
    cd /hive/data/genomes/calJac3/bed/ensGene.60/process
    mv allGenes.gtf.gz allGenes.gtf.badNames.gz
    # eliminate odd bits that we don't have here
    zcat allGenes.gtf.badNames.gz | grep -v ACFV | gzip > allGenes.gtf.gz
    #	now finishing the processing step
    cd /hive/data/genomes/calJac3/bed/ensGene.60/process
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > calJac3.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    mv calJac3.allGenes.gp.gz calJac3.allGenes.beforeLiftUp.gp.gz
    liftUp -extGenePred -type=.gp calJac3.allGenes.gp \
	/hive/data/genomes/calJac3/jkStuff/ens.59.lft carry \
	calJac3.allGenes.beforeLiftUp.gp.gz
    gzip calJac3.allGenes.gp
    genePredCheck -db=calJac3 calJac3.allGenes.gp.gz
    #	checked: 53989 failed: 0

    cd /hive/data/genomes/calJac3
    doEnsGeneUpdate.pl -ensVersion=60 -continue=load calJac3.ensGene.ra \
	> ens.60.load 2>&1
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.60
    featureBits calJac3 ensGene
    # 51397664 bases of 2752505800 (1.867%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 hg19.ensGene.ra
#    XXX same problems as before
    cd /hive/data/genomes/hg19/bed/ensGene.60/process
    gunzip hg19.allGenes.gp.gz
    egrep -v "ENST00000436611|ENST00000436232|ENST00000436870" \
        hg19.allGenes.gp | gzip -c > hg19.allGenes.gp.gz
    genePredCheck -db=hg19 hg19.allGenes.gp.gz
    checked: 157477 failed: 0
    mv hg19.allGenes.gp hg19.allGenes.gp.broken

    cd /hive/data/genomes/hg19
    #	and finish it off:
    doEnsGeneUpdate.pl -ensVersion=60 -continue=load \
	hg19.ensGene.ra > ens.60.load 2>&1
    featureBits hg19 ensGene
    # 106318989 bases of 2897316137 (3.670%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.60/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=60 gasAcu1.ensGene.ra \
	> ens.60.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
    #	 problem with length of names in third column of ensGtp.tab
    #	go.
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.60/process
    cat << '_EOF_' > ensGtp.sql
# This creates the table holding the relationship between
# ensemble genes, transcripts, and peptides.
CREATE TABLE ensGtp (
  gene char(12) NOT NULL,
  transcript char(12) NOT NULL,
  protein char(26) NOT NULL,
# INDICES
  INDEX(gene(11)),
  UNIQUE(transcript(11)),
  INDEX(protein(26))
)
'_EOF_'
    # << happy emacs

    # finish off the loading
    cd /hive/data/genomes/dm3/bed/ensGene.60
    # fixup statement in doLoad.csh
    #	hgLoadSqlTab dm3 ensGtp process/ensGtp.sql process/ensGtp.tab
    # then
    ./doLoad.csh
    cd /hive/data/genomes/dm3
    doEnsGeneUpdate.pl -continue=cleanup -ensVersion=60 dm3.ensGene.ra \
	> ens.60.cleanup.txt 2>&1

    cd /hive/data/genomes/dm3/bed/ensGene.60
    featureBits dm3 ensGene
    # 30276468 bases of 162367812 (18.647%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v60 genes to susScr2 (DONE - 2010-11-16 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.60
    cd /hive/data/genomes/susScr2/bed/ensGene.60
    ln -s ../../../susScr1/bed/ensGene.60/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    genePredCheck -db=susScr2 susScr2.allGenes.gp.gz
    #	checked: 22017 failed: 0

    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.60/download/Sus_scrofa.Sscrofa9.60.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.60/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "60", now(), \
        "with peptides Sus_scrofa.Sscrofa9.60.pep.all.fa.gz", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-60/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.60.gtf.gz", \
        "current" );' hgFixed

    featureBits susScr2 ensGene
    #	28702434 bases of 2231298548 (1.286%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 60  (DONE - 2010-11-16 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^/chr/;"
# ensembl appears to still be in scaffolds ? - older versions
# liftUp /hive/data/genomes/oryCun2/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=60 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.60
    featureBits oryCun2 ensGene
    # 31785271 bases of 2604023284 (1.221%) in intersection

############################################################################
############################################################################
# ensembl 59 update (DONE - 2010-08-09 - Hiram)
############################################################################
############################################################################

# to finish off the v59 update after all were complete:
     hgsql -e \
'update trackVersion set dateReference="may2010" where version="58";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="59";' hgFixed

############################################################################
#  hg19 - Human - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 hg19.ensGene.ra
#    XXX same problems as before
    cd /hive/data/genomes/hg19/bed/ensGene.59/process
    gunzip hg19.allGenes.gp.gz
    egrep -v "LRG_|ENST00000436611|ENST00000436232|ENST00000436870" \
        hg19.allGenes.gp | gzip -c > hg19.allGenes.gp.gz
    genePredCheck -db=hg19 hg19.allGenes.gp.gz
    checked: 151222 failed: 0
    mv hg19.allGenes.gp hg19.allGenes.gp.broken

    cd /hive/data/genomes/hg19
    #	and finish it off:
    doEnsGeneUpdate.pl -ensVersion=59 -continue=load \
	hg19.ensGene.ra > ens.59.load 2>&1
    featureBits hg19 ensGene
    # 104402177 bases of 2899183193 (3.601%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=59 mm9.ensGene.ra

    cd /hive/data/genomes/mm9/bed/ensGene.59
    #	ran into trouble with the ensGtp table load, the names of
    #	the proteins have gotten longer and the standard sql definition
    #	was no longer adequate.  So, after the load failed, increase
    #	protein char and index size to 23 in the source tree and rerun:

    #	Then, running the rest of the load script, with this line fixed up:
    #	hgLoadSqlTab mm9 ensGtp ensGtp.sql process/ensGtp.tab
    cd /hive/data/genomes/mm9/bed/ensGene.59
    ./doLoad.csh

    cd /hive/data/genomes/mm9
    doEnsGeneUpdate.pl -ensVersion=59 -verbose=2 -continue=cleanup \
	mm9.ensGene.ra > ens.59.cleanup 2>&1

    featureBits mm9 ensGene
    #	81438727 bases of 2620346127 (3.108%) in intersection

############################################################################
# bosTau4 was broken - finished manually (DONE - 2010-08-10 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.59/process
    mv allGenes.gtf.gz allGenes.gtf.gz.0
    zcat ../download/Bos_taurus.Btau_4.0.59.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > bosTau4.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=59 -continue=load bosTau4.ensGene.ra \
	> ens.59.load  2>&1
    featureBits bosTau4 ensGene
    # 42306082 bases of 2731830700 (1.549%) in intersection

#############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    # version 59 Ensembl changed their chrom names.  Made up a new lift file
    #	after it failed the first time:
    cd /hive/data/genomes/calJac3/bed/ensGene.59/download
    zcat Callithrix_jacchus.C_jacchus3.2.1.59.gtf.gz | awk '{print $1}' \
	| sort -u > ens59chrom.names
for N in `grep GL ens59chrom.names`
do
    B=${N/.1/}
    T=`grep "${B}" ucsc.chrom.names`
    if [ "x${T}y" = "xy" ]; then
        echo FAIL: grep "${B}" ucsc.chrom.names
    else
        S=`grep "${T}" ../../../chrom.sizes | awk '{print $2}'`
        echo $N $T $S | awk '{printf "0\t%s\t%d\t%s\t%s\n", $1, $3, $2, $3}'
    fi
done > ../../../jkStuff/ens.59.lft

    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# changing names randoms in Ensembl v59
liftUp /hive/data/genomes/calJac3/jkStuff/ens.59.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 calJac3.ensGene.ra
    cd /hive/data/genomes/calJac3/bed/ensGene.59/process
    mv allGenes.gtf.gz allGenes.gtf.badNames.gz
    # eliminate odd bits that we don't have here
    zcat allGenes.gtf.badNames.gz | grep -v ACFV | gzip > allGenes.gtf.gz
    #	now finishing the processing step
    cd /hive/data/genomes/calJac3/bed/ensGene.59/process
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > calJac3.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    mv calJac3.allGenes.gp.gz calJac3.allGenes.beforeLiftUp.gp.gz
    liftUp -extGenePred -type=.gp calJac3.allGenes.gp \
	/hive/data/genomes/calJac3/jkStuff/ens.59.lft carry \
	calJac3.allGenes.beforeLiftUp.gp.gz
    gzip calJac3.allGenes.gp
    genePredCheck -db=calJac3 calJac3.allGenes.gp.gz
    #	checked: 53989 failed: 0

    doEnsGeneUpdate.pl -ensVersion=59 -continue=load calJac3.ensGene.ra \
	> ens.59.load 2>&1
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.59
    featureBits calJac3 ensGene
    # 51397664 bases of 2752505800 (1.867%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    #	version 59 changed the name of MT to Mito
    #	needed to change the sacCer2.ensGene.ra file for the nameTranslation
    ssh hgwdev
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^Mito/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.59
    featureBits sacCer2 ensGene
    # 8917060 bases of 12162995 (73.313%) in intersection
    #####################################################################
    # the sacCer2 sequence at Ensembl is a different version.  A liftOver
    # chain file was constructed, the genes lifted and reloaded.
    # Genes on chrX and chrXIV moved a single base after the single difference
    # on each chromosome.  Note the scripts used in:
# /hive/data/genomes/sacCer2/ensembl.versions.sequence/blat.2010-08-11/*.sh

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.59/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=59 gasAcu1.ensGene.ra \
	> ens.59.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  macEug1 - Wallaby - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    #	needed to fix ensGeneScaffolds.pl to make this work
    #	Ensembl has a different naming convention for scaffold names in this
    #	beast
    ssh hgwdev
    cd /hive/data/genomes/macEug1
    cat << '_EOF_' > macEug1.ensGene.ra
# required db variable
db macEug1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#	during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#	ENSMEUT00000014761 no exonFrame on CDS exon 6
#	ENSMEUT00000012082 no exonFrame on CDS exon 1
#	ENSMEUT00000013746 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 macEug1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/macEug1/bed/ensGene.59
    featureBits macEug1 ensGene
    # 23392744 bases of 2541767339 (0.920%) in intersection

############################################################################
#  dm3 - D. melanogaster - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    #	 for version 59, fixed up the chrom name translations to get it to
    #	go.
    ssh hgwdev
    cd /hive/data/genomes/dm3
    cat << '_EOF_' > dm3.ensGene.ra
# required db variable
db dm3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XYU][0-9]*\)/chr\1/; s/^dmel_mitochondrion_genome/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
# knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 dm3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dm3/bed/ensGene.59
    featureBits dm3 ensGene
    # 30276468 bases of 162367812 (18.647%) in intersection

############################################################################
#  ce9 - C. elegans - Ensembl Genes version 59  (DONE - 2010-08-10 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ce9
    cat << '_EOF_' > ce9.ensGene.ra
# required db variable
db ce9
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 ce9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce9/bed/ensGene.59
    featureBits ce9 ensGene
    # 30249205 bases of 100286004 (30.163%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v59 genes to susScr2 (DONE - 2010-08-11 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.59
    cd /hive/data/genomes/susScr2/bed/ensGene.59
    ln -s ../../../susScr1/bed/ensGene.59/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.59/download/Sus_scrofa.Sscrofa9.59.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.59/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "59", now(), \
        "with peptides Sus_scrofa.Sscrofa9.59.pep.all.fa.gz", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-59/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.59.gtf.gz", \
        "current" );' hgFixed


############################################################################
#  anoCar1 - Lizard - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar1
    cat << '_EOF_' > anoCar1.ensGene.ra
# required db variable
db anoCar1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 anoCar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar1/bed/ensGene.59
    featureBits anoCar1 ensGene
    # 26974393 bases of 1741478929 (1.549%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.59
    featureBits canFam2 ensGene
    # 34693517 bases of 2384996543 (1.455%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.59
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       18938: ENSCHOT00000005046 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.59
    featureBits choHof1 ensGene
    # 18277719 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.59
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.59
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer6 - Zebrafish - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer6
    cat << '_EOF_' > danRer6.ensGene.ra
# required db variable
db danRer6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 danRer6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer6/bed/ensGene.59
    featureBits danRer6 ensGene
    # 44621280 bases of 1506896106 (2.961%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.59
    featureBits dasNov2 ensGene
    # 21968073 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that have invalid structures from Ensembl:
# 11275: ENSDORT00000004734 no exonFrame on CDS exon 12
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.59
    featureBits dipOrd1 ensGene
    # 25324520 bases of 1844961421 (1.373%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 29277: ENSETET00000011172 no exonFrame on CDS exon 14
# 44942: ENSETET00000018714 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.59
    featureBits echTel1 ensGene
    # 25769845 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.59
    featureBits equCab2 ensGene
    # 39563318 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 4691: ENSEEUT00000004188 no exonFrame on CDS exon 7
# 35795: ENSEEUT00000003156 no exonFrame on CDS exon 4
# 40908: ENSEEUT00000001064 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.59
    featureBits eriEur1 ensGene
    # 22555285 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 2100: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 14578: ENSFCAT00000010965 no exonFrame on CDS exon 1
# 26634: ENSFCAT00000009384 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.59
    featureBits felCat3 ensGene
    # 22299269 bases of 1642698377 (1.357%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.59
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.59
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.59
    featureBits loxAfr3 ensGene
    # 32151456 bases of 3118565340 (1.031%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.59
    featureBits micMur1 ensGene
    # 25688755 bases of 1852394361 (1.387%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.59
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 1265: ENSMLUT00000004658 no exonFrame on CDS exon 1
# 17770: ENSMLUT00000003427 no exonFrame on CDS exon 10
# 32743: ENSMLUT00000009601 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.59
    featureBits myoLuc1 ensGene
    # 24707371 bases of 1673855868 (1.476%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 10995: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.59
    featureBits ochPri2 ensGene
    # 25447459 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 365 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.59
    featureBits ornAna1 ensGene
    # 24466297 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# ensembl appears to still be in scaffolds ?
liftUp /hive/data/genomes/oryCun2/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.59
    featureBits oryCun2 ensGene
    # 31785271 bases of 2604023284 (1.221%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.59
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.59
    featureBits otoGar1 ensGene
    # 23692789 bases of 1969052059 (1.203%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.59
    featureBits panTro2 ensGene
    # 50004270 bases of 2909485072 (1.719%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.59
    featureBits ponAbe2 ensGene
    # 38120849 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 4595: ENSPCAT00000007286 no exonFrame on CDS exon 1
# 28894: ENSPCAT00000000699 no exonFrame on CDS exon 4

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.59
    featureBits proCap1 ensGene
    # 25344206 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
#       6381: ENSPVAT00000012919 no exonFrame on CDS exon 14
#       23522: ENSPVAT00000010661 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.59
    featureBits pteVam1 ensGene
    # 28966764 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.59
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.59
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.59
    featureBits sorAra1 ensGene
    # 19690470 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 1071: ENSSTOT00000007455 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.59
    featureBits speTri1 ensGene
    # 21594718 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.59
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.59
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.59
    featureBits tarSyr1 ensGene
    # 21327630 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.59
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 2993: ENSTBET00000015831 no exonFrame on CDS exon 11
# 3556: ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.59
    featureBits tupBel1 ensGene
    # 22848317 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.59
    featureBits turTru1 ensGene
    # 28614121 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 59  (DONE - 2010-08-09 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       4649: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.59
    featureBits vicPac1 ensGene
    # 17891814 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 59  (DONE - 2010-08-09 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=59 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.59
    featureBits xenTro2 ensGene
    # 29181688 bases of 1359412157 (2.147%) in intersection

############################################################################
# ensembl 58 update (DONE - 2010-05-27 - Hiram)

#############################################################################
#  calJac3 - Marmoset - Ensembl Genes version 58  (DONE - 2010-07-20 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/calJac3
    cat << '_EOF_' > calJac3.ensGene.ra
# required db variable
db calJac3
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 calJac3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/calJac3/bed/ensGene.58
    featureBits calJac3 ensGene
    # 50565085 bases of 2752505800 (1.837%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v58 genes to susScr2 (DONE - 2010-05-28 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.58
    cd /hive/data/genomes/susScr2/bed/ensGene.58
    ln -s ../../../susScr1/bed/ensGene.58/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    gzip susScr2.allGenes.gp
    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz > loadGenePred.errors.txt 2>&1

    zcat \
../../../susScr1/bed/ensGene.58/download/Sus_scrofa.Sscrofa9.58.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.58/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "58", now(), \
        "with peptides Sus_scrofa.Sscrofa9.58.pep.all.fa.gz", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-58/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.58.gtf.gz", \
        "current" );' hgFixed

############################################################################
#  mm9 - Mouse - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=58 mm9.ensGene.ra

    cd /hive/data/genomes/mm9/bed/ensGene.58
    #	ran into trouble with the ensGtp table load, the names of
    #	the proteins have gotten longer and the standard sql definition
    #	was no longer adequate.  So, after the load failed, increase
    #	protein char and index size to 22:
    cat << '_EOF_' > ensGtp.sql
# This creates the table holding the relationship between
# ensemble genes, transcripts, and peptides.
CREATE TABLE ensGtp (
  gene char(20) NOT NULL,
  transcript char(20) NOT NULL,
  protein char(23) NOT NULL,
# INDICES
  INDEX(gene(19)),
  UNIQUE(transcript(19)),
  INDEX(protein(23))
)
'_EOF_'
    # << happy emacs

    #	Then, running the rest of the load script, with this line fixed up:
    #	hgLoadSqlTab mm9 ensGtp ensGtp.sql process/ensGtp.tab
    ./finiLoad.csh > finiLoad.log 2>&1

    cd /hive/data/genomes/mm9
    doEnsGeneUpdate.pl -ensVersion=58 -verbose=2 -continue=cleanup \
	mm9.ensGene.ra > ens.58.cleanup 2>&1

    featureBits mm9 ensGene
    #	79466978 bases of 2620346127 (3.033%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 58  (DONE - 2010-04-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 58
liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 hg19.ensGene.ra
    #	New problems in v58: LRG genome sequence, see also:
    #	http://www.lrg-sequence.org/
    #	and as was in v57, four of their genes cross the boundaries of
    #	the haplotypes into the chromosomes.
    #	We can't manage these, so, fixup doProcess.csh:
    cd /hive/data/genomes/hg19/bed/ensGene.58/process
    gunzip hg19.allGenes.gp.gz
    egrep -v "LRG_|ENST00000436611|ENST00000436232|ENST00000436870" \
        hg19.allGenes.gp | gzip -c > hg19.allGenes.gp.gz
    genePredCheck -db=hg19 hg19.allGenes.gp.gz
    checked: 151222 failed: 0
    mv hg19.allGenes.gp hg19.allGenes.gp.broken

    cd /hive/data/genomes/hg19
    #	and finish it off:
    doEnsGeneUpdate.pl -ensVersion=58 -continue=load \
	hg19.ensGene.ra > ens.58.load 2>&1
    featureBits hg19 ensGene
    # 104402177 bases of 2897316137 (3.603%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.58
    featureBits rn4 ensGene
    # 46705616 bases of 2571531505 (1.816%) in intersection

############################################################################
# bosTau4 was broken - finished manually (DONE - 2010-05-27 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.58/process
    mv allGenes.gtf.gz allGenes.gtf.gz.0
    zcat ../download/Bos_taurus.Btau_4.0.58.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    gtfToGenePred -infoOut=infoOut.txt -genePredExt allGenes.gtf.gz stdout \
	| gzip > bosTau4.allGenes.gp.gz
    /cluster/bin/scripts/extractGtf.pl infoOut.txt > ensGtp.tab
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=58 -continue=load bosTau4.ensGene.ra \
	> ens.58.load  2>&1
    featureBits bosTau4 ensGene
    # 42306079 bases of 2731830700 (1.549%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.58/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29245 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=58 gasAcu1.ensGene.ra \
	> ens.58.load 2>&1

    featureBits gasAcu1 ensGene
    # 36792090 bases of 446627861 (8.238%) in intersection

############################################################################
#  anoCar1 - Lizard - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar1
    cat << '_EOF_' > anoCar1.ensGene.ra
# required db variable
db anoCar1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 anoCar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar1/bed/ensGene.58
    featureBits anoCar1 ensGene
    # 26974393 bases of 1741478929 (1.549%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.58
    featureBits canFam2 ensGene
    # 34693517 bases of 2384996543 (1.455%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.58
    featureBits cavPor3 ensGene
    # 30971317 bases of 2663369733 (1.163%) in intersection

############################################################################
#  choHof1 - Sloth - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       18938: ENSCHOT00000005046 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.58
    featureBits choHof1 ensGene
    # 18277677 bases of 2060419685 (0.887%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.58
    featureBits ci2 ensGene
    # 20114967 bases of 141233565 (14.242%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.58
    featureBits cioSav2 ensGene
    # 16572478 bases of 173749524 (9.538%) in intersection

############################################################################
#  danRer6 - Zebrafish - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer6
    cat << '_EOF_' > danRer6.ensGene.ra
# required db variable
db danRer6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 danRer6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer6/bed/ensGene.58
    featureBits danRer6 ensGene
    # 44621280 bases of 1506896106 (2.961%) in intersection

############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.58
    featureBits dasNov2 ensGene
    # 21968025 bases of 2371493872 (0.926%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that have invalid structures from Ensembl:
# 11275: ENSDORT00000004734 no exonFrame on CDS exon 12
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.58
    featureBits dipOrd1 ensGene
    # 25324463 bases of 1844961421 (1.373%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 29277: ENSETET00000011172 no exonFrame on CDS exon 14
# 44942: ENSETET00000018714 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.58
    featureBits echTel1 ensGene
    # 25769836 bases of 2111581369 (1.220%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.58
    featureBits equCab2 ensGene
    # 39563285 bases of 2428790173 (1.629%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 4691: ENSEEUT00000004188 no exonFrame on CDS exon 7
# 35795: ENSEEUT00000003156 no exonFrame on CDS exon 4
# 40908: ENSEEUT00000001064 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.58
    featureBits eriEur1 ensGene
    # 22555252 bases of 2133134836 (1.057%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 2100: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 14578: ENSFCAT00000010965 no exonFrame on CDS exon 1
# 26634: ENSFCAT00000009384 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.58
    featureBits felCat3 ensGene
    # 22299251 bases of 1642698377 (1.357%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.58
    featureBits fr2 ensGene
    # 34568537 bases of 393312790 (8.789%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.58
    featureBits galGal3 ensGene
    # 30741650 bases of 1042591351 (2.949%) in intersection

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.58
    featureBits loxAfr3 ensGene
    # 32151456 bases of 3118565340 (1.031%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.58
    featureBits micMur1 ensGene
    # 25688743 bases of 1852394361 (1.387%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.58
    featureBits monDom5 ensGene
    # 32982595 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 1265: ENSMLUT00000004658 no exonFrame on CDS exon 1
# 17770: ENSMLUT00000003427 no exonFrame on CDS exon 10
# 32743: ENSMLUT00000009601 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.58
    featureBits myoLuc1 ensGene
    # 24707365 bases of 1673855868 (1.476%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 10995: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.58
    featureBits ochPri2 ensGene
    # 25447435 bases of 1923624051 (1.323%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 365 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.58
    featureBits ornAna1 ensGene
    # 24466294 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# ensembl appears to still be in scaffolds ?
liftUp /hive/data/genomes/oryCun2/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.58
    featureBits oryCun2 ensGene
    # 31785271 bases of 2604023284 (1.221%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.58
    featureBits oryLat2 ensGene
    # 32313511 bases of 700386597 (4.614%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.58
    featureBits otoGar1 ensGene
    # 23692750 bases of 1969052059 (1.203%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.58
    featureBits panTro2 ensGene
    # 50004270 bases of 2909485072 (1.719%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.58
    featureBits ponAbe2 ensGene
    # 38120801 bases of 3093572278 (1.232%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 4595: ENSPCAT00000007286 no exonFrame on CDS exon 1
# 28894: ENSPCAT00000000699 no exonFrame on CDS exon 4

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.58
    featureBits proCap1 ensGene
    # 25344155 bases of 2407847681 (1.053%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
#       6381: ENSPVAT00000012919 no exonFrame on CDS exon 14
#       23522: ENSPVAT00000010661 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.58
    featureBits pteVam1 ensGene
    # 28966701 bases of 1839436660 (1.575%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.58
    featureBits rheMac2 ensGene
    # 44562701 bases of 2646704109 (1.684%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^MT/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.58
    featureBits sacCer2 ensGene
    # 8912793 bases of 12162995 (73.278%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.58
    featureBits sorAra1 ensGene
    # 19690431 bases of 1832864697 (1.074%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 1071: ENSSTOT00000007455 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.58
    featureBits speTri1 ensGene
    # 21594682 bases of 1913367893 (1.129%) in intersection

############################################################################
#  susScr1 - Pig - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.58
    featureBits susScr1 ensGene
    # 28758401 bases of 2231332019 (1.289%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.58
    featureBits taeGut1 ensGene
    # 25441417 bases of 1222864691 (2.080%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.58
    featureBits tarSyr1 ensGene
    # 21327582 bases of 2768536343 (0.770%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.58
    featureBits tetNig2 ensGene
    # 31642974 bases of 302314788 (10.467%) in intersection

############################################################################
#  tupBel1 - Tree shrew - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 2993: ENSTBET00000015831 no exonFrame on CDS exon 11
# 3556: ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.58
    featureBits tupBel1 ensGene
    # 22848284 bases of 2137225476 (1.069%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.58
    featureBits turTru1 ensGene
    # 28614079 bases of 2298444090 (1.245%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 58  (DONE - 2010-05-27 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that does not translate properly to UCSC coordinates
#       4649: ENSVPAT00000009076 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.58
    featureBits vicPac1 ensGene
    # 17891769 bases of 1922910435 (0.930%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 58  (DONE - 2010-05-27 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=58 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.58
    featureBits xenTro2 ensGene
    # 29181688 bases of 1359412157 (2.147%) in intersection

############################################################################
############################################################################
# ensembl 57 update (DONE - 2010-04-02 - Hiram)

############################################################################
#  susScr1 - Pig - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/susScr1
    cat << '_EOF_' > susScr1.ensGene.ra
# required db variable
db susScr1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 susScr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/susScr1/bed/ensGene.57
    featureBits susScr1 ensGene
    # 28707614 bases of 2231332019 (1.287%) in intersection

############################################################################
#  susScr2 - Pig - lifted susScr1 v57 genes to susScr2 (DONE - 2010-04-06 - Hiram)
    mkdir /hive/data/genomes/susScr2/bed/ensGene.57
    cd /hive/data/genomes/susScr2/bed/ensGene.57
    ln -s ../../../susScr1/bed/ensGene.57/process/susScr1.allGenes.gp.gz .
    zcat susScr1.allGenes.gp.gz > susScr1.allGenes.genePred
    ln -s ../../../susScr1/bed/liftOver/susScr1ToSusScr2.over.chain.gz
    zcat susScr1ToSusScr2.over.chain.gz > susScr1ToSusScr2.over.chain
    liftOver -genePred susScr1.allGenes.genePred \
        susScr1ToSusScr2.over.chain \
        susScr2.allGenes.gp susScr1.liftOver.unMapped.txt
    hgLoadGenePred  -genePredExt susScr2 \
	ensGene susScr2.allGenes.gp.gz >& loadGenePred.errors.txt
    zcat \
../../../susScr1/bed/ensGene.57/download/Sus_scrofa.Sscrofa9.57.pep.all.fa.gz \
        | sed -e 's/^>.* transcript:/>/; s/ CCDS.*$//;' \
	| gzip > ensPep.txt.gz
    zcat ensPep.txt.gz \
	| ~/kent/src/utils/faToTab/faToTab.pl /dev/null /dev/stdin \
	     | sed -e '/^$/d; s/*$//' | sort > ensPep.susScr2.fa.tab
    hgPepPred susScr2 tab ensPep ensPep.susScr2.fa.tab
    ln -s ../../../susScr1/bed/ensGene.57/process/ensGtp.tab .
    hgLoadSqlTab susScr2 ensGtp ~/kent/src/hg/lib/ensGtp.sql ensGtp.tab
    hgsql -e 'INSERT INTO trackVersion \
	(db, name, who, version, updateTime, comment, source, dateReference) \
	VALUES("susScr2", "ensGene", "hiram", "57", now(), \
        "with peptides Sus_scrofa.Sscrofa9.57.pep.all.fa.gz", \
        "lifted susScr1 to susScr2 ftp://ftp.ensembl.org/pub/release-57/gtf/sus_scrofa/Sus_scrofa.Sscrofa9.57.gtf.gz", \
        "mar2010" );' hgFixed

############################################################################
#  loxAfr3 - Elephant - Ensembl Genes version 57  (DONE - 2010-04-01 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3
    cat << '_EOF_' > loxAfr3.ensGene.ra
# required db variable
db loxAfr3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 loxAfr3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr3/bed/ensGene.57
    featureBits loxAfr3 ensGene
    # 32110794 bases of 3118565340 (1.030%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 57  (DONE - 2010-04-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.57/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29109 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=57 gasAcu1.ensGene.ra \
	> ens.57.load 2>&1

    featureBits gasAcu1 ensGene
    # 36789271 bases of 446627861 (8.237%) in intersection

############################################################################
#  anoCar1 - Lizard - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/anoCar1
    cat << '_EOF_' > anoCar1.ensGene.ra
# required db variable
db anoCar1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 anoCar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar1/bed/ensGene.57
    featureBits anoCar1 ensGene
    # 26956669 bases of 1741478929 (1.548%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.57
    featureBits canFam2 ensGene
    # 34634472 bases of 2384996543 (1.452%) in intersection

############################################################################
#  cavPor3 - Guinea pig - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.57
    featureBits cavPor3 ensGene

############################################################################
#  ce7 - C. elegans - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ce7
    cat << '_EOF_' > ce7.ensGene.ra
# required db variable
db ce7
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 ce7.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce7/bed/ensGene.57
    featureBits ce7 ensGene
    # 29594668 bases of 100286002 (29.510%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.57
    featureBits ci2 ensGene
    # 20113161 bases of 141233565 (14.241%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.57
    featureBits cioSav2 ensGene
    # 16616680 bases of 173749524 (9.564%) in intersection

############################################################################
#  danRer6 - Zebrafish - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/danRer6
    cat << '_EOF_' > danRer6.ensGene.ra
# required db variable
db danRer6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 danRer6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer6/bed/ensGene.57
    featureBits danRer6 ensGene
    # 44586206 bases of 1506896106 (2.959%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.57
    featureBits equCab2 ensGene
    # 39506745 bases of 2428790173 (1.627%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.57
    featureBits fr2 ensGene
    # 34560383 bases of 393312790 (8.787%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.57
    featureBits galGal3 ensGene
    # 30733557 bases of 1042591351 (2.948%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.57
    featureBits monDom5 ensGene
    # 32999268 bases of 3501660299 (0.942%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 365 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.57
    featureBits ornAna1 ensGene
    # 24537221 bases of 1842236818 (1.332%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.57
    featureBits oryLat2 ensGene
    # 32301732 bases of 700386597 (4.612%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.57
    featureBits panTro2 ensGene
    # 49983145 bases of 2909485072 (1.718%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.57
    featureBits ponAbe2 ensGene
    # 38087987 bases of 3093572278 (1.231%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.57
    featureBits rheMac2 ensGene
    # 44519581 bases of 2646704109 (1.682%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.57
    featureBits rn4 ensGene
    # 46518438 bases of 2571531505 (1.809%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^MT/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.57
    featureBits sacCer2 ensGene
    # 8912793 bases of 12162995 (73.278%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.57
    featureBits taeGut1 ensGene
    # 25428670 bases of 1222864691 (2.079%) in intersection

############################################################################
#  tetNig2 - Tetraodon - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/tetNig2
    cat << '_EOF_' > tetNig2.ensGene.ra
# required db variable
db tetNig2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 tetNig2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tetNig2/bed/ensGene.57
    featureBits tetNig2 ensGene
    # 31637658 bases of 302314788 (10.465%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 57  (DONE - 2010-04-05 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.57
    featureBits xenTro2 ensGene
    # 29158032 bases of 1359412157 (2.145%) in intersection

############################################################################
# bosTau4 was broken - finished manually (DONE - 2010-04-05 - Hiram)
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 bosTau4.ensGene.ra
    #	broken during processing, fix doProcess.csh to eliminate AAFC03011182
    zcat ../download/Bos_taurus.Btau_4.0.57.gtf.gz \
        | sed -e "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/" \
        | grep -v AAFC03011182 | gzip > allGenes.gtf.gz
    ssh hgwdev
    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl  -ensVersion=57 -continue=load bosTau4.ensGene.ra \
	> ens.57.load
    cd /hive/data/genomes/bosTau4/bed/ensGene.57
    featureBits bosTau4 ensGene
    # 42207115 bases of 2731830700 (1.545%) in intersection


############################################################################
#  oryCun2 - Rabbit - Ensembl Genes version 57  (DONE - 2010-04-02 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/oryCun2
    cat << '_EOF_' > oryCun2.ensGene.ra
# required db variable
db oryCun2
# ensembl appears to still be in scaffolds ?
liftUp /hive/data/genomes/oryCun2/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 oryCun2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun2/bed/ensGene.57
    featureBits oryCun2 ensGene
    # 31748363 bases of 2604023284 (1.219%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 57  (DONE - 2010-04-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 2100: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 14578: ENSFCAT00000010965 no exonFrame on CDS exon 1
# 26634: ENSFCAT00000009384 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.57
    featureBits felCat3 ensGene
    # 22220711 bases of 1642698377 (1.353%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 57  (DONE - 2010-04-06 - hiram)
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=57 mm9.ensGene.ra

    cd /hive/data/genomes/mm9/bed/ensGene.57
    #	ran into trouble with the ensGtp table load, the names of
    #	the proteins have gotten longer and the standard sql definition
    #	was no longer adequate.  So, after the load failed, increase
    #	protein char and index size to 22:
    cat << '_EOF_' > ensGtp.sql
# This creates the table holding the relationship between
# ensemble genes, transcripts, and peptides.
CREATE TABLE ensGtp (
  gene char(20) NOT NULL,
  transcript char(20) NOT NULL,
  protein char(23) NOT NULL,
# INDICES
  INDEX(gene(19)),
  UNIQUE(transcript(19)),
  INDEX(protein(23))
)
'_EOF_'
    # << happy emacs

    #	Then, running the rest of the load script, with this line fixed up:
    #	hgLoadSqlTab mm9 ensGtp ensGtp.sql process/ensGtp.tab
    ./finiLoad.csh > finiLoad.log 2>&1

    cd /hive/data/genomes/mm9
    doEnsGeneUpdate.pl -ensVersion=57 -verbose=2 -continue=cleanup \
	mm9.ensGene.ra > ens.57.cleanup

    featureBits mm9 ensGene
    #	79248889 bases of 2620346127 (3.024%) in intersection

############################################################################
#  hg19 - Human - Ensembl Genes version 57  (DONE - 2010-04-06 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# changing names for the odd bits in Ensembl 57
liftUp /hive/data/genomes/hg19/jkStuff/ens.57.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl  -ensVersion=57 hg19.ensGene.ra
    #	four of their genes cross the boundaries of the haplotypes into
    #	the chromosomes.  We can't do that, so, fixup doProcess.csh:
    cd /hive/data/genomes/hg19/bed/ensGene.57/process
    gunzip hg19.allGenes.gp.gz
    egrep -v "ENST00000436611|ENST00000383191|ENST00000436232|ENST00000436870" \
        hg19.allGenes.gp | gzip -c > hg19.allGenes.gp.gz
    genePredCheck -db=hg19 hg19.allGenes.gp.gz
    checked: 143123 failed: 0

    cd /hive/data/genomes/hg19
    #	and finish it off:
    doEnsGeneUpdate.pl -ensVersion=57 -continue=load \
	hg19.ensGene.ra > ens.57.load 2>&1
    featureBits hg19 ensGene
    # 101913378 bases of 2897316137 (3.518%) in intersection

############################################################################
# ensembl 56 update (DONE - 2009-10-27 - Hiram) only did Rat as a one-off

############################################################################
#  rn4 - Rat - Ensembl Genes version 56  (DONE - 2009-10-27 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=56 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.56
    featureBits rn4 ensGene
    # 46518438 bases of 2571531505 (1.809%) in intersection

############################################################################
# ensembl 54 update (DONE - 2009-08-05 - Hiram)
    # hg18 needs to get to its last version
############################################################################
#  hg18 - Human - Ensembl Genes version 54  (DONE - 2009-08-05 - hiram)
    ssh hgwdev
    cd /hive/data/genomes/hg18
    cat << '_EOF_' > hg18.ensGene.ra
# required db variable
db hg18
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg18/jkStuff/ensGene.haplotype.lift
liftUp /hive/data/genomes/hg18/jkStuff/liftContigs.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=54 hg18.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg18/bed/ensGene.54
    featureBits hg18 ensGene
    # 70647021 bases of 2881515245 (2.452%) in intersection

############################################################################
# To finish off the update to 55 and 54, run the following:
     hgsql -e \
'update trackVersion set dateReference="dec2008" where version="52";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="may2009" where version="54";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="55";' hgFixed

############################################################################

############################################################################
# ensembl 55 updates (WORKING - 2009-07-14 - Hiram)
    # see also: more notes about how this is done in the "ensembl 50 updates"
    #	section below  (and in /hive/users/hiram/ensGene/)
############################################################################
#  macEug1 - Wallaby - (BROKEN - 2009-07-20 - Hiram)
    # can not get this one to work, either a broken GeneScaffold lift
    #	or a different set of scaffold names, need to investigate
############################################################################
#  danRer6 - Zebrafish - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u05
    cd /hive/data/genomes/danRer6
    cat << '_EOF_' > danRer6.ensGene.ra
# required db variable
db danRer6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 danRer6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer6/bed/ensGene.55
    featureBits danRer6 ensGene
    # 44586206 bases of 1506896106 (2.959%) in intersection
############################################################################
#  hg19 - Human - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/hg19
    cat << '_EOF_' > hg19.ensGene.ra
# required db variable
db hg19
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg19/jkStuff/ensGene.haplotype.lift
# liftUp /hive/data/genomes/hg19/jkStuff/liftContigs.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 hg19.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg19/bed/ensGene.55
    featureBits hg19 ensGene
    # 85295627 bases of 2897316137 (2.944%) in intersection

############################################################################
#  anoCar1 - Lizard - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/anoCar1
    cat << '_EOF_' > anoCar1.ensGene.ra
# required db variable
db anoCar1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 anoCar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/anoCar1/bed/ensGene.55
    featureBits anoCar1 ensGene
    # 26956669 bases of 1741478929 (1.548%) in intersection
############################################################################
#  choHof1 - Sloth - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/choHof1
    cat << '_EOF_' > choHof1.ensGene.ra
# required db variable
db choHof1
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       18938: ENSCHOT00000005046 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 choHof1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/choHof1/bed/ensGene.55
    featureBits choHof1 ensGene
    # 18231244 bases of 2060419685 (0.885%) in intersection
############################################################################
#  dasNov2 - Armadillo - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u02
    cd /hive/data/genomes/dasNov2
    cat << '_EOF_' > dasNov2.ensGene.ra
# required db variable
db dasNov2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 dasNov2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov2/bed/ensGene.55
    featureBits dasNov2 ensGene
    # 21864229 bases of 2371493872 (0.922%) in intersection
############################################################################
#  loxAfr2 - Elephant - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/loxAfr2
    cat << '_EOF_' > loxAfr2.ensGene.ra
# required db variable
db loxAfr2
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
skipInvalid yes
#        ENSLAFT00000000586 no exonFrame on CDS exon 4
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 loxAfr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr2/bed/ensGene.55
    featureBits loxAfr2 ensGene
    # 23586871 bases of 2444975542 (0.965%) in intersection

############################################################################
#  bosTau4 - Cow - Ensembl Genes version 55  (DONE - 2009-07-15 - hiram)
    ssh kkr14u02
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 bosTau4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.55
    featureBits bosTau4 ensGene
    # 42207115 bases of 2731830700 (1.545%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.55
    featureBits canFam2 ensGene
    # 34634472 bases of 2384996543 (1.452%) in intersection

############################################################################
#  cavPor3 - Guinea Pig - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u01
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.55
    featureBits cavPor3 ensGene
    # 30852014 bases of 2663369733 (1.158%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.55
    featureBits ci2 ensGene
    # 20113161 bases of 141233565 (14.241%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.55
    featureBits cioSav2 ensGene
    # 16616680 bases of 173749524 (9.564%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that have invalid structures from Ensembl:
# 11275: ENSDORT00000004734 no exonFrame on CDS exon 12
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.55
    featureBits dipOrd1 ensGene
    # 25275613 bases of 1844961421 (1.370%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 29277: ENSETET00000011172 no exonFrame on CDS exon 14
# 44942: ENSETET00000018714 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.55
    featureBits echTel1 ensGene
    # 25563184 bases of 2111581369 (1.211%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.55
    featureBits equCab2 ensGene
    # 39506745 bases of 2428790173 (1.627%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u01
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 4691: ENSEEUT00000004188 no exonFrame on CDS exon 7
# 35795: ENSEEUT00000003156 no exonFrame on CDS exon 4
# 40908: ENSEEUT00000001064 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.55
    featureBits eriEur1 ensGene
    # 22480171 bases of 2133134836 (1.054%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u05
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 2100: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 14578: ENSFCAT00000010965 no exonFrame on CDS exon 1
# 26634: ENSFCAT00000009384 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.55
    featureBits felCat3 ensGene
    # 22220711 bases of 1642698377 (1.353%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u06
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.55
    featureBits fr2 ensGene
    # 34560383 bases of 393312790 (8.787%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.55
    featureBits galGal3 ensGene
    # 30733557 bases of 1042591351 (2.948%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 55  (DONE - 2009-07-15 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.55
    featureBits gasAcu1 ensGene
    # 36789271 bases of 446627861 (8.237%) in intersection

############################################################################
#  gorGor1 - Gorilla - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u04
    cd /hive/data/genomes/gorGor1
    cat << '_EOF_' > gorGor1.ensGene.ra
# required db variable
db gorGor1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC
# names
liftUp /hive/data/genomes/gorGor1/jkStuff/ensemblLiftToUcsc.lift
# ignore the single gene that has an invalid structure from Ensembl:
skipInvalid yes
# 8939: ENSGGOT00000010340 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 gorGor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor1/bed/ensGene.55
    featureBits gorGor1 ensGene
    # 23242041 bases of 2075548667 (1.120%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.55
    featureBits micMur1 ensGene
    # 25659397 bases of 1852394361 (1.385%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 55  (DONE - 2009-07-15 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.55
    featureBits mm9 ensGene
    # 63272128 bases of 2620346127 (2.415%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.55
    featureBits monDom5 ensGene
    # 32999268 bases of 3501660299 (0.942%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 1265: ENSMLUT00000004658 no exonFrame on CDS exon 1
# 17770: ENSMLUT00000003427 no exonFrame on CDS exon 10
# 32743: ENSMLUT00000009601 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.55
    featureBits myoLuc1 ensGene
    # 24630744 bases of 1673855868 (1.471%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 10995: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.55
    featureBits ochPri2 ensGene
    # 25342444 bases of 1923624051 (1.317%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u02
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 365 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.55
    featureBits ornAna1 ensGene
    # 24537221 bases of 1842236818 (1.332%) in intersection

############################################################################
#  oryCun1 - Rabbit - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/oryCun1
    cat << '_EOF_' > oryCun1.ensGene.ra
# required db variable
db oryCun1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 24994: ENSOCUT00000009485 no exonFrame on CDS exon 9
# 26897: ENSOCUT00000004627 no exonFrame on CDS exon 3
# 32794: ENSOCUT00000014840 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 oryCun1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun1/bed/ensGene.55
    featureBits oryCun1 ensGene
    # 22839824 bases of 2076044328 (1.100%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.55
    featureBits oryLat2 ensGene
    # 32301732 bases of 700386597 (4.612%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kolossus
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.55
    featureBits otoGar1 ensGene
    # 23597902 bases of 1969052059 (1.198%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.55
    featureBits panTro2 ensGene
    # 49983145 bases of 2909485072 (1.718%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.55
    featureBits ponAbe2 ensGene
    # 38087987 bases of 3093572278 (1.231%) in intersection

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 4595: ENSPCAT00000007286 no exonFrame on CDS exon 1
# 28894: ENSPCAT00000000699 no exonFrame on CDS exon 4

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.55
    featureBits proCap1 ensGene
    # 25296156 bases of 2407847681 (1.051%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u08
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
#       6381: ENSPVAT00000012919 no exonFrame on CDS exon 14
#       23522: ENSPVAT00000010661 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.55
    featureBits pteVam1 ensGene
    # 28914790 bases of 1839436660 (1.572%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kolossus
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.55
    featureBits rheMac2 ensGene
    # 44519581 bases of 2646704109 (1.682%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh swarm
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.55
    featureBits rn4 ensGene
    # 43758167 bases of 2571531505 (1.702%) in intersection

############################################################################
#  sacCer2 - S. cerevisiae - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u02
    cd /hive/data/genomes/sacCer2
    cat << '_EOF_' > sacCer2.ensGene.ra
# required db variable
db sacCer2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chrVIII/; s/^VII/chrVII/; s/^VI/chrVI/; s/^V/chrV/; s/^XIII/chrXIII/; s/^XII/chrXII/; s/^XIV/chrXIV/; s/^XI/chrXI/; s/^XVI/chrXVI/; s/^XV/chrXV/; s/^X/chrX/; s/^III/chrIII/; s/^IV/chrIV/; s/^II/chrII/; s/^IX/chrIX/; s/^I/chrI/; s/^MT/chrM/; s/2-micron/2micron/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 sacCer2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer2/bed/ensGene.55
    featureBits sacCer2 ensGene
    # 8912793 bases of 12162995 (73.278%) in intersection

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u04
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.55
    featureBits sorAra1 ensGene
    # 19509213 bases of 1832864697 (1.064%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kolossus
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 1071: ENSSTOT00000007455 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.55
    featureBits speTri1 ensGene
    # 21590338 bases of 1913367893 (1.128%) in intersection

############################################################################
#  taeGut1 - Zebra finch - Ensembl Genes version 55  (DONE - 2009-07-15 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/taeGut1
    cat << '_EOF_' > taeGut1.ensGene.ra
# required db variable
db taeGut1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9LXYZ][0-9ABG]*\)/chr\1/; s/^Un/chrUn/"
# need to translate Ensembl GeneScaffold coordinates to UCSC scaffolds
# geneScaffolds yes
#       during the loading of the gene pred, skip all invalid genes
# skipInvalid yes
#       13843: ENSDNOT00000025033 no exonFrame on CDS exon 5
#       23044: ENSDNOT00000004471 no exonFrame on CDS exon 1
#       30976: ENSDNOT00000003424 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 taeGut1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/taeGut1/bed/ensGene.55
    featureBits taeGut1 ensGene
    #   25428670 bases of 1222864691 (2.079%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 55  (DONE - 2009-07-20 - hiram)
    ssh kkr14u01
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.55
    featureBits tarSyr1 ensGene
    # 21282560 bases of 2768536343 (0.769%) in intersection

############################################################################
#  tupBel1 - TreeShrew - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u05
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 2993: ENSTBET00000015831 no exonFrame on CDS exon 11
# 3556: ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.55
    featureBits tupBel1 ensGene
    # 22808448 bases of 2137225476 (1.067%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 55  (DONE - 2009-07-20 - hiram)
    ssh kkr14u06
    cd /hive/data/genomes/turTru1
    cat << '_EOF_' > turTru1.ensGene.ra
# required db variable
db turTru1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 turTru1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/turTru1/bed/ensGene.55
    featureBits turTru1 ensGene
    # 28534327 bases of 2298444090 (1.241%) in intersection

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kkr14u06
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the 53 genes that do not translate properly to UCSC coordinates
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 vicPac1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.55
    featureBits vicPac1 ensGene
    # 17833823 bases of 1922910435 (0.927%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 55  (DONE - 2009-07-14 - hiram)
    ssh kolossus
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=55 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.55
    featureBits xenTro2 ensGene
    # 29158032 bases of 1359412157 (2.145%) in intersection

############################################################################

############################################################################
# ensembl 52 updates (DONE - 2009-01-21,22 - Hiram)
    # see also: more notes about how this is done in the "ensembl 50 updates"
    #	section below
############################################################################
#  bosTau4 - Cow - Ensembl Genes version 52  (DONE - 2009-01-22 - hiram)
    ssh swarm
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
    db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; s/^MT/chrM/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 bosTau4.ensGene.ra \
	> ensGene.52.log 2>&1

    # v52 introduced the chrM genes as MT genes, needed to alter
    #	the nameTranslation sed command to include s/^MT/chrM/
    #	And then, it breaks down in the process step due to this single
    #	stray gene definition, to fix it:
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.52/process
    mv bosTau4.allGenes.gp.gz bosTau4.allGenes.gp.gz.broken
    zcat bosTau4.allGenes.gp.gz.broken | grep -v AAFC03011182 \
	| gzip -c > bosTau4.allGenes.gp.gz
    #	verify that:
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    #	checked: 29802 failed: 0
    #	continuing:
    cd /hive/data/genomes/bosTau4
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl -verbose=2 \
	-ensVersion=52 -continue=load bosTau4.ensGene.ra >> ensGene.52.log 2>&1

    cd /hive/data/genomes/bosTau4/bed/ensGene.52
    featureBits bosTau4 ensGene
    # 41476954 bases of 2731830700 (1.518%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.52
    featureBits canFam2 ensGene
    # 34634856 bases of 2384996543 (1.452%) in intersection

############################################################################
#  cavPor3 - Guinea Pig - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh hgwdev
    cd /hive/data/genomes/cavPor3
    cat << '_EOF_' > cavPor3.ensGene.ra
# required db variable
db cavPor3
# do we need to translate geneScaffold coordinates
# geneScaffolds yes
nameTranslation "s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 cavPor3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cavPor3/bed/ensGene.52
    featureBits cavPor3 ensGene
    # 30852014 bases of 2663369733 (1.158%) in intersection

############################################################################
#  ce6 - C. elegans - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/ce6
    cat << '_EOF_' > ce6.ensGene.ra
# required db variable
db ce6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 ce6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce6/bed/ensGene.52
    featureBits ce6 ensGene
    # 29421784 bases of 100281426 (29.339%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh swarm
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.52
    featureBits ci2 ensGene
    # 20113161 bases of 141233565 (14.241%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh kolossus
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.52
    featureBits cioSav2 ensGene
    # 16616680 bases of 173749524 (9.564%) in intersection

############################################################################
#  danRer5 - Zebrafish - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/danRer5
    cat << '_EOF_' > danRer5.ensGene.ra
# required db variable
db danRer5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 danRer5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer5/bed/ensGene.52
    featureBits danRer5 ensGene
    # 36854235 bases of 1435609608 (2.567%) in intersection

############################################################################
#  dasNov1 - Armadillo - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/dasNov1
    cat << '_EOF_' > dasNov1.ensGene.ra
# required db variable
db dasNov1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 18192: ENSDNOT00000004471 no exonFrame on CDS exon 7
# 35247: ENSDNOT00000007696 no exonFrame on CDS exon 8
# 38952: ENSDNOT00000019234 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 dasNov1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dasNov1/bed/ensGene.52
    featureBits dasNov1 ensGene
    # 22721709 bases of 2146362222 (1.059%) in intersection

############################################################################
#  dipOrd1 - Kangaroo rat - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh swarm
    cd /hive/data/genomes/dipOrd1
    cat << '_EOF_' > dipOrd1.ensGene.ra
# required db variable
db dipOrd1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that have invalid structures from Ensembl:
# 11275: ENSDORT00000004734 no exonFrame on CDS exon 12
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 dipOrd1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/dipOrd1/bed/ensGene.52
    featureBits dipOrd1 ensGene
    # 25213442 bases of 1844961421 (1.367%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 29277: ENSETET00000011172 no exonFrame on CDS exon 14
# 44942: ENSETET00000018714 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 echTel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/echTel1/bed/ensGene.52
    featureBits echTel1 ensGene
    # 25563184 bases of 2111581369 (1.211%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.52
    featureBits equCab2 ensGene
    # 39198296 bases of 2428790173 (1.614%) in intersection

############################################################################
#  eriEur1 - Hedgehog - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/eriEur1
    cat << '_EOF_' > eriEur1.ensGene.ra
# required db variable
db eriEur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 4691: ENSEEUT00000004188 no exonFrame on CDS exon 7
# 35795: ENSEEUT00000003156 no exonFrame on CDS exon 4
# 40908: ENSEEUT00000001064 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 eriEur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/eriEur1/bed/ensGene.52
    featureBits eriEur1 ensGene
    # 22480171 bases of 2133134836 (1.054%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 2100: ENSFCAT00000006929 no exonFrame on CDS exon 16
# 14578: ENSFCAT00000010965 no exonFrame on CDS exon 1
# 26634: ENSFCAT00000009384 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 felCat3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/felCat3/bed/ensGene.52
    featureBits felCat3 ensGene

############################################################################
#  fr2 - Fugu - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.52
    featureBits fr2 ensGene
    # 34560383 bases of 393312790 (8.787%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.52
    featureBits galGal3 ensGene
    # 30733654 bases of 1042591351 (2.948%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 52  (DONE - 2009-01-22 - hiram)
    ssh swarm
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 gasAcu1.ensGene.ra

    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.52/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29109 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=52 gasAcu1.ensGene.ra \
	>> ensGene.52.load.log 2>&1

    featureBits gasAcu1 ensGene
    # 36789458 bases of 446627861 (8.237%) in intersection

############################################################################
#  gorGor1 - Gorilla - Ensembl Genes version 52  (DONE - 2008-12-19 - hiram)
    ssh kolossus
    cd /hive/data/genomes/gorGor1
    cat << '_EOF_' > gorGor1.ensGene.ra
# required db variable
db gorGor1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC
# names
liftUp /hive/data/genomes/gorGor1/jkStuff/ensemblLiftToUcsc.lift
# ignore the single gene that has an invalid structure from Ensembl:
skipInvalid yes
# 8939: ENSGGOT00000010340 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 gorGor1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gorGor1/bed/ensGene.52
    featureBits gorGor1 ensGene
    # 23242041 bases of 2075548667 (1.120%) in intersection

############################################################################
#  hg18 - Human - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    #	v52 introduced genes on contig coordinates, needed to add
    #	the liftUp liftContigs.lft specification to the .ra file:
    ssh kolossus
    cd /hive/data/genomes/hg18
    cat << '_EOF_' > hg18.ensGene.ra
# required db variable
db hg18
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /hive/data/genomes/hg18/jkStuff/ensGene.haplotype.lift
liftUp /hive/data/genomes/hg18/jkStuff/liftContigs.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 hg18.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg18/bed/ensGene.52
    featureBits hg18 ensGene
    # 70647021 bases of 2881515245 (2.452%) in intersection

############################################################################
#  loxAfr1 - Elephant - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/loxAfr1
    cat << '_EOF_' > loxAfr1.ensGene.ra
# required db variable
db loxAfr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the one gene that has an invalid structure from Ensembl:
# 13002: ENSLAFT00000000586 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 loxAfr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/loxAfr1/bed/ensGene.52
    featureBits loxAfr1 ensGene
    # 21706063 bases of 2295548473 (0.946%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh kolossus
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.52
    featureBits micMur1 ensGene
    # 25659397 bases of 1852394361 (1.385%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes version 52  (DONE - 2009-01-22 - hiram)
     ssh swarm
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 mm9.ensGene.ra

    #	ran into trouble with the ensGtp table load, the names of
    #	the proteins have gotten longer and the standard sql definition
    #	was no longer adequate.  So, after the load failed, increase
    #	protein char and index size to 23:
    cat << '_EOF_' > ensGtp.sql
# This creates the table holding the relationship between
# ensemble genes, transcripts, and peptides.
CREATE TABLE ensGtp (
  gene char(20) NOT NULL,
  transcript char(20) NOT NULL,
  protein char(23) NOT NULL,
# INDICES
  INDEX(gene(19)),
  UNIQUE(transcript(19)),
  INDEX(protein(23))
)
'_EOF_'
    # << happy emacs

    #	Then, running the rest of the load script:
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.52
    ./finiLoad.csh > ensGene.52.log 2>&1

    doEnsGeneUpdate -ensVersion=52 -verbose=2 -continue=cleanup mm9.ensGene.ra

    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.52
    featureBits mm9 ensGene
    # 63272128 bases of 2620346127 (2.415%) in intersection

############################################################################
#  monDom5 - Opossum - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/monDom5
    cat << '_EOF_' > monDom5.ensGene.ra
# required db variable
db monDom5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 monDom5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/monDom5/bed/ensGene.52
    featureBits monDom5 ensGene
    # 33008124 bases of 3501660299 (0.943%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 1265: ENSMLUT00000004658 no exonFrame on CDS exon 1
# 17770: ENSMLUT00000003427 no exonFrame on CDS exon 10
# 32743: ENSMLUT00000009601 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/myoLuc1/bed/ensGene.52
    featureBits myoLuc1 ensGene
    # 24630744 bases of 1673855868 (1.471%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 10995: ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 ochPri2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ochPri2/bed/ensGene.52
    featureBits ochPri2 ensGene
    # 25342444 bases of 1923624051 (1.317%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly, 365 items
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 ornAna1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ornAna1/bed/ensGene.52
    featureBits ornAna1 ensGene
    # 24537443 bases of 1842236818 (1.332%) in intersection

############################################################################
#  oryCun1 - Rabbit - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kkr14u03
    cd /hive/data/genomes/oryCun1
    cat << '_EOF_' > oryCun1.ensGene.ra
# required db variable
db oryCun1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# 24994: ENSOCUT00000009485 no exonFrame on CDS exon 9
# 26897: ENSOCUT00000004627 no exonFrame on CDS exon 3
# 32794: ENSOCUT00000014840 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 oryCun1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryCun1/bed/ensGene.52
    featureBits oryCun1 ensGene
    # 22839824 bases of 2076044328 (1.100%) in intersection

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.52
    featureBits oryLat2 ensGene
    # 32301878 bases of 700386597 (4.612%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.52
    featureBits otoGar1 ensGene
    # 23597902 bases of 1969052059 (1.198%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.52
    featureBits panTro2 ensGene
    # 49983145 bases of 2909485072 (1.718%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.52
    featureBits ponAbe2 ensGene

############################################################################
#  proCap1 - Rock hyrax - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/proCap1
    cat << '_EOF_' > proCap1.ensGene.ra
# required db variable
db proCap1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 4595: ENSPCAT00000007286 no exonFrame on CDS exon 1
# 28894: ENSPCAT00000000699 no exonFrame on CDS exon 4

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 proCap1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/proCap1/bed/ensGene.52
    featureBits proCap1 ensGene
    # 25234470 bases of 2407847681 (1.048%) in intersection

############################################################################
#  pteVam1 - Megabat - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/pteVam1
    cat << '_EOF_' > pteVam1.ensGene.ra
# required db variable
db pteVam1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
#       6381: ENSPVAT00000012919 no exonFrame on CDS exon 14
#       23522: ENSPVAT00000010661 no exonFrame on CDS exon 0

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 pteVam1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/pteVam1/bed/ensGene.52
    featureBits pteVam1 ensGene
    # 28832895 bases of 1839436660 (1.567%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.52
    featureBits rheMac2 ensGene
    # 44519581 bases of 2646704109 (1.682%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.52
    featureBits rn4 ensGene
    # 43758167 bases of 2571531505 (1.702%) in intersection

############################################################################
#  sacCer1 - S. cerevisiae - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh swarm
    cd /hive/data/genomes/sacCer1
    cat << '_EOF_' > sacCer1.ensGene.ra
# required db variable
db sacCer1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chr8/; s/^VII/chr7/; s/^VI/chr6/; s/^V/chr5/; s/^XIII/chr13/; s/^XII/chr12/; s/^XIV/chr14/; s/^XI/chr11/; s/^XVI/chr16/; s/^XV/chr15/; s/^X/chr10/; s/^III/chr3/; s/^IV/chr4/; s/^II/chr2/; s/^IX/chr9/; s/^I/chr1/; s/^MT/chrM/; /2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 sacCer1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer1/bed/ensGene.52
    featureBits sacCer1 ensGene
    #	8908962 bases of 12156302 (73.287%) in intersection
    #	this complains about table 'gap' missing

############################################################################
#  sorAra1 - Shrew - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh swarm
    cd /hive/data/genomes/sorAra1
    cat << '_EOF_' > sorAra1.ensGene.ra
# required db variable
db sorAra1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 sorAra1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sorAra1/bed/ensGene.52
    featureBits sorAra1 ensGene
    # 19509213 bases of 1832864697 (1.064%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# 1071: ENSSTOT00000007455 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 speTri1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/speTri1/bed/ensGene.52
    featureBits speTri1 ensGene
    # 21590338 bases of 1913367893 (1.128%) in intersection

############################################################################
#  tarSyr1 - Tarsier - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/tarSyr1
    cat << '_EOF_' > tarSyr1.ensGene.ra
# required db variable
db tarSyr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the 2,819 genes that do not translate properly to UCSC # coordinates
#       out of 43,529 genes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 tarSyr1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tarSyr1/bed/ensGene.52
    featureBits tarSyr1 ensGene
    # 20286934 bases of 2768536343 (0.733%) in intersection

############################################################################
#  tupBel1 - TreeShrew - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    ssh kolossus
    cd /hive/data/genomes/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# 2993: ENSTBET00000015831 no exonFrame on CDS exon 11
# 3556: ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 tupBel1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/tupBel1/bed/ensGene.52
    featureBits tupBel1 ensGene
    # 22808448 bases of 2137225476 (1.067%) in intersection

############################################################################
#  turTru1 - Dolphin - Ensembl Genes version 52  (DONE - 2009-01-21 - hiram)
    #	this one does not work currently.  Something is fishy with
    #	the protein vs. peptide names

############################################################################
#  vicPac1 - Alpaca - Ensembl Genes version 52  (DONE - 2009-01-22 - hiram)
    ssh kolossus
    cd /hive/data/genomes/vicPac1
    cat << '_EOF_' > vicPac1.ensGene.ra
# required db variable
db vicPac1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the 53 genes that do not translate properly to UCSC coordinates
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 vicPac1.ensGene.ra
    #	ran into a little problem with this one, one of the files at
    #	the Ensembl FTP site was not gzipped and we were looking for
    #	and expect to find the .gz file.  So, after the download failed,
    #	fixup the doDownload.csh script to fetch the unzipped gtf file,
    #	and gzip it for the rest of the sequence, then continuing:
    doEnsGeneUpdate.pl -ensVersion=52 -verbose=2 -continue=process \
	vicPac1.ensGene.ra >>  ensGene.52.log 2>&1

    ssh hgwdev
    cd /hive/data/genomes/vicPac1/bed/ensGene.52
    featureBits vicPac1 ensGene
    #	17768749 bases of 1922910435 (0.924%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 52  (DONE - 2009-01-21 -
#  hiram)
    ssh swarm
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=52 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.52
    featureBits xenTro2 ensGene
    # 29158101 bases of 1359412157 (2.145%) in intersection

#############################################################################
#############################################################################
# ensembl 51 updates (DONE - 2008-12-05 - Hiram)
    # see also: more notes about how this is done in the "ensembl 50 updates"
    #	section below

############################################################################
#  canFam2 - Dog - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 canFam2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/canFam2/bed/ensGene.51
    featureBits canFam2 ensGene
    # 34551623 bases of 2384996543 (1.449%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/canFam2/bed/ensGene.51

############################################################################
#  ce6 - C. elegans - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/ce6
    cat << '_EOF_' > ce6.ensGene.ra
# required db variable
db ce6
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 ce6.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ce6/bed/ensGene.51
    featureBits ce6 ensGene
    # 29421784 bases of 100281426 (29.339%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ce6/bed/ensGene.51

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 ci2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ci2/bed/ensGene.51
    featureBits ci2 ensGene
    # 20106805 bases of 141233565 (14.237%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ci2/bed/ensGene.51

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 cioSav2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/cioSav2/bed/ensGene.51
    featureBits cioSav2 ensGene
    # 16601350 bases of 173749524 (9.555%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/cioSav2/bed/ensGene.51

############################################################################
#  danRer5 - Zebrafish - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/danRer5
    cat << '_EOF_' > danRer5.ensGene.ra
# required db variable
db danRer5
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 danRer5.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/danRer5/bed/ensGene.51
    featureBits danRer5 ensGene
    # 36864148 bases of 1435609608 (2.568%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/danRer5/bed/ensGene.51

############################################################################
#  equCab2 - Horse - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#	translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 equCab2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/equCab2/bed/ensGene.51
    featureBits equCab2 ensGene
    # 39169781 bases of 2428790173 (1.613%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/equCab2/bed/ensGene.51

############################################################################
#  fr2 - Fugu - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 fr2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/fr2/bed/ensGene.51
    featureBits fr2 ensGene
    # 34554303 bases of 393312790 (8.785%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/fr2/bed/ensGene.51

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 galGal3.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/galGal3/bed/ensGene.51
    featureBits galGal3 ensGene
    # 30700613 bases of 1042591351 (2.945%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/galGal3/bed/ensGene.51

############################################################################
#  hg18 - Human - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/hg18
    cat << '_EOF_' > hg18.ensGene.ra
# required db variable
db hg18
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 hg18.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/hg18/bed/ensGene.51
    featureBits hg18 ensGene
    # 69963186 bases of 2881515245 (2.428%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/hg18/bed/ensGene.51

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 micMur1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/micMur1/bed/ensGene.51
    featureBits micMur1 ensGene
    # 25425991 bases of 1852394361 (1.373%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/micMur1/bed/ensGene.51

############################################################################
#  mm9 - Mouse - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 mm9.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/mm9/bed/ensGene.51
    featureBits mm9 ensGene
    # 60671138 bases of 2620346127 (2.315%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/mm9/bed/ensGene.51

############################################################################
#  oryLat2 - Medaka - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/oryLat2
    cat << '_EOF_' > oryLat2.ensGene.ra
# required db variable
db oryLat2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
# skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 oryLat2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/oryLat2/bed/ensGene.51
    featureBits oryLat2 ensGene
    # 32293719 bases of 700386597 (4.611%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/oryLat2/bed/ensGene.51

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 otoGar1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/otoGar1/bed/ensGene.51
    featureBits otoGar1 ensGene
    # 23463097 bases of 1969052059 (1.192%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/otoGar1/bed/ensGene.51

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 panTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/panTro2/bed/ensGene.51
    featureBits panTro2 ensGene
    # 49736660 bases of 2909485072 (1.709%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/panTro2/bed/ensGene.51

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/ponAbe2/bed/ensGene.51
    featureBits ponAbe2 ensGene
    # 37839545 bases of 3093572278 (1.223%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/ponAbe2/bed/ensGene.51

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 rheMac2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rheMac2/bed/ensGene.51
    featureBits rheMac2 ensGene
    # 44297247 bases of 2646704109 (1.674%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/rheMac2/bed/ensGene.51

############################################################################
#  rn4 - Rat - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 rn4.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/rn4/bed/ensGene.51
    featureBits rn4 ensGene
    # 43712046 bases of 2571531505 (1.700%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/rn4/bed/ensGene.51

############################################################################
#  sacCer1 - S. cerevisiae - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/sacCer1
    cat << '_EOF_' > sacCer1.ensGene.ra
# required db variable
db sacCer1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chr8/; s/^VII/chr7/; s/^VI/chr6/; s/^V/chr5/; s/^XIII/chr13/; s/^XII/chr12/; s/^XIV/chr14/; s/^XI/chr11/; s/^XVI/chr16/; s/^XV/chr15/; s/^X/chr10/; s/^III/chr3/; s/^IV/chr4/; s/^II/chr2/; s/^IX/chr9/; s/^I/chr1/; s/^MT/chrM/; /2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 sacCer1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/sacCer1/bed/ensGene.51
    featureBits sacCer1 ensGene
    # table gap doesn't exist
    #	8908962 bases of 12156302 (73.287%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/sacCer1/bed/ensGene.51

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 51  (DONE - 2008-12-03 - hiram)
    ssh kkr14u07
    cd /hive/data/genomes/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 xenTro2.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/xenTro2/bed/ensGene.51
    featureBits xenTro2 ensGene
    # 29135083 bases of 1359412157 (2.143%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/xenTro2/bed/ensGene.51

############################################################################
#############################################################################
# ensembl 50 updates (DONE - 2009-08-07 - Hiram)
    #	When a new Ensembl release is available.  Some manual work needs
    #	to be done to src/hg/utils/automation/EnsGeneAutomate.pm
    #	to specify the files for each release.
    #	Fixups:
    #	version correspondence with their date strings:
    #	add $verToDate[##] = "monYYYY";
    #	add new ## to @versionList
    #	create lists for FtpFileNames_##, FtpPeptideFileNames_## and
    #	FtpMySqlFileNames_##
    #	and associated reference pointers to those specific new lists
    #	These lists relate our database names with their file names.
    #	This could perhaps be done in an automated fashion by scanning
    #	their FTP directories and relating their scientific names to
    #	our names.  However, there is a difficulty involved even if that
    #	could be done.  And that is, the exact correspondence between
    #	which genome version they are annotating vs. the genome version
    #	we have here.  I prefer to do this manually once at the beginning.
    #	It can be argued this could be error prone since it is manually
    #	done.  But, for now it is good enough for me.  If someone else wants
    #	to take on this task, and it would actually be interesting, be my guest.
    #	new Dbs at Ensembl for build 50:
    #	bosTau4, ce6, tetNig2 (ucsc is tetNig1)
    #	new Dbs here for build 50
    #	micMur1 myoLuc1 ochPri2 speTri1
    #	any new Dbs listed above will need to be run manually the first time
    #	to debug their <db>.ensGene.ra configuration file in /cluster/data/<db>
    #	no Db here:
    #	aedAeg0 dm5 monDom5 sorAra0 tetNig2

    #	The following three shell scripts can be run to make up the
    #	three different lists.  All that needs to be filled in are the
    #	UCSC database names.  For the gtf file names:

echo "user anonymous qa@ucsc
cd pub/release-50/gtf
ls -lR gtfFiles.fl
bye" > gtf50.rsp

ftp -n -v -i ftp.ensembl.org < gtf50.rsp

awk '
BEGIN { D = "" }
/^\.\// { D = $0 }
/^-/ { printf "%s/%s\n", D, $9 }
' gtfFiles.fl | sed -e "s#:/#/#; s#^./#'abcDef0' => '#; s/$/',/"

    #	for the peptide names:

echo "user anonymous qa@ucsc
cd pub/release-50/fasta
ls -lR pepFiles.fl
bye" > pep50.rsp

ftp -n -v -i ftp.ensembl.org < pep50.rsp
awk '
BEGIN { D = "" }
/^\.\// { D = $0 }
/^-/ { printf "%s/%s\n", D, $9 }
' pepFiles.fl | sed -e "s#:/#/#; s#^./#'abcDef0' => '#; s/$/',/" \
    | grep pep.all.fa.gz

    #	for the MySQL directory names:
echo "user anonymous qa@ucsc
cd pub/release-50/mysql
ls -lR mysqlFiles.fl
bye" > mysql50.rsp

ftp -n -v -i ftp.ensembl.org < mysql50.rsp

awk '
BEGIN { D = "" }
/^\.\// { D = $0 }
/seq_region.txt/ { printf "%s\n", D }
' mysqlFiles.fl | sed -e "s#:##g; s#^./#'abcDef0' => '#; s/$/',/" \
        | grep _core_

    #	quick verification that all the UCSC database names were entered
    #	correctly, the counts on each name should all be == 3
    egrep "_50_|\.50\." EnsGeneAutomate.pm | awk '{print $1}' | sort | uniq -c

    #	to see which DBs can be run:
    cd ~/kent/src/hg/utils/automation
    ./ensVersions 50 | grep -v "NOT FOUND" | sort

    #	manually ran the following to verify functionality and get
    #	ensGene.ra files established for new organisms:
    #	mm9 bosTau4 ce6 micMur1 myoLuc1 ochPri2 speTri1 hg18

    #	Then, running the following loop:
    cd /scratch/tmp
for D in canFam2 ci2 cioSav2 danRer5 dasNov1 echTel1 \
	equCab2 felCat3 fr2 galGal3 gasAcu1 loxAfr1 ornAna1 \
	oryCun1 oryLat1 otoGar1 panTro2 ponAbe2 rheMac2 rn4 sacCer1 \
	tupBel1 xenTro2
do
    cd /cluster/data/${D}
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl -verbose=2 \
	-ensVersion=50 ${D}.ensGene.ra > ${D}.ensGene.update.50.log 2>&1
    cat ${D}.ensGene.update.50.log
    mv ${D}.ensGene.update.50.log bed/ensGene.50
done > ensGene.update.50.log
    #	individual makeDoc entries are attached below
    #	Failed: gasAcu1 oryLat1
    #	OK: canFam2 ci2 cioSav2 danRer5 dasNov1 echTel1 equCab2 felCat3
    #	OK: fr2 galGal3 loxAfr1 ornAna1 oryCun1 otoGar1 panTro2 ponAbe2
    #	OK: rheMac2 rn4 sacCer1 (no gap table ?) tupBel1 xenTro2
    #	the ones that used to have skipInvalid need to be verified to
    #	see if that really still applies:
    #   skipInvalid: dasNov1 echTel1 felCat3 loxAfr1 ornAna1 oryCun1 oryLat1
    #	skipInvalid: tupBel1
    #	To check these skipInvalid:
    cd /cluster/data/<db>/bed/ensGene.50/process
    zcat <db>.allGenes.gp.gz | genePredCheck -db=<db> stdin
    #	you should see errors on the specific items mentioned in their
    #	<db>.ensGene.ra file
    #	the above were verified to have the same few errors as before.
    #	ornAna1 is a bit wierd.  Ensembl seems to have Contigs that we do not.
    #	gasAcu1 and oryLat1 needed special lifts

    #	To finalize the build, update the "current" status in the trackVersion
    #	table in hgFixed
     hgsql -e \
'update trackVersion set dateReference="mar2008" where version="49";' hgFixed
     hgsql -e \
'update trackVersion set dateReference="current" where version="50";' hgFixed


    #	to establish a new ensGene.ra file, start out with simply:
# required db variable
db newDb
# do we need to translate geneScaffold coordinates
geneScaffolds yes
    #	It is probably a geneScaffold assembly, if not, leave this out
    #	run the script with -stop=process to see if it reports any
    #	errors at that point.  You will then know what type of
    #	nameTranslation sed string you need to add, or any other
    #	special lifts, and if there are bugs in some of the Ensembl
    #	predictions.  Add whatever new arguments you need to, then
    #	continue the script with --continue.  Remove the process
    #	directory to re-run the process step again.

    #	manually running mm9 to see if it works:
    cd /cluster/data/mm9
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
            -verbose=2 -ensVersion=50 mm9.ensGene.ra > ensGene50.log 2>&1

    #	This run reports completion as follows:
############################################################################
#  mm9 - Mouse - Ensembl Genes version 50 (DONE - 2008-08-07 - hiram)
    ssh kkstore06
    cd /cluster/data/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 mm9.ensGene.ra
    ssh hgwdev
    cd /cluster/data/mm9/bed/ensGene.50
    featureBits mm9 ensGene
    # 60671138 bases of 2620346127 (2.315%) in intersection

############################################################################
#  bosTau4 - Cow - Ensembl Genes version 51  (DONE - 2008-12-03,04 - hiram)
    ssh kkr14u04
    cd /hive/data/genomes/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 bosTau4.ensGene.ra
    # broke down during process step, fix it:
    cd /hive/data/genomes/bosTau4/bed/ensGene.51/process
    mv bosTau4.allGenes.gp.gz bosTau4.allGenes.broken.gp.gz
    zcat bosTau4.allGenes.broken.gp.gz | grep -v AAFC03011182 | \
	gzip -c > bosTau4.allGenes.gp.gz
    # check it, from last line in doProcess.csh
    genePredCheck -db=bosTau4 bosTau4.allGenes.gp.gz
    #	checked: 29516 failed: 0
    #	now, continuing

    cd /hive/data/genomes/bosTau4
    doEnsGeneUpdate.pl -verbose=2 -ensVersion=51 -continue=load \
	bosTau4.ensGene.ra > ensGene51.load.log 2>&1
    ssh hgwdev
    cd /hive/data/genomes/bosTau4/bed/ensGene.51
    featureBits bosTau4 ensGene
    # 41425444 bases of 2731830700 (1.516%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/bosTau4/bed/ensGene.51

############################################################################
#  bosTau4 - Cow - Ensembl V50 Genes (DONE - 2008-04-22 - hiram)
#	This one had to be done manually.  They have a mistake
#	in their gtf file.  A single line has a gene name in the
#	chromosome column.  The lifting business for chrUn seems to
#	be unnecessary as it was done for bosTau3.  It looks like
#	they properly have their chrUn names the same as ours
    ssh hgwdev
    cd /cluster/data/bosTau4

    ssh kkstore05
    cd /cluster/data/bosTau4
    cat << '_EOF_' > bosTau4.ensGene.ra
# required db variable
db bosTau4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	-verbose=2 -ensVersion=50 -stop=process bosTau4.ensGene.ra \
	> ensGene50.process.log 2>&1
    #	the load step is broken due to the single bogus name.
    #	strip it out by fixing the load script to grep it out

    #	the fixed step:
zcat process/bosTau4.allGenes.gp.gz | grep -v AAFC03011182 \
    | hgLoadGenePred  -genePredExt bosTau4 \
    ensGene stdin >& loadGenePred.errors.txt


    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	-continue=load -ensVersion=50 bosTau4.ensGene.ra \
	> ensGene50.load.log 2>&1

    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	-continue=cleanup -ensVersion=50 bosTau4.ensGene.ra \
	> ensGene50.cleanup.log 2>&1

    ssh hgwdev
    cd /cluster/data/bosTau4/bed/ensGene.50
    featureBits bosTau4 ensGene
    # 41259085 bases of 2731830700 (1.510%) in intersection

############################################################################
#  ce6 - C. elegans - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore06
    cd /cluster/data/ce6
    cat << '_EOF_' > ce6.ensGene.ra
# required db variable
db ce6
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([IVX]\)/chr\1/; s/^MtDNA/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 ce6.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ce6/bed/ensGene.50
    featureBits ce6 ensGene
    # 29421784 bases of 100281426 (29.339%) in intersection

############################################################################
#  micMur1 - Mouse lemur - Ensembl Genes version 50  (DONE - 2008-08-08 -
#  hiram)
    ssh kkstore05
    cd /cluster/data/micMur1
    cat << '_EOF_' > micMur1.ensGene.ra
# required db variable
db micMur1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 micMur1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/micMur1/bed/ensGene.50
    featureBits micMur1 ensGene
    # 25425991 bases of 1852394361 (1.373%) in intersection

############################################################################
#  myoLuc1 - Microbat - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/myoLuc1
    cat << '_EOF_' > myoLuc1.ensGene.ra
# required db variable
db myoLuc1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSMLUT00000004658 no exonFrame on CDS exon 1
# ENSMLUT00000003427 no exonFrame on CDS exon 10
# ENSMLUT00000009601 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 myoLuc1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/myoLuc1/bed/ensGene.50
    featureBits myoLuc1 ensGene
    # 24559555 bases of 1673855868 (1.467%) in intersection

############################################################################
#  ochPri2 - Pika - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/ochPri2
    cat << '_EOF_' > ochPri2.ensGene.ra
# required db variable
db ochPri2
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
#  ENSOPRT00000002716 no exonFrame on CDS exon 2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 ochPri2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ochPri2/bed/ensGene.50
    featureBits ochPri2 ensGene
    # 25069963 bases of 1923624051 (1.303%) in intersection

############################################################################
#  speTri1 - Squirrel - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/speTri1
    cat << '_EOF_' > speTri1.ensGene.ra
# required db variable
db speTri1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the single gene that has an invalid structure from Ensembl:
# ENSSTOT00000007455 no exonFrame on CDS exon
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 speTri1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/speTri1/bed/ensGene.50
    featureBits speTri1 ensGene
    # 21525994 bases of 1913367893 (1.125%) in intersection

############################################################################
#  hg18 - Human - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore02
    cd /cluster/data/hg18
    cat << '_EOF_' > hg18.ensGene.ra
# required db variable
db hg18
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 hg18.ensGene.ra
    ssh hgwdev
    cd /cluster/data/hg18/bed/ensGene.50
    featureBits hg18 ensGene
    # 69928854 bases of 2881515245 (2.427%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore04
    cd /cluster/data/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 canFam2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/canFam2/bed/ensGene.50
    featureBits canFam2 ensGene
    # 34550366 bases of 2384996543 (1.449%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes version 50  (DONE - 2008-08-08 -
#  hiram)
    ssh kkstore02
    cd /cluster/data/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 ci2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ci2/bed/ensGene.50
    featureBits ci2 ensGene
    # 20124353 bases of 141233565 (14.249%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes version 50  (DONE - 2008-08-08 -
#  hiram)
    ssh kkstore02
    cd /cluster/data/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 cioSav2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/cioSav2/bed/ensGene.50
    featureBits cioSav2 ensGene
    # 16601350 bases of 173749524 (9.555%) in intersection

############################################################################
#  danRer5 - Zebrafish - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore06
    cd /cluster/data/danRer5
    cat << '_EOF_' > danRer5.ensGene.ra
# required db variable
db danRer5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 danRer5.ensGene.ra
    ssh hgwdev
    cd /cluster/data/danRer5/bed/ensGene.50
    featureBits danRer5 ensGene
    # 36864148 bases of 1435609608 (2.568%) in intersection

############################################################################
#  dasNov1 - Armadillo - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore04
    cd /cluster/data/dasNov1
    cat << '_EOF_' > dasNov1.ensGene.ra
# required db variable
db dasNov1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSDNOT00000004471 no exonFrame on CDS exon 7
# ENSDNOT00000007696 no exonFrame on CDS exon 8
# ENSDNOT00000019234 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 dasNov1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/dasNov1/bed/ensGene.50
    featureBits dasNov1 ensGene
    # 22658142 bases of 2146362222 (1.056%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore02
    cd /cluster/data/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSETET00000011172 no exonFrame on CDS exon 14
# ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 echTel1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/echTel1/bed/ensGene.50
    featureBits echTel1 ensGene
    # 25441754 bases of 2111581369 (1.205%) in intersection

############################################################################
#  equCab2 - Horse - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/equCab2
    cat << '_EOF_' > equCab2.ensGene.ra
# required db variable
db equCab2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
#       translate Ensembl chrUnNNNN names to chrUn coordinates
liftUp /cluster/data/equCab2/jkStuff/chrUn.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 equCab2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/equCab2/bed/ensGene.50
    featureBits equCab2 ensGene
    # 39169781 bases of 2454424288 (1.596%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSFCAT00000006929 no exonFrame on CDS exon 15
# ENSFCAT00000009384 no exonFrame on CDS exon 0
# ENSFCAT00000010965 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 felCat3.ensGene.ra
    ssh hgwdev
    cd /cluster/data/felCat3/bed/ensGene.50
    featureBits felCat3 ensGene
    # 22020647 bases of 1642698377 (1.341%) in intersection

############################################################################
#  fr2 - Fugu - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore02
    cd /cluster/data/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 fr2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/fr2/bed/ensGene.50
    featureBits fr2 ensGene
    # 34554303 bases of 393312790 (8.785%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore03
    cd /cluster/data/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 galGal3.ensGene.ra
    ssh hgwdev
    cd /cluster/data/galGal3/bed/ensGene.50
    featureBits galGal3 ensGene
    # 30853095 bases of 1042591351 (2.959%) in intersection

############################################################################
#  loxAfr1 - Elephant - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore04
    cd /cluster/data/loxAfr1
    cat << '_EOF_' > loxAfr1.ensGene.ra
# required db variable
db loxAfr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the one gene that has an invalid structure from Ensembl:
# ENSLAFT00000000586 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 loxAfr1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/loxAfr1/bed/ensGene.50
    featureBits loxAfr1 ensGene
    # 23295034 bases of 2295548473 (1.015%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
'_EOF_'
#  << happy emacs

    #	There are 362 items that have invalid chrom messages

    doEnsGeneUpdate.pl -ensVersion=50 ornAna1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ornAna1/bed/ensGene.50
    featureBits ornAna1 ensGene
    # 24505297 bases of 1842236818 (1.330%) in intersection

############################################################################
#  oryCun1 - Rabbit - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore04
    cd /cluster/data/oryCun1
    cat << '_EOF_' > oryCun1.ensGene.ra
# required db variable
db oryCun1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSOCUT00000004627 no exonFrame on CDS exon 3
# ENSOCUT00000009485 no exonFrame on CDS exon 9
# ENSOCUT00000014840 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 oryCun1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/oryCun1/bed/ensGene.50
    featureBits oryCun1 ensGene
    # 22733387 bases of 2076044328 (1.095%) in intersection

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 otoGar1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/otoGar1/bed/ensGene.50
    featureBits otoGar1 ensGene
    # 23463097 bases of 1969052059 (1.192%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore04
    cd /cluster/data/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 panTro2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/panTro2/bed/ensGene.50
    featureBits panTro2 ensGene
    # 49736660 bases of 2909485072 (1.709%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore02
    cd /cluster/data/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ponAbe2/bed/ensGene.50
    featureBits ponAbe2 ensGene
    # 37737277 bases of 3093572278 (1.220%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore01
    cd /cluster/data/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 rheMac2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/rheMac2/bed/ensGene.50
    featureBits rheMac2 ensGene
    # 44297247 bases of 2646704109 (1.674%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore06
    cd /cluster/data/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 rn4.ensGene.ra
    ssh hgwdev
    cd /cluster/data/rn4/bed/ensGene.50
    featureBits rn4 ensGene
    # 43712046 bases of 2571531505 (1.700%) in intersection

############################################################################
#  sacCer1 - S. cerevisiae - Ensembl Genes version 50  (DONE - 2008-08-08 -
#  hiram)
    ssh kkstore03
    cd /cluster/data/sacCer1
    cat << '_EOF_' > sacCer1.ensGene.ra
# required db variable
db sacCer1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chr8/; s/^VII/chr7/; s/^VI/chr6/; s/^V/chr5/; s/^XIII/chr13/; s/^XII/chr12/; s/^XIV/chr14/; s/^XI/chr11/; s/^XVI/chr16/; s/^XV/chr15/; s/^X/chr10/; s/^III/chr3/; s/^IV/chr4/; s/^II/chr2/; s/^IX/chr9/; s/^I/chr1/; s/^MT/chrM/; /2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 sacCer1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/sacCer1/bed/ensGene.50
    featureBits sacCer1 ensGene
    #	8908962 bases of 12156302 (73.287%) in intersection

############################################################################
#  tupBel1 - TreeShrew - Ensembl Genes version 50  (DONE - 2008-08-08 - hiram)
    ssh kkstore05
    cd /cluster/data/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSTBET00000015831 no exonFrame on CDS exon 11
# ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 tupBel1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/tupBel1/bed/ensGene.50
    featureBits tupBel1 ensGene
    # 22746299 bases of 2137225476 (1.064%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes version 50  (DONE - 2008-08-08 -
#  hiram)
    ssh kkstore04
    cd /cluster/data/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 xenTro2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/xenTro2/bed/ensGene.50
    featureBits xenTro2 ensGene
    # 29150618 bases of 1359412157 (2.144%) in intersection

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 51  (DONE - 2008-08-11 - hiram)
    # requires extra attention after the all database for loop attempt
    cd /hive/data/genomes/gasAcu1/bed/ensGene.51/process
    mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp
    #	verify OK
    genePredCheck -db=gasAcu1 gasAcu1.allGenes.gp.gz
    #	checked: 29096 failed: 0

    #	then continue with the load
    cd /hive/data/genomes/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=51 gasAcu1.ensGene.ra \
	> ensGene.51.load.log 2>&1

    #	it responds with the following make doc output:
########
#  gasAcu1 - Stickleback - Ensembl Genes version 51  (DONE - 2008-12-04 hiram)
    ssh kkr14u07
    cd /hive/data/genomes/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=51 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /hive/data/genomes/gasAcu1/bed/ensGene.51
    featureBits gasAcu1 ensGene
    # 36787204 bases of 446627861 (8.237%) in intersection

 *** All done!  (through the 'makeDoc' step)
 *** Steps were performed in /hive/data/genomes/gasAcu1/bed/ensGene.51

############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes version 50  (DONE - 2008-08-11 - hiram)
    # requires extra attention after the all database for loop attempt
    cd /cluster/data/gasAcu1/bed/ensGene.50/process
    mv mv gasAcu1.allGenes.gp.gz gasAcu1.allGenes.gp.beforeLift.gz
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin
    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    gzip gasAcu1.allGenes.gp

    #	then continue with the load
    cd /cluster/data/gasAcu1
    doEnsGeneUpdate.pl -continue=load -ensVersion=50 gasAcu1.ensGene.ra \
	> bed/ensGene.50/load.log 2>&1

    #	it responds with the following make doc output:

#  gasAcu1 - Stickleback - Ensembl Genes version 50  (DONE - 2008-08-11 -
#  hiram)
    ssh kkstore05
    cd /cluster/data/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=50 gasAcu1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/gasAcu1/bed/ensGene.50
    featureBits gasAcu1 ensGene
    # 36956798 bases of 446627861 (8.275%) in intersection

############################################################################
#  oryLat1 - Medaka - Ensembl Genes version 50 (DONE - 2008-08-11 - hiram)
    #	need to eliminate the bad lifts due to our chrUn error at this time
    cd  /cluster/data/oryLat1/bed/ensGene.50
    grep "invalid chrom" *.errors.txt | cut -d\  -f2 | sort -u > badLifts.name
    hgsql -N -e "select transcript from ensGtp;" oryLat1 \
	| sort > ensGtp.transcript
    comm -13 ensGene.name ensGtp.transcript | sort > ensGtp.not.ensGene.name
    comm -13 ensGene.name ensPep.name | sort > ensPep.not.ensGene.name
    #	do the badLifts account for all the missing peptides:
    comm -12 badLifts.name ensPep.not.ensGene.name | wc -l
    #	2608 -> yes, this is the count of missing peptides.
    #	So, remove this set of business from ensPep table
    for N in `cat badLifts.name`
do
    hgsql -e "delete from ensPep where name=\"$N\";" oryLat1
    echo $N
done
    #	And from the ensGtp table
    for N in `cat badLifts.name`
do
    hgsql -e "delete from ensGtp where transcript=\"$N\";" oryLat1
    echo $N
done
    #
    genePredCheck -db=oryLat1 ensGene
    #	checked: 22463 failed: 0

#############################################################################
#############################################################################
# ensembl 49 updates (DONE - 2009-03-31 - Hiram)

#	hg18 and loxAfr1 were done manually to verify operations, then,
#	all at once, except for those two:
    ssh hgwdev
    cd /scratch/tmp
    hgsql -N -e "select db from trackVersion where version=48;" hgFixed \
	| sort -u | egrep -v "hg18|loxAfr1" | while read DB
do
    echo $DB
    cd /cluster/data/${DB} && \
	$HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	    -verbose=2 -ensVersion=49 ${DB}.ensGene.ra
done > ensGene.49.update.log 2>&1

    #	bosTau3 failed due to the peptides to gene ratio check
    #	oryLat1 failed due to the peptides to gene ratio check
    #	fr2 failed due to chrMT naming problem - chrMT is new to their release
    #	gasAcu1 failed due to attempted genePredCheck from kkr1u00 ?
    #	actually gasAcu1 needs special processing, it has an extra couple
    #	of lifts to be done.
    #	mm9 failed, says "download" was already done
    #	sacCer1 failed, due to incorrect peptide file name
    #	felCat3, ornAna1, otoGar1, tupBel1 failed due to wget failures
    for DB in felCat3 ornAna1 otoGar1 tupBel1
do
    echo $DB
    rm -fr /cluster/data/${DB}/bed/ensGene.49/download
    cd /cluster/data/${DB} && \
	$HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	    -verbose=2 -ensVersion=49 ${DB}.ensGene.ra
done > ensGene.49.secondTry.log 2>&1

    #	Interestingly, when the chooseFileServer discovers the file server
    #	is busy, it goes to chooseWorkhorse and gets one of the kki nodes
    #	which can not wget.  So, trying a couple of these again, and
    #	the new to v49 genome ponAbe2:
    for DB in felCat3 mm9 ponAbe2
do
    echo $DB
    rm -fr /cluster/data/${DB}/bed/ensGene.49/download
    cd /cluster/data/${DB} && \
	$HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	    -verbose=2 -ensVersion=49 ${DB}.ensGene.ra
done > ensGene.49.thirdTry.log 2>&1
    #	that worked just fine.

############################################################################
#  The version 49 update individual entries follow:
############################################################################
#  bosTau3 - Cow - Ensembl Genes (DONE - 2008-04-22 - hiram)
#	This one had to be done manually.  There was a chrUn lift file that
#	needed to be made to turn the Ensembl chrUn coordinates into
#	the UCSC chrUn.003.N contig coordinates
#	It was run with a geneScaffolds yes to fetch the MySQL tables,
#	Then a script was run:
    ssh hgwdev
    cd /cluster/data/bosTau3
    cat << '_EOF_' > jkStuff/chrUnLiftAcross.pl
#!/usr/bin/env perl

use strict;
use warnings;

open (FH,"<chrUn.seq_region.txt") or die "can not read chrUn.seq_region.txt";

my $start = 0;
my $end = 0;
my $gap = 10000;

while (my $line = <FH>) {
    chomp $line;
    my ($region_id, $name, $type, $size) = split('\s+', $line);
    $end = $start + $size;
    printf "chrUn\t%d\t%d\t%s\t%d\t%d\t+\n", $start, $end, $name, 0, $size;
    $start += $size + $gap;
}

close (FH);
'_EOF_'
    # << happy emacs
    chmod +x jkStuff/chrUnLiftAcross.pl
    cd bed/ensGene.49/download
    ../../../jkStuff/chrUnLiftAcross.pl > ../../../jkStuff/chrUn.liftAcross.txt
    #	then use that chrUn.liftAcross.txt in the process script procedure
    #	after that, comment out the gene Scaffolds and -continue=load
    ssh kkstore05
    cd /cluster/data/bosTau3
    cat << '_EOF_' > bosTau3.ensGene.ra
# required db variable
db bosTau3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9UX][0-9n]*\)/chr\1/; /^MT/d"
# cause SQL tables to be fetched to see if chrUn can be fixed up
# geneScaffolds yes
'_EOF_'
#  << happy emacs
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
	-ensVersion=49 -stop=process bosTau3.ensGene.ra
    #	do the manual fixups as described above

    doEnsGeneUpdate.pl -continue=load -ensVersion=49 bosTau3.ensGene.ra
    ssh hgwdev
    cd /cluster/data/bosTau3/bed/ensGene.49
    featureBits bosTau3 ensGene
    # 39278215 bases of 2731807384 (1.438%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore04
    cd /cluster/data/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 canFam2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/canFam2/bed/ensGene.49
    featureBits canFam2 ensGene
    # 34551622 bases of 2384996543 (1.449%) in intersection
############################################################################
#  ci2 - C. intestinalis - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore02
    cd /cluster/data/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 ci2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ci2/bed/ensGene.49
    featureBits ci2 ensGene
    # 20121618 bases of 141233565 (14.247%) in intersection

############################################################################
#  cioSav2 - C. savignyi - Ensembl Genes (DONE - 2008-04-03 - hiram)
    ssh kkstore02
    cd /cluster/data/cioSav2
    cat << '_EOF_' > cioSav2.ensGene.ra
# required db variable
db cioSav2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
# nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 cioSav2.ensGene.ra
    #	the names in this assembly exceeded our usual size of 18 characters
    #	have to do the load manually with a customized ensGtp.sql
    #	to set the index sizes to 19
    ssh hgwdev
    cd /cluster/data/cioSav2/bed/ensGene.49
    featureBits cioSav2 ensGene
    # 16603725 bases of 173749524 (9.556%) in intersection
############################################################################
#  danRer5 - Zebrafish - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore06
    cd /cluster/data/danRer5
    cat << '_EOF_' > danRer5.ensGene.ra
# required db variable
db danRer5
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 danRer5.ensGene.ra
    ssh hgwdev
    cd /cluster/data/danRer5/bed/ensGene.49
    featureBits danRer5 ensGene
    # 36884539 bases of 1435609608 (2.569%) in intersection

############################################################################
#  dasNov1 - Armadillo - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore04
    cd /cluster/data/dasNov1
    cat << '_EOF_' > dasNov1.ensGene.ra
# required db variable
db dasNov1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSDNOT00000004471 no exonFrame on CDS exon 7
# ENSDNOT00000007696 no exonFrame on CDS exon 8
# ENSDNOT00000019234 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 dasNov1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/dasNov1/bed/ensGene.49
    featureBits dasNov1 ensGene
    # 22682674 bases of 2146362222 (1.057%) in intersection

############################################################################
#  echTel1 - Tenrec - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore02
    cd /cluster/data/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSETET00000011172 no exonFrame on CDS exon 14
# ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 echTel1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/echTel1/bed/ensGene.49
    featureBits echTel1 ensGene
    # 25450282 bases of 2111581369 (1.205%) in intersection

############################################################################
#  felCat3 - Cat - Ensembl Genes (DONE - 2008-04-01 - hiram)
    ssh kkstore05
    cd /cluster/data/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSFCAT00000006929 no exonFrame on CDS exon 15
# ENSFCAT00000009384 no exonFrame on CDS exon 0
# ENSFCAT00000010965 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 felCat3.ensGene.ra
    ssh hgwdev
    cd /cluster/data/felCat3/bed/ensGene.49
    featureBits felCat3 ensGene
    # 20984470 bases of 1642698377 (1.277%) in intersection

############################################################################
#  galGal3 - Chicken - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore03
    cd /cluster/data/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 galGal3.ensGene.ra
    ssh hgwdev
    cd /cluster/data/galGal3/bed/ensGene.49
    featureBits galGal3 ensGene
    # 30853095 bases of 1042591351 (2.959%) in intersection

############################################################################

#  gasAcu1 - Stickleback - Ensembl Genes (DONE - 2008-04-02 - hiram)
    ssh kkstore05
    cd /cluster/data/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 gasAcu1.ensGene.ra

    #	to fix the processing failures, in the process directory:
    zcat gasAcu1.allGenes.gp.beforeLift.gz \
	| liftUp -extGenePred -type=.gp gasAcu1.scaffolds.gp \
	    ../../../jkStuff/contigsToScaffolds.lft carry stdin

    liftUp -extGenePred gasAcu1.allGenes.gp \
	../../../jkStuff/UCSC.chromToScaffoldSansGaps.lft carry \
	    gasAcu1.scaffolds.gp
    gzip gasAcu1.scaffolds.gp
    #	then continue with the load
    doEnsGeneUpdate.pl -continue=load -ensVersion=49 gasAcu1.ensGene.ra

    ssh hgwdev    cd /cluster/data/gasAcu1/bed/ensGene.49    featureBits gasAcu1 ensGene
    # 36957312 bases of 446627861 (8.275%) in intersection
############################################################################
#  fr2 - Fugu - Ensembl Genes (DONE - 2008-04-02 - hiram)
    #	fixed the fr2.ensGene.ra file to translate MT into chrM
    ssh kkstore02
    cd /cluster/data/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
nameTranslation "s/^MT/chrM/;"
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 fr2.ensGene.ra
    ssh hgwdev    cd /cluster/data/fr2/bed/ensGene.49    featureBits fr2 ensGene
    # 34552659 bases of 393312790 (8.785%) in intersection

############################################################################
#  mm9 - Mouse - Ensembl Genes (DONE - 2008-04-01 - hiram)
    ssh kkstore06
    cd /cluster/data/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 mm9.ensGene.ra
    ssh hgwdev
    cd /cluster/data/mm9/bed/ensGene.49
    featureBits mm9 ensGene
    # 60655001 bases of 2620346127 (2.315%) in intersection

############################################################################
#  ornAna1 - Platypus - Ensembl Genes (DONE - 2008-04-03 - hiram)
    ssh kkstore05
    cd /cluster/data/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 ornAna1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ornAna1/bed/ensGene.49
    featureBits ornAna1 ensGene
    # 24473045 bases of 1842236818 (1.328%) in intersection

############################################################################
#  oryCun1 - Rabbit - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore04
    cd /cluster/data/oryCun1
    cat << '_EOF_' > oryCun1.ensGene.ra
# required db variable
db oryCun1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSOCUT00000004627 no exonFrame on CDS exon 3
# ENSOCUT00000009485 no exonFrame on CDS exon 9
# ENSOCUT00000014840 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 oryCun1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/oryCun1/bed/ensGene.49
    featureBits oryCun1 ensGene
    # 22761080 bases of 2076044328 (1.096%) in intersection

############################################################################
#  oryLat1 - Medaka - Ensembl Genes (DONE - 2008-03-31 - 04-15 - hiram)
    ssh kkstore04
    cd /cluster/data/oryLat1
    cat << '_EOF_' > oryLat1.ensGene.ra
# required db variable
db oryLat1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 2,687 genes that haven't lifted properly yet
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 oryLat1.ensGene.ra
    featureBits oryLat1 ensGene
    #	29680340 bases of 700386597 (4.238%) in intersection

    #	version 49 update had a big change in the Medaka genes.
    #	Many of the new genes are in the Ensembl Gene Scaffold
    #	(actually here ultracontigs) coordinate space that will not
    #	translate to our chrUn assembly.  So, some fixups are
    #	necessary to get joinerCheck to be a bit more happy.
    ssh hgwdev
    cd ~/kent/src/hg/makeDb/schema
    joinerCheck -keys -database=oryLat1 -identifier=ensemblTranscriptId \
	all.joiner
# Checking keys on database oryLat1
# oryLat1.ensGtp.transcript - hits 22447 of 25134
# Error: 2687 of 25134 elements of oryLat1.ensGtp.transcript are not in key ensGene.name line 1726 of all.joiner
# Example miss: ENSORLT00000022895
# oryLat1.ensPep.name - hits 22053 of 24661
# Error: 2608 of 24661 elements of oryLat1.ensPep.name are not in key ensGene.name line 1728 of all.joiner
# Example miss: ENSORLT00000022872
    cd  /cluster/data/oryLat1/bed/ensGene.49
    grep "invalid chrom" *.errors.txt | cut -d\  -f2 | sort -u > badLifts.name
    hgsql -N -e "select transcript from ensGtp;" oryLat1 \
	| sort > ensGtp.transcript
    comm -13 ensGene.name ensGtp.transcript | sort > ensGtp.not.ensGene.name
    comm -13 ensGene.name ensPep.name | sort > ensPep.not.ensGene.name
    #	do the badLifts account for all the missing peptides:
    comm -12 badLifts.name ensPep.not.ensGene.name | wc -l
    #	2608 -> yes, this is the count of missing peptides.
    #	So, remove this set of business from ensPep table
    for N in `cat badLifts.name`
do
    hgsql -e "delete from ensPep where name=\"$N\";" oryLat1
    echo $N
done
    #	And from the ensGtp table
    for N in `cat badLifts.name`
do
    hgsql -e "delete from ensGtp where transcript=\"$N\";" oryLat1
    echo $N
done

############################################################################

############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes (DONE - 2008-04-03 - hiram)
    ssh kkstore05
    cd /cluster/data/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 otoGar1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/otoGar1/bed/ensGene.49
    featureBits otoGar1 ensGene
    # 23497004 bases of 1969052059 (1.193%) in intersection

############################################################################
#  panTro2 - Chimp - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore04
    cd /cluster/data/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 panTro2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/panTro2/bed/ensGene.49
    featureBits panTro2 ensGene
    # 51932042 bases of 2909485072 (1.785%) in intersection

############################################################################
#  ponAbe2 - Orangutan - Ensembl Genes (DONE - 2008-04-01 - hiram)
    ssh kkstore02
    cd /cluster/data/ponAbe2
    cat << '_EOF_' > ponAbe2.ensGene.ra
# required db variable
db ponAbe2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optional haplotype lift-down from Ensembl full chrom coordinates
#       to UCSC simple haplotype coordinates
# haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 ponAbe2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/ponAbe2/bed/ensGene.49
    featureBits ponAbe2 ensGene
    # 37382766 bases of 3093572278 (1.208%) in intersection

############################################################################
#  rheMac2 - Rhesus - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore01
    cd /cluster/data/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 rheMac2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/rheMac2/bed/ensGene.49
    featureBits rheMac2 ensGene
    # 44288934 bases of 2646704109 (1.673%) in intersection

############################################################################
#  rn4 - Rat - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore06
    cd /cluster/data/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 rn4.ensGene.ra
    ssh hgwdev
    cd /cluster/data/rn4/bed/ensGene.49
    featureBits rn4 ensGene
    # 43706532 bases of 2571531505 (1.700%) in intersection

############################################################################
#   sacCer1 - S. cerevisiae - Ensembl Genes (DONE - 2008-04-03 - hiram)
    ssh kkstore03
    cd /cluster/data/sacCer1
    cat << '_EOF_' > sacCer1.ensGene.ra
# required db variable
db sacCer1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chr8/; s/^VII/chr7/; s/^VI/chr6/; s/^V/chr5/; s/^XIII/chr13/; s/^XII/chr12/; s/^XIV/chr14/; s/^XI/chr11/; s/^XVI/chr16/; s/^XV/chr15/; s/^X/chr10/; s/^III/chr3/; s/^IV/chr4/; s/^II/chr2/; s/^IX/chr9/; s/^I/chr1/; s/^MT/chrM/; /2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 sacCer1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/sacCer1/bed/ensGene.49
    featureBits sacCer1 ensGene
    # 8908962 bases of 12156302 (73.287%) in intersection
    #	this genome has trouble with featureBits: table gap doesn't exist

############################################################################
#  tetNig1 - Tetraodon - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore03
    cd /cluster/data/tetNig1
    cat << '_EOF_' > tetNig1.ensGene.ra
# required db variable
db tetNig1
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 tetNig1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/tetNig1/bed/ensGene.49
    featureBits tetNig1 ensGene
    # 37844709 bases of 342403326 (11.053%) in intersection

############################################################################
#  tupBel1 - TreeShrew - Ensembl Genes (DONE - 2008-04-03 - hiram)
    ssh kkstore05
    cd /cluster/data/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#       names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSTBET00000015831 no exonFrame on CDS exon 11
# ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 tupBel1.ensGene.ra
    ssh hgwdev
    cd /cluster/data/tupBel1/bed/ensGene.49
    featureBits tupBel1 ensGene
    # 22740204 bases of 2137225476 (1.064%) in intersection

############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes (DONE - 2008-03-31 - hiram)
    ssh kkstore04
    cd /cluster/data/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=49 xenTro2.ensGene.ra
    ssh hgwdev
    cd /cluster/data/xenTro2/bed/ensGene.49
    featureBits xenTro2 ensGene
    # 29161645 bases of 1359412157 (2.145%) in intersection

############################################################################

############################################################################
# ensembl 48 updates
############################################################################
#	The following was generated in the following manner:
    ssh hgwdev
    cd /tmp
for D in bosTau3 canFam2 ci2 danRer5 dasNov1 echTel1 felCat3 fr2 galGal3 \
	gasAcu1 hg18 loxAfr1 mm9 ornAna1 oryCun1 oryLat1 otoGar1 panTro2 \
	rheMac2 rn4 sacCer1 tetNig1 tupBel1 xenTro2
do
    cd /cluster/data/${D}
    $HOME/kent/src/hg/utils/automation/doEnsGeneUpdate.pl \
        -verbose=0 -ensVersion=48 ${D}.ensGene.ra -continue=makeDoc
done

    #	The database names were found by the following:
    cd /cluster/data
    ls -d */*.ensGene.ra | sed -e "s#/.*##"

    #  The following is the output of the above for loop:

############################################################################
#  bosTau3 - Cow - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore05
    cd /cluster/data/bosTau3
    cat << '_EOF_' > bosTau3.ensGene.ra
# required db variable
db bosTau3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^Un/d; s/^\([0-9X][0-9]*\)/chr\1/; /^MT/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 bosTau3.ensGene.ra
    featureBits bosTau3 ensGene
    # 35387571 bases of 2731807384 (1.295%) in intersection

############################################################################
#  canFam2 - Dog - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore04
    cd /cluster/data/canFam2
    cat << '_EOF_' > canFam2.ensGene.ra
# required db variable
db canFam2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 canFam2.ensGene.ra
    featureBits canFam2 ensGene
    # 34551622 bases of 2384996543 (1.449%) in intersection

############################################################################
#  ci2 - C. intestinalis - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore02
    cd /cluster/data/ci2
    cat << '_EOF_' > ci2.ensGene.ra
# required db variable
db ci2
# optional nameTranslation, the sed command that will transform
#       Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][pq]\)/chr0\1/; s/^\([0-9][0-9][pq]\)/chr\1/; "
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 ci2.ensGene.ra
    featureBits ci2 ensGene
    # 20121618 bases of 141233565 (14.247%) in intersection

############################################################################
#  danRer5 - Zebrafish - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore06
    cd /cluster/data/danRer5
    cat << '_EOF_' > danRer5.ensGene.ra
# required db variable
db danRer5
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 danRer5.ensGene.ra
    featureBits danRer5 ensGene
    # 36884539 bases of 1435609608 (2.569%) in intersection
############################################################################
############################################################################
#  dasNov1 - Armadillo - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore04
    cd /cluster/data/dasNov1
    cat << '_EOF_' > dasNov1.ensGene.ra
# required db variable
db dasNov1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSDNOT00000004471 no exonFrame on CDS exon 7
# ENSDNOT00000007696 no exonFrame on CDS exon 8
# ENSDNOT00000019234 no exonFrame on CDS exon 0
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 dasNov1.ensGene.ra
    featureBits dasNov1 ensGene
    # 22684492 bases of 2146362222 (1.057%) in intersection
############################################################################
############################################################################
#  echTel1 - Tenrec - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore02
    cd /cluster/data/echTel1
    cat << '_EOF_' > echTel1.ensGene.ra
# required db variable
db echTel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSETET00000011172 no exonFrame on CDS exon 14
# ENSETET00000018714 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 echTel1.ensGene.ra
    featureBits echTel1 ensGene
    # 25450282 bases of 2111581369 (1.205%) in intersection
############################################################################
############################################################################
#  felCat3 - Cat - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore05
    cd /cluster/data/felCat3
    cat << '_EOF_' > felCat3.ensGene.ra
# required db variable
db felCat3
# do we need to translate geneScaffold coordinates
geneScaffolds yes
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSFCAT00000006929 no exonFrame on CDS exon 15
# ENSFCAT00000009384 no exonFrame on CDS exon 0
# ENSFCAT00000010965 no exonFrame on CDS exon 1

'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 felCat3.ensGene.ra
    featureBits felCat3 ensGene
    # 20984470 bases of 1642698377 (1.277%) in intersection
############################################################################
############################################################################
#  fr2 - Fugu - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore02
    cd /cluster/data/fr2
    cat << '_EOF_' > fr2.ensGene.ra
# required db variable
db fr2
# lift Ensembl scaffolds to UCSC chrUn coordinates
liftUp /cluster/data/fr2/jkStuff/liftAll.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 fr2.ensGene.ra
    featureBits fr2 ensGene
    # 32309856 bases of 393312790 (8.215%) in intersection
############################################################################
############################################################################
#  galGal3 - Chicken - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore03
    cd /cluster/data/galGal3
    cat << '_EOF_' > galGal3.ensGene.ra
# required db variable
db galGal3
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9EWXYZ][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 galGal3.ensGene.ra
    featureBits galGal3 ensGene
    # 30853095 bases of 1042591351 (2.959%) in intersection
############################################################################
############################################################################
#  gasAcu1 - Stickleback - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore05
    cd /cluster/data/gasAcu1
    cat << '_EOF_' > gasAcu1.ensGene.ra
# required db variable
db gasAcu1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^group\([IUVX]\)/chr\1/; s/^MT/chrM/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 gasAcu1.ensGene.ra
    featureBits gasAcu1 ensGene
    # 36960585 bases of 446627861 (8.275%) in intersection
############################################################################
############################################################################
#  hg18 - Human - Ensembl Genes (DONE - 2008-02-27 - hiram)
    ssh kkstore02
    cd /cluster/data/hg18
    cat << '_EOF_' > hg18.ensGene.ra
# required db variable
db hg18
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
# optional haplotype lift-down from Ensembl full chrom coordinates
#	to UCSC simple haplotype coordinates
haplotypeLift /cluster/data/hg18/jkStuff/ensGene.haplotype.lift
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 hg18.ensGene.ra
    featureBits hg18 ensGene
    # 66667439 bases of 2881515245 (2.314%) in intersection
############################################################################
############################################################################
#  loxAfr1 - Elephant - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore04
    cd /cluster/data/loxAfr1
    cat << '_EOF_' > loxAfr1.ensGene.ra
# required db variable
db loxAfr1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the one gene that has an invalid structure from Ensembl:
# ENSLAFT00000000586 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 loxAfr1.ensGene.ra
    featureBits loxAfr1 ensGene
    # 23294087 bases of 2295548473 (1.015%) in intersection
############################################################################
############################################################################
#  mm9 - Mouse - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore06
    cd /cluster/data/mm9
    cat << '_EOF_' > mm9.ensGene.ra
# required db variable
db mm9
# optional liftRandoms yes/no or absent
liftRandoms yes
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 mm9.ensGene.ra
    featureBits mm9 ensGene
    # 62429979 bases of 2620346127 (2.383%) in intersection
############################################################################
############################################################################
#  ornAna1 - Platypus - Ensembl Genes (DONE - 2008-02-26 - hiram)
    ssh kkstore05
    cd /cluster/data/ornAna1
    cat << '_EOF_' > ornAna1.ensGene.ra
# required db variable
db ornAna1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^\(X[0-9]\)/chr\1/; s/^MT/chrM/"
# ignore genes that do not properly convert to a gene pred, and contig
#	names that are not in the UCSC assembly
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 ornAna1.ensGene.ra
    featureBits ornAna1 ensGene
    # 24477086 bases of 1842236818 (1.329%) in intersection
############################################################################
############################################################################
#  oryCun1 - Rabbit - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore04
    cd /cluster/data/oryCun1
    cat << '_EOF_' > oryCun1.ensGene.ra
# required db variable
db oryCun1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# ignore genes that do not properly convert to a gene pred, and contig
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the three genes that have invalid structures from Ensembl:
# ENSOCUT00000004627 no exonFrame on CDS exon 3
# ENSOCUT00000009485 no exonFrame on CDS exon 9
# ENSOCUT00000014840 no exonFrame on CDS exon 3
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 oryCun1.ensGene.ra
    featureBits oryCun1 ensGene
    # 22763228 bases of 2076044328 (1.096%) in intersection
############################################################################
############################################################################
#  oryLat1 - Medaka - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore04
    cd /cluster/data/oryLat1
    cat << '_EOF_' > oryLat1.ensGene.ra
# required db variable
db oryLat1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9][0-9]*\)/chr\1/; s/^MT/chrM/"
# ignore 66 genes that haven't lifted properly yet
skipInvalid yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 oryLat1.ensGene.ra
    featureBits oryLat1 ensGene
    # 31757387 bases of 700386597 (4.534%) in intersection
############################################################################
############################################################################
#  otoGar1 - Bushbaby - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore05
    cd /cluster/data/otoGar1
    cat << '_EOF_' > otoGar1.ensGene.ra
# required db variable
db otoGar1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/otoGar1/jkStuff/ensGene.lft
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 otoGar1.ensGene.ra
    featureBits otoGar1 ensGene
    # 23498471 bases of 1969052059 (1.193%) in intersection
############################################################################
############################################################################
#  panTro2 - Chimp - Ensembl Genes (DONE - 2008-02-26 - hiram)
    ssh kkstore04
    cd /cluster/data/panTro2
    cat << '_EOF_' > panTro2.ensGene.ra
# required db variable
db panTro2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 panTro2.ensGene.ra
    featureBits panTro2 ensGene
    # 51969416 bases of 2909485072 (1.786%) in intersection
############################################################################
############################################################################
#  rheMac2 - Rhesus - Ensembl Genes (DONE - 2008-02-28 - hiram)
    ssh kkstore01
    cd /cluster/data/rheMac2
    cat << '_EOF_' > rheMac2.ensGene.ra
# required db variable
db rheMac2
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "/^109[0-9]*/d; /^MT/d; s/^\([0-9XY][0-9]*\)/chr\1/;"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 rheMac2.ensGene.ra
    featureBits rheMac2 ensGene
    # 44305902 bases of 2646704109 (1.674%) in intersection
############################################################################
############################################################################
#  rn4 - Rat - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore06
    cd /cluster/data/rn4
    cat << '_EOF_' > rn4.ensGene.ra
# required db variable
db rn4
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/"
# optionally update the knownToEnsembl table after ensGene updated
knownToEnsembl yes
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 rn4.ensGene.ra
    featureBits rn4 ensGene
    # 44218002 bases of 2571531505 (1.720%) in intersection
############################################################################
############################################################################
#  sacCer1 - S. cerevisiae - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore03
    cd /cluster/data/sacCer1
    cat << '_EOF_' > sacCer1.ensGene.ra
# required db variable
db sacCer1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^VIII/chr8/; s/^VII/chr7/; s/^VI/chr6/; s/^V/chr5/; s/^XIII/chr13/; s/^XII/chr12/; s/^XIV/chr14/; s/^XI/chr11/; s/^XVI/chr16/; s/^XV/chr15/; s/^X/chr10/; s/^III/chr3/; s/^IV/chr4/; s/^II/chr2/; s/^IX/chr9/; s/^I/chr1/; s/^MT/chrM/; /2-micron/d"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 sacCer1.ensGene.ra
    featureBits sacCer1 ensGene
    # table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
table gap doesn't exist
8908962 bases of 12156302 (73.287%) in intersection
############################################################################
############################################################################
#  tetNig1 - Tetraodon - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore03
    cd /cluster/data/tetNig1
    cat << '_EOF_' > tetNig1.ensGene.ra
# required db variable
db tetNig1
# optional nameTranslation, the sed command that will transform
#	Ensemble names to UCSC names.  With quotes just to make sure.
nameTranslation "s/^\([0-9XY][0-9]*\)/chr\1/; s/^MT/chrM/; s/^Un/chrUn/"
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 tetNig1.ensGene.ra
    featureBits tetNig1 ensGene
    # 37871392 bases of 342403326 (11.060%) in intersection
############################################################################
############################################################################
#  tupBel1 - TreeShrew - Ensembl Genes (DONE - 2008-02-29 - hiram)
    ssh kkstore05
    cd /cluster/data/tupBel1
    cat << '_EOF_' > tupBel1.ensGene.ra
# required db variable
db tupBel1
# do we need to translate geneScaffold coordinates
geneScaffolds yes
# after geneScaffold conversions, change Ensembl chrom names to UCSC names
liftUp /cluster/data/tupBel1/jkStuff/ensGene.lft
# ignore genes that do not properly convert to a gene pred, and contig
#	names that are not in the UCSC assembly
skipInvalid yes
# ignore the two genes that have invalid structures from Ensembl:
# ENSTBET00000015831 no exonFrame on CDS exon 11
# ENSTBET00000013522 no exonFrame on CDS exon 1
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 tupBel1.ensGene.ra
    featureBits tupBel1 ensGene
    # 22740204 bases of 2137225476 (1.064%) in intersection
############################################################################
############################################################################
#  xenTro2 - X. tropicalis - Ensembl Genes (DONE - 2008-03-03 - hiram)
    ssh kkstore04
    cd /cluster/data/xenTro2
    cat << '_EOF_' > xenTro2.ensGene.ra
# required db variable
db xenTro2
'_EOF_'
#  << happy emacs

    doEnsGeneUpdate.pl -ensVersion=48 xenTro2.ensGene.ra
    featureBits xenTro2 ensGene
    # 29163250 bases of 1359412157 (2.145%) in intersection
############################################################################
############################################################################


############################################################################
#  Archive of Robert's procedure to update the Ensembl gene tracks
############################################################################
#load ensembl gene predictions (build 43) and related tables by downloading from ensembl ftp site (Robert Mar 14,2007)
#following tables are loaded
#ensGene ensGeneChk ensGeneChkDetails ensGeneXref ensGtp ensInfo ensPseudo superfamily sfDescription knownToEnsembl
#scripts used:
#hgLoadEnsembl - main driver script that calls ensemblDownload, ensemblDbImport and loadEnsembl
#ensemblDownload - downloads data from ensembl ftp site to directory, creates tables.tmp containing list of ensembl tables to be loaded
#ensemblDbImport - loads tables into temporary database using the native ensembl mysql table structure
#exportEnsembl - creates genePred files from the ensembl temporary database
#geneCheckAndLoad - runs gene-check on a genePred and loads the two details tables into the database.
#ensemblSuperfamily -  load superfamily track using Ensembl cross reference
#loadEnsembl - loads data created by exportEnsembl into ensGene, creates and loads ensInfo table with attributes
#ensemblGetAll - generates script to load all ensembl builds, requires manual editting to add ucsc database
#ensGeneToGenePred - awk script called by loadEnsembl that converts dump of ensembl exons to genePred format
#mkRandomNTLift - read ctgPos table and make lift file
cd ~/kent/src/hg/makeDb/outside/ensembl
make
mkdir -p /cluster/store8/ensembl/run.build43
cd /cluster/store8/ensembl/run.build43
mkRandomNTLift hg18 > lift.hg18
mkRandomNTLift mm8 > lift.mm8
hgLoadEnsembl -l /cluster/store8/ensembl/run.build43/lift.hg18 homo_sapiens core_43_36e /cluster/store8/ensembl/homo_sapiens_43_36e hg18
hgLoadEnsembl -l /cluster/store8/ensembl/run.build43/lift.mm8 mus_musculus core_43_36d /cluster/store8/ensembl/mus_musculus_43_36d mm8
hgLoadEnsembl rattus_norvegicus core_43_34m /cluster/store8/ensembl/rattus_norvegicus_43_34m rn4
hgLoadEnsembl pan_troglodytes core_43_21b /cluster/store8/ensembl/pan_troglodytes_43_21b panTro2
hgLoadEnsembl canis_familiaris core_43_2a /cluster/store8/ensembl/canis_familiaris_43_2a canFam2
#hgLoadEnsembl danio_rerio core_43_6d /cluster/store8/ensembl/danio_rerio_43_6d danRer4
